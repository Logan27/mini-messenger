
> messenger-backend@1.0.0 test
> cross-env NODE_ENV=test DB_HOST=127.0.0.1 NODE_OPTIONS=--experimental-vm-modules jest

node.exe : (node:30804) ExperimentalWarning: VM Modules is 
an experimental feature and might change at any time
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program 
Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ((node:30804)  
   Ex...nge at any time:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
(Use `node --trace-warnings ...` to show where the warning 
was created)
PASS tests/debug_env.test.js
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T10:13:12.297Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      NODE_ENV: test

      at Object.<anonymous> (tests/debug_env.test.js:5:13)

    console.log
      DB_HOST: 127.0.0.1

      at Object.<anonymous> (tests/debug_env.test.js:6:13)

    console.log
      DATABASE_URL: postgresql://messenger:messenger_passwo
rd@127.0.0.1:5432/messenger

      at Object.<anonymous> (tests/debug_env.test.js:7:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

(node:35424) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:32632) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:40144) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:28164) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:14 +0000] "GET /api/admin/users HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "POST /api/auth/register HTTP/1.1" 201 357 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "GET /api/admin/users HTTP/1.1" 403 117 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "POST /api/auth/register HTTP/1.1" 409 88 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "GET /api/admin/users HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "POST /api/auth/register HTTP/1.1" 409 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "POST /api/auth/register HTTP/1.1" 400 210 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "POST /api/auth/register HTTP/1.1" 400 342 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "POST /api/auth/register HTTP/1.1" 400 175 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "POST /api/auth/register HTTP/1.1" 400 185 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:15 +0000] "GET /api/admin/users HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:16 +0000] "GET /api/admin/users?page=1&limit=3 HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:16 +0000] "POST /api/auth/login HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:16 +0000] "GET /api/admin/users?role=admin HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:17 +0000] "GET /api/admin/users?status=pending HTTP/1.1" 200 148 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:17 +0000] "POST /api/auth/login HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:17 +0000] "GET /api/admin/users/pending HTTP/1.1" 200 137 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:17 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:18 +0000] "PUT /api/admin/users/832c5fed-7478-44fc-b481-70da7265bd0f/approve HTTP/1.1" 200 315 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:18 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:18 +0000] "POST /api/auth/login HTTP/1.1" 403 135 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:19 +0000] "PUT /api/admin/users/55a28f1c-4bf1-420d-974a-86b7057cd638/approve HTTP/1.1" 200 314 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:19 +0000] "POST /api/auth/login HTTP/1.1" 403 136 "-" "-"
PASS tests/notification-settings.test.js (10.591 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T10:13:12.296Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:12.636Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.039Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.371Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:15.702Z [[32minfo[39m]: 
Notification settings updated for user 
cc3c39c5-cef8-48b1-b7c0-025b704ee3aa

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.711Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:16.048Z [[31merror[39m]: Update 
user notification settings service error: Invalid field: 
invalidField
      {
        "stack": "Error: Invalid field: invalidField\n    
at NotificationSettingsService.validateSettingsUpdate (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:377:15)\n    at 
NotificationSettingsService.updateUserSettings (C:\\messeng
er\\backend\\src\\services\\notificationSettingsService.js:
52:12)\n    at Object.<anonymous> (C:\\messenger\\backend\\
tests\\notification-settings.test.js:177:37)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:16.055Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:16.375Z [[32minfo[39m]: 
Notification settings updated for user 
e107913b-31b7-43f5-87c1-2c31bb2de422

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:16.382Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:16.731Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:18.046Z [[32minfo[39m]: 
Notification settings retrieved for user 
testuser1766398397726

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒöö Emitting WebSocket event: 
notification-settings:updated to userId: 
a4ba28c5-ecd6-4174-9a88-5cf10365a7bb

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:430:15)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:438:25)
      at NotificationSettingsController.updateSettings 
(src/controllers/notificationSettingsController.js:133:7)
      at Object.<anonymous> 
(tests/notification-settings.test.js:301:7)

    console.log
      Γ£à WebSocket event emitted successfully: 
notification-settings:updated

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:439:17)

    console.log
      2025-12-22T10:13:18.377Z [[32minfo[39m]: 
Notification settings updated for user 
testuser1766398398049

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒöö Emitting WebSocket event: 
notification-settings:reset to userId: 
225253d4-081e-417e-b682-6fc29cb99012

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:430:15)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:438:25)
      at NotificationSettingsController.resetSettings 
(src/controllers/notificationSettingsController.js:198:7)
      at Object.<anonymous> 
(tests/notification-settings.test.js:321:7)

    console.log
      Γ£à WebSocket event emitted successfully: 
notification-settings:reset

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:439:17)

    console.log
      2025-12-22T10:13:18.719Z [[32minfo[39m]: 
Notification settings reset to defaults for user 
testuser1766398398378

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:19.032Z [[32minfo[39m]: 
Notification settings preview generated for user 
testuser1766398398720

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:19.349Z [[31merror[39m]: Update 
notification settings error: Validation error: Quiet hours 
start must be in HH:MM format
      {
        "name": "SequelizeValidationError",
        "errors": [
          {
            "message": "Quiet hours start must be in HH:MM 
format",
            "type": "Validation error",
            "path": "quietHoursStart",
            "value": "25:00",
            "origin": "FUNCTION",
            "instance": {
              "id": "571cfdc3-9f25-49c9-9983-e756b24553e6",
              "userId": 
"eb4629fd-123d-4058-a508-ce88c7345aa6",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "quietHoursStart": "25:00",
              "quietHoursEnd": "17:00",
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "createdAt": "2025-12-22T09:13:19.341Z",
              "updatedAt": "2025-12-22T10:13:19.348Z"
            },
            "validatorKey": "isValidTime",
            "validatorName": null,
            "validatorArgs": [],
            "original": {}
          }
        ],
        "stack": "SequelizeValidationError: Validation 
error: Quiet hours start must be in HH:MM format\n    at 
InstanceValidator._validate (C:\\messenger\\backend\\node_m
odules\\sequelize\\src\\instance-validator.js:78:13)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
InstanceValidator._validateAndRunHooks (C:\\messenger\\back
end\\node_modules\\sequelize\\src\\instance-validator.js:11
1:7)\n    at InstanceValidator.validate (C:\\messenger\\bac
kend\\node_modules\\sequelize\\src\\instance-validator.js:9
3:12)\n    at model.save (C:\\messenger\\backend\\node_modu
les\\sequelize\\src\\model.js:4077:7)\n    at model.update 
(C:\\messenger\\backend\\node_modules\\sequelize\\src\\mode
l.js:4343:12)\n    at 
NotificationSettingsController.updateSettings (C:\\messenge
r\\backend\\src\\controllers\\notificationSettingsControlle
r.js:130:31)\n    at Object.<anonymous> (C:\\messenger\\bac
kend\\tests\\notification-settings.test.js:369:7)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:19.668Z [[32minfo[39m]: 
Notification settings updated for user 
710c579a-df7b-4f92-bc67-50572e13ca74

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.676Z [[32minfo[39m]: 
Notification settings reset to defaults for user 
710c579a-df7b-4f92-bc67-50572e13ca74

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

::ffff:127.0.0.1 - - [22/Dec/2025:10:13:19 +0000] "PUT /api/admin/users/d3a9c035-d6d1-415a-8015-5a404b37ce22/reject HTTP/1.1" 200 365 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:20 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:20 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:20 +0000] "PUT /api/admin/users/bb0b25dd-5b5d-4c09-b801-127ed5d0a615/deactivate HTTP/1.1" 200 217 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:21 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:21 +0000] "PUT /api/admin/users/40cdc685-ec91-49c9-8a9e-7e5a49020187/deactivate HTTP/1.1" 403 156 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:22 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:22 +0000] "PUT /api/admin/users/ed055bdd-2488-45ae-936f-d24b1d13a44b/reactivate HTTP/1.1" 200 216 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:22 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:22 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:22 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:23 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:23 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:23 +0000] "GET /api/admin/audit-logs HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:23 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:23 +0000] "POST /api/auth/login HTTP/1.1" 423 107 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:23 +0000] "GET /api/admin/audit-logs?action=user_approve HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:23 +0000] "POST /api/auth/logout HTTP/1.1" 200 46 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:23 +0000] "POST /api/auth/logout HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "GET /api/admin/audit-logs?startDate=2025-12-22T10:13:24.102Z&endDate=2025-12-22T10:13:24.102Z HTTP/1.1" 400 56 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "POST /api/auth/refresh HTTP/1.1" 200 995 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "GET /api/notifications HTTP/1.1" 200 908 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "POST /api/auth/refresh HTTP/1.1" 401 95 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "GET /api/admin/reports HTTP/1.1" 200 141 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "POST /api/auth/forgot-password HTTP/1.1" 200 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "POST /api/auth/forgot-password HTTP/1.1" 200 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "GET /api/notifications?read=false HTTP/1.1" 200 549 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "POST /api/auth/forgot-password HTTP/1.1" 400 175 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "GET /api/admin/reports?status=pending HTTP/1.1" 200 141 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:24 +0000] "GET /api/notifications?type=message HTTP/1.1" 200 549 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "GET /api/notifications?page=1&limit=1 HTTP/1.1" 200 548 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "POST /api/auth/reset-password HTTP/1.1" 200 93 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "GET /api/notifications HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 321 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "GET /api/notifications?limit=150 HTTP/1.1" 400 207 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "PUT /api/admin/reports/ae636513-dcb8-4a61-a4bb-76e9d2e1063f/resolve HTTP/1.1" 400 55 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 321 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:25 +0000] "GET /api/notifications/unread-count HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:26 +0000] "GET /api/admin/announcements HTTP/1.1" 200 26 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:26 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 416 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:26 +0000] "PUT /api/notifications/f91fdca1-62c5-4313-a986-24d69ab1ebe6/read HTTP/1.1" 200 444 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:26 +0000] "POST /api/admin/announcements HTTP/1.1" 400 51 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:26 +0000] "PUT /api/notifications/71cbe214-dd3d-463e-8d7e-a39fc896b4e5/read HTTP/1.1" 200 450 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:26 +0000] "POST /api/admin/announcements HTTP/1.1" 400 49 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:27 +0000] "PUT /api/notifications/550e8400-e29b-41d4-a716-446655440000/read HTTP/1.1" 404 111 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:27 +0000] "PUT /api/notifications/invalid-id/read HTTP/1.1" 400 216 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:27 +0000] "PUT /api/admin/announcements/b7b8b37c-c9b2-45e8-a317-fb8b9085f141 HTTP/1.1" 400 55 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:27 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 200 99 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:28 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 200 112 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:28 +0000] "DELETE /api/admin/announcements/152bb045-1fca-40b7-9822-47d99d73f59e HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:28 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 400 204 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:28 +0000] "GET /api/admin/export/audit-logs/csv HTTP/1.1" 500 54 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:28 +0000] "DELETE /api/notifications/7650d9e4-a45a-4540-bd4e-866e9061449e HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:28 +0000] "GET /api/admin/export/reports/csv HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "DELETE /api/notifications/550e8400-e29b-41d4-a716-446655440000 HTTP/1.1" 404 111 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "GET /api/admin/export/statistics/csv HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "DELETE /api/notifications/invalid-id HTTP/1.1" 400 216 "-" "-"
PASS tests/auth.test.js (20.444 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T10:13:12.297Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.554Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.562Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.563Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.573Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      2025-12-22T10:13:14.746Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[81d4fb0a-19c6-49a2-b639-aaba4561b9cf] POST 
/api/auth/register 201 - 353ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.441Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[c3ad694b-80c9-4d73-9c52-35b33b834d60] POST 
/api/auth/register 409 - 6ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.801Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[63adb246-2c9d-4f8f-ba02-2c323ccb79e4] POST 
/api/auth/register 409 - 6ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.821Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[d41f8e1e-f9ee-40df-8bee-af8ae66df1e0] POST 
/api/auth/register 400 - 2ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.835Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[bc87e8ef-de02-4791-a289-ee3f43b2339e] POST 
/api/auth/register 400 - 2ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.844Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[560ea429-ebdc-4054-939b-0efc63af73f7] POST 
/api/auth/register 400 - 1ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.854Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[cf99f29b-c0b8-450a-a8fe-2c98f32266cd] POST 
/api/auth/register 400 - 2ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:16.180Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:16.517Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at login (C
:\\messenger\\backend\\src\\controllers\\authController.js:
236:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:16.518Z [[32minfo[39m]: User 
logged in: logintest (login@example.com)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:16.539Z [[32minfo[39m]: Audit 
service initialized successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:16.545Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"1f828562-3d03-472f-bc31-f067a86424b2",
        "userId": "8fb7283e-2e96-465c-b440-fc13972b65e0",
        "action": "user_login",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:16] 
[4d8b47be-4497-40fb-8814-55a17797165f] POST 
/api/auth/login 200 - 367ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:16.940Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:17.260Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at login (C
:\\messenger\\backend\\src\\controllers\\authController.js:
236:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:17.261Z [[32minfo[39m]: User 
logged in: logintest (login@example.com)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:17.266Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"6fad72a4-0f4e-4142-84f6-d1a587534448",
        "userId": "7494e284-f9bd-4ae2-9c3e-eed1500acaa7",
        "action": "user_login",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:17] 
[7e039381-154e-421f-bd07-42e292b92b09] POST 
/api/auth/login 200 - 329ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:17.603Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:17.924Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"1c43a7d6-7a7d-4723-aae8-a1685c27cf61",
        "userId": "6d18a1be-c863-435e-85d4-69bc2e2cd559",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:17] 
[76743d9c-00de-4694-886f-8ebaf7c63df2] POST 
/api/auth/login 401 - 322ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:18.252Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:18.259Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"c48f3fbb-f666-4434-9a4a-6f3c61e9ee5f",
        "userId": null,
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:18] 
[24618b42-fce9-4c7a-9441-e224edd2f716] POST 
/api/auth/login 401 - 8ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:18.891Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:18] 
[c0b2400a-b359-461a-9053-dbb33bf0ec98] POST 
/api/auth/login 403 - 4ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:19.516Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:19] 
[fca0271e-3d3e-49e8-b107-922fa9c0def9] POST 
/api/auth/login 403 - 5ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:20.141Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:20.444Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"55ebbfba-8fe1-4e75-9f01-9bbeef410c00",
        "userId": "cfbc0110-416d-4e7c-98b9-5acb80007415",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:20] 
[1255253e-296e-4cfd-a49d-386e76b59c24] POST 
/api/auth/login 401 - 304ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:20.450Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:20.756Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"afdc7d20-fa20-4363-81a9-ab2e08e2be71",
        "userId": "cfbc0110-416d-4e7c-98b9-5acb80007415",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:20] 
[ff8e4265-20ed-40f2-85e3-18ec86701a62] POST 
/api/auth/login 401 - 307ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:20.763Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:21.092Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"b8a98cc3-447f-4329-985b-57dd9285d542",
        "userId": "cfbc0110-416d-4e7c-98b9-5acb80007415",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:21] 
[d8fd5060-1647-453d-8227-5de3a837dc79] POST 
/api/auth/login 401 - 330ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:21.780Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.125Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"007b4364-41fb-4d5f-a326-43586bfb52c9",
        "userId": "a9f3ef5c-ee33-44a4-9420-b011ee500ccf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:22] 
[4ecf1806-1d46-4cd3-a5bd-6aa0d0c48de6] POST 
/api/auth/login 401 - 346ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.131Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.446Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"222edcd6-4b78-4ebc-a88a-1d0e0c9d2040",
        "userId": "a9f3ef5c-ee33-44a4-9420-b011ee500ccf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:22] 
[05584af0-a227-4dde-a4f5-e04068659c73] POST 
/api/auth/login 401 - 317ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.453Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.784Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"1e4546d5-4f73-4a59-ad25-3c53208f53b9",
        "userId": "a9f3ef5c-ee33-44a4-9420-b011ee500ccf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:22] 
[4f9598de-b4a0-40e0-abb1-cf3206956f07] POST 
/api/auth/login 401 - 332ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.790Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.107Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"09ec48fa-327c-4058-bd06-b9247eda4136",
        "userId": "a9f3ef5c-ee33-44a4-9420-b011ee500ccf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:23] 
[bceb320b-dd8c-45e3-9a22-fdd572120940] POST 
/api/auth/login 401 - 318ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.113Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.419Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"dc30405f-5358-4bdd-8481-0010aab4c756",
        "userId": "a9f3ef5c-ee33-44a4-9420-b011ee500ccf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:23] 
[934f4975-ca98-47b8-8c4c-acfb5aa01894] POST 
/api/auth/login 401 - 307ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.429Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:23] 
[29ddf127-33df-4511-ad19-0c0c6c916269] POST 
/api/auth/login 423 - 4ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:23.778Z [[32minfo[39m]: 
Authentication successful for user: logoutuser 
(260113de-ffd1-47f8-88ed-5e6aa4ee942e)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.784Z [[31merror[39m]: Failed 
to remove session from Redis: Redis client not 
initialized. Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.removeSessionFromRedis (C:\\messenger\\backend\
\src\\controllers\\authController.js:1159:21)\n    at 
logout (C:\\messenger\\backend\\src\\controllers\\authContr
oller.js:429:30)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.785Z [[32minfo[39m]: User 
logged out: logoutuser
      {
        "userId": "260113de-ffd1-47f8-88ed-5e6aa4ee942e"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.789Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"7cd22e7e-1c95-428e-9ceb-d2f4fb09ae1b",
        "userId": "260113de-ffd1-47f8-88ed-5e6aa4ee942e",
        "action": "user_logout",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:23] 
[5bd7a824-3e7c-4c9d-9ac2-c4a2de38ab51] POST 
/api/auth/logout 200 - 17ms - POST /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      [2025-12-22 11:13:23] 
[b5536852-6bd6-4661-9146-d389f935ccf5] POST 
/api/auth/logout 401 - 0ms - POST /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.138Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at 
refreshToken (C:\\messenger\\backend\\src\\controllers\\aut
hController.js:356:30)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:24.139Z [[32minfo[39m]: Token 
refreshed for user: refreshtest

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[54730296-7b1e-4881-8f17-3a564c645473] POST 
/api/auth/refresh 200 - 13ms - POST /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      [2025-12-22 11:13:24] 
[a911e80a-4d3d-4817-9e3c-655eb24ac80b] POST 
/api/auth/refresh 401 - 3ms - POST /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.489Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:24.497Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendPasswordReset (C:\\messenger\\backend\\src
\\services\\emailService.js:153:17)\n    at forgotPassword 
(C:\\messenger\\backend\\src\\controllers\\authController.j
s:651:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:24.498Z [[31merror[39m]: Failed 
to send password reset email: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendPasswordReset (C:\\messenger\\backend\\src
\\services\\emailService.js:153:17)\n    at forgotPassword 
(C:\\messenger\\backend\\src\\controllers\\authController.j
s:651:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[6caf26b9-3a29-4f53-b2aa-8f1f2a92e729] POST 
/api/auth/forgot-password 200 - 11ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.512Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[52547ed0-e3d0-4948-bb66-6a341a3aa576] POST 
/api/auth/forgot-password 200 - 3ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.522Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[4d0b64a2-8d37-4517-a633-739f3e80f550] POST 
/api/auth/forgot-password 400 - 1ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.884Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:25.224Z [[31merror[39m]: Failed 
to add password to history:

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:25] 
[636e0381-a5dd-4a29-9c3a-5a4d2958eb17] POST 
/api/auth/reset-password 200 - 378ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:25.576Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:25] 
[b9f98108-e24a-469e-b329-b59868e4eec5] POST 
/api/auth/reset-password 400 - 3ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:25.912Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:25] 
[c4204ed1-21a3-4b43-bd4b-0a43eb55a52a] POST 
/api/auth/reset-password 400 - 1ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:26.277Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:26] 
[166e380a-65c2-4470-98c6-741685b9e9f7] POST 
/api/auth/reset-password 400 - 2ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:26.653Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.655Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.658Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.661Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.663Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.666Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.669Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.672Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.675Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.678Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.754Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"25c0df4e-efe1-4925-a455-c91cfc47b5b7",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[f1f3a33a-91dc-4327-9c9e-334b26e0b08b] POST 
/api/auth/login 401 - 3095ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.760Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"c100c8cc-40f8-4e16-9a1c-d8aa532c62da",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[4ba3a969-61e1-48b0-84f4-e5c0f8b0e3ce] POST 
/api/auth/login 401 - 3104ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.777Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"c0f1ae40-1029-4f24-84fe-08a97ab76758",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "GET /api/admin/settings HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:29 +0000] "POST /api/notifications HTTP/1.1" 201 489 "-" "-"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[da2a981d-61b1-4d0b-a576-ca15c2f194c7] POST 
/api/auth/login 401 - 3108ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.781Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"8793be0d-a626-4bed-a360-648167659f71",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[f45d899a-7bfe-4046-8b47-218c7bb93fca] POST 
/api/auth/login 401 - 3109ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.785Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"796b8e7e-723a-4d81-835e-bbc3e3f08a2e",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[85603764-8a39-4ae8-8d3c-494718e69cda] POST 
/api/auth/login 401 - 3118ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.788Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"64b003db-005f-45ac-97f8-220e090b8b63",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[6d46e606-1081-41e5-9919-6625527b9a97] POST 
/api/auth/login 401 - 3134ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.791Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"1eac17c2-12a6-4500-814e-5f7ac85ea343",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[1169b15d-2579-4801-ac66-9df91ada2291] POST 
/api/auth/login 401 - 3128ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.792Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"266b89c0-13a7-4ca4-96ad-d131235b4b1a",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[0e1dcf1f-6b4e-4a51-949e-7b352bd3b79d] POST 
/api/auth/login 401 - 3116ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.794Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"f8b25ee8-2c08-47f8-af44-3eb9fa70439a",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[4d10fa25-a3d6-42e6-b836-f8c80057d895] POST 
/api/auth/login 401 - 3142ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.797Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"976b10cb-c187-47f0-b338-d3cb0813a5e5",
        "userId": "833dfd3c-b88d-48d2-ad6e-76b66962befb",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[8fa18ffc-b234-4226-8a3d-0ba19807df42] POST 
/api/auth/login 401 - 3132ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

::ffff:127.0.0.1 - - [22/Dec/2025:10:13:30 +0000] "POST /api/notifications HTTP/1.1" 400 466 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:30 +0000] "PUT /api/admin/settings HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:30 +0000] "POST /api/notifications HTTP/1.1" 400 204 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:30 +0000] "PUT /api/admin/users/00000000-0000-0000-0000-000000000000/approve HTTP/1.1" 404 42 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:30 +0000] "POST /api/notifications HTTP/1.1" 400 209 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:31 +0000] "PUT /api/admin/users/8397aa16-558e-4d96-af0d-668cac6a32ae/approve HTTP/1.1" 400 57 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:31 +0000] "POST /api/notifications/cleanup HTTP/1.1" 200 89 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:31 +0000] "POST /api/admin/announcements HTTP/1.1" 400 64 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "POST /api/notifications/cleanup HTTP/1.1" 403 84 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/users?limit=100 HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "POST /api/notifications HTTP/1.1" 201 460 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/notifications HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "PUT /api/notifications/0084b777-750c-4944-a21a-dee355771416/read HTTP/1.1" 200 454 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "DELETE /api/notifications/0084b777-750c-4944-a21a-dee355771416 HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/notifications HTTP/1.1" 200 908 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:32 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
FAIL tests/admin-api.test.js (23.502 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T10:13:12.296Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.565Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.574Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.576Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.592Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      [2025-12-22 11:13:14] 
[7011a46c-eae2-4f44-91f5-ac800a0d17f1] GET 
/api/admin/users 401 - 8ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.127Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398394762j998nd 
(21ec5355-169d-49bd-9060-4abcbb65ddce)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[dd13a79f-718d-4e10-9822-c688976c9e1c] GET 
/api/admin/users 403 - 13ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.497Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398395164zh4mp7 
(7006d6a4-fa3e-4af5-8905-fb94924cec93)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:15.511Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"245cf5f5-33a0-474d-92cc-d7a56a6d4f45",
        "adminId": "7006d6a4-fa3e-4af5-8905-fb94924cec93",
        "totalUsers": 220,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[245cf5f5-33a0-474d-92cc-d7a56a6d4f45] GET 
/api/admin/users 200 - 21ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:15.868Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398395536fs865p 
(f748d324-dd30-4102-8bf4-b8c2b18272f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:15.879Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"f8041383-22f2-4e13-af76-7a683d68bd8d",
        "adminId": "f748d324-dd30-4102-8bf4-b8c2b18272f6",
        "totalUsers": 220,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:15] 
[f8041383-22f2-4e13-af76-7a683d68bd8d] GET 
/api/admin/users 200 - 18ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:16.245Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398395918l3w0a 
(63ae48cf-64fa-4271-a547-23b1f910eb6f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:16.252Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"ae222e54-24f6-4a44-813b-d0f967b90d45",
        "adminId": "63ae48cf-64fa-4271-a547-23b1f910eb6f",
        "totalUsers": 221,
        "page": 1,
        "limit": 3,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:16] 
[ae222e54-24f6-4a44-813b-d0f967b90d45] GET 
/api/admin/users?page=1&limit=3 200 - 11ms - GET 
/api/admin/users?page=1&limit=3

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:16.600Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663983962668jomk 
(482cc41e-c8c4-4fd8-b9a3-52b50b8ab528)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:16.609Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"0dfbea37-f07f-45ff-b08b-68c2a07ac4b2",
        "adminId": "482cc41e-c8c4-4fd8-b9a3-52b50b8ab528",
        "totalUsers": 64,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:16] 
[0dfbea37-f07f-45ff-b08b-68c2a07ac4b2] GET 
/api/admin/users?role=admin 200 - 14ms - GET 
/api/admin/users?role=admin

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:16.998Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398396625aq74hi 
(185fdeee-032e-4b3b-a0b3-3d7fa9ab6194)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:17.002Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"bb7358fc-3615-4fc6-96ba-c5a58ee44317",
        "adminId": "185fdeee-032e-4b3b-a0b3-3d7fa9ab6194",
        "totalUsers": 0,
        "page": 1,
        "limit": 20,
        "status": "pending",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:17] 
[bb7358fc-3615-4fc6-96ba-c5a58ee44317] GET 
/api/admin/users?status=pending 200 - 8ms - GET 
/api/admin/users?status=pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:17.347Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398397014juio9q 
(51be6288-77c7-4f86-b080-4e2df6286f5e)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:17.350Z [[32minfo[39m]: Pending 
users retrieved successfully
      {
        "requestId": 
"f29e6e00-a90a-47d6-9dcf-2400397874a7",
        "adminId": "51be6288-77c7-4f86-b080-4e2df6286f5e",
        "totalUsers": 0,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:17] 
[f29e6e00-a90a-47d6-9dcf-2400397874a7] GET 
/api/admin/users/pending 200 - 7ms - GET 
/api/admin/users/pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:18.029Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398397362ufar9n 
(908e8692-1de0-479e-b940-5b9ca78a7cc9)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:18.061Z [[32minfo[39m]: Audit 
service initialized successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:18.068Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"a6cb60a6-76f8-42da-99f8-4bb6402358cd",
        "adminId": "908e8692-1de0-479e-b940-5b9ca78a7cc9",
        "action": "user_approve",
        "resource": "user",
        "resourceId": 
"832c5fed-7478-44fc-b481-70da7265bd0f",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:18.074Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserApprovalEmail (C:\\messenger\\backend\
\src\\services\\emailService.js:201:17)\n    at 
AdminController.approveUser (C:\\messenger\\backend\\src\\c
ontrollers\\adminController.js:257:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:160:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:18.075Z [[31merror[39m]: Failed 
to send approval email
      {
        "requestId": 
"96f89588-ab29-4cf4-8ad1-629dff259c4f",
        "userId": "832c5fed-7478-44fc-b481-70da7265bd0f",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:18.075Z [[32minfo[39m]: User 
approved successfully
      {
        "requestId": 
"96f89588-ab29-4cf4-8ad1-629dff259c4f",
        "userId": "832c5fed-7478-44fc-b481-70da7265bd0f",
        "approvedBy": 
"908e8692-1de0-479e-b940-5b9ca78a7cc9",
        "adminNotes": "Approved after manual review",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:18] 
[96f89588-ab29-4cf4-8ad1-629dff259c4f] PUT /api/admin/users
/832c5fed-7478-44fc-b481-70da7265bd0f/approve 200 - 50ms - 
PUT /api/admin/users/832c5fed-7478-44fc-b481-70da7265bd0f/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:19.067Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398398427q3tzcs 
(b188de37-156c-4b0d-ba2f-b5149bbdc5a7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.077Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"a9d4a5f1-e9ff-481c-86e4-0d0479b9ccc4",
        "adminId": "b188de37-156c-4b0d-ba2f-b5149bbdc5a7",
        "action": "user_approve",
        "resource": "user",
        "resourceId": 
"55a28f1c-4bf1-420d-974a-86b7057cd638",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.080Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserApprovalEmail (C:\\messenger\\backend\
\src\\services\\emailService.js:201:17)\n    at 
AdminController.approveUser (C:\\messenger\\backend\\src\\c
ontrollers\\adminController.js:257:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:160:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.080Z [[31merror[39m]: Failed 
to send approval email
      {
        "requestId": 
"7e29a16d-61ff-4029-b198-e1cc58edba8e",
        "userId": "55a28f1c-4bf1-420d-974a-86b7057cd638",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.081Z [[32minfo[39m]: User 
approved successfully
      {
        "requestId": 
"7e29a16d-61ff-4029-b198-e1cc58edba8e",
        "userId": "55a28f1c-4bf1-420d-974a-86b7057cd638",
        "approvedBy": 
"b188de37-156c-4b0d-ba2f-b5149bbdc5a7",
        "adminNotes": "Test approval log",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:19] 
[7e29a16d-61ff-4029-b198-e1cc58edba8e] PUT /api/admin/users
/55a28f1c-4bf1-420d-974a-86b7057cd638/approve 200 - 18ms - 
PUT /api/admin/users/55a28f1c-4bf1-420d-974a-86b7057cd638/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:19.983Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398399363ozp7bj 
(3c6a5085-b75a-48a9-8305-341013aba16d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.992Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"931e314b-8e38-473b-8663-95b2cad65fd0",
        "adminId": "3c6a5085-b75a-48a9-8305-341013aba16d",
        "action": "user_reject",
        "resource": "user",
        "resourceId": 
"d3a9c035-d6d1-415a-8015-5a404b37ce22",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.994Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserRejectionEmail (C:\\messenger\\backend
\\src\\services\\emailService.js:222:17)\n    at 
AdminController.rejectUser (C:\\messenger\\backend\\src\\co
ntrollers\\adminController.js:527:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:215:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.995Z [[31merror[39m]: Failed 
to send rejection email
      {
        "requestId": 
"74a37050-272f-4f56-8156-2122ea898597",
        "userId": "d3a9c035-d6d1-415a-8015-5a404b37ce22",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:19.995Z [[32minfo[39m]: User 
rejected successfully
      {
        "requestId": 
"74a37050-272f-4f56-8156-2122ea898597",
        "userId": "d3a9c035-d6d1-415a-8015-5a404b37ce22",
        "rejectedBy": 
"3c6a5085-b75a-48a9-8305-341013aba16d",
        "reason": "Incomplete profile information",
        "adminNotes": "User did not provide required 
information",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:19] 
[74a37050-272f-4f56-8156-2122ea898597] PUT /api/admin/users
/d3a9c035-d6d1-415a-8015-5a404b37ce22/reject 200 - 16ms - 
PUT /api/admin/users/d3a9c035-d6d1-415a-8015-5a404b37ce22/r
eject

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:20.920Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984002929j88tk 
(851198c1-0d5c-45ad-854f-ccbb84b486a7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:20.934Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"4d44c4d0-b383-43fd-ac73-6a4eddf0ebc2",
        "adminId": "851198c1-0d5c-45ad-854f-ccbb84b486a7",
        "action": "user_deactivate",
        "resource": "user",
        "resourceId": 
"bb0b25dd-5b5d-4c09-b801-127ed5d0a615",
        "severity": "high",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:20.938Z [[31merror[39m]: Failed 
to send deactivation email
      {
        "requestId": 
"c4d6f1c7-b848-4982-9da4-848fddbf079b",
        "userId": "bb0b25dd-5b5d-4c09-b801-127ed5d0a615",
        "error": "emailService.sendUserDeactivationEmail 
is not a function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:20.938Z [[32minfo[39m]: User 
deactivated successfully
      {
        "requestId": 
"c4d6f1c7-b848-4982-9da4-848fddbf079b",
        "userId": "bb0b25dd-5b5d-4c09-b801-127ed5d0a615",
        "deactivatedBy": 
"851198c1-0d5c-45ad-854f-ccbb84b486a7",
        "reason": "Policy violation",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:20] 
[c4d6f1c7-b848-4982-9da4-848fddbf079b] PUT /api/admin/users
/bb0b25dd-5b5d-4c09-b801-127ed5d0a615/deactivate 200 - 
23ms - PUT /api/admin/users/bb0b25dd-5b5d-4c09-b801-127ed5d
0a615/deactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:21.637Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984009590fltso 
(1aa9596b-5ea8-4255-b962-3e69666c2e26)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:21.644Z [[33mwarn[39m]: Attempt 
to deactivate last admin
      {
        "requestId": 
"31036773-162f-44db-b7a5-717501d3ce4f",
        "adminId": "1aa9596b-5ea8-4255-b962-3e69666c2e26",
        "targetUserId": 
"40cdc685-ec91-49c9-8a9e-7e5a49020187"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:21] 
[31036773-162f-44db-b7a5-717501d3ce4f] PUT /api/admin/users
/40cdc685-ec91-49c9-8a9e-7e5a49020187/deactivate 403 - 
12ms - PUT /api/admin/users/40cdc685-ec91-49c9-8a9e-7e5a490
20187/deactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:22.319Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398401659um563 
(693b67f8-ca69-40b0-8d9f-4c60a7b6935f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.331Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"a5f75944-51c4-4a00-adfe-213e00fd7107",
        "adminId": "693b67f8-ca69-40b0-8d9f-4c60a7b6935f",
        "action": "user_reactivate",
        "resource": "user",
        "resourceId": 
"ed055bdd-2488-45ae-936f-d24b1d13a44b",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.334Z [[31merror[39m]: Failed 
to send reactivation email
      {
        "requestId": 
"59d3ceca-bf78-410a-83f6-6081bb1c4918",
        "userId": "ed055bdd-2488-45ae-936f-d24b1d13a44b",
        "error": "emailService.sendUserReactivationEmail 
is not a function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.334Z [[32minfo[39m]: User 
reactivated successfully
      {
        "requestId": 
"59d3ceca-bf78-410a-83f6-6081bb1c4918",
        "userId": "ed055bdd-2488-45ae-936f-d24b1d13a44b",
        "reactivatedBy": 
"693b67f8-ca69-40b0-8d9f-4c60a7b6935f",
        "adminNotes": "User has been reviewed and 
reactivated",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:22] 
[59d3ceca-bf78-410a-83f6-6081bb1c4918] PUT /api/admin/users
/ed055bdd-2488-45ae-936f-d24b1d13a44b/reactivate 200 - 
20ms - PUT /api/admin/users/ed055bdd-2488-45ae-936f-d24b1d1
3a44b/reactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:22.680Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398402349wmm2e5 
(10d51b5b-85ea-42aa-bc4b-7116bf9feb26)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:22.714Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"05c0cef9-f5f6-44b6-9be3-406a510bbd40",
        "adminId": "10d51b5b-85ea-42aa-bc4b-7116bf9feb26",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:22] 
[05c0cef9-f5f6-44b6-9be3-406a510bbd40] GET 
/api/admin/stats 200 - 38ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:23.047Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398402727xab8k 
(04829fdb-ec4d-4f7e-a815-70ed07b110d7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.073Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"8d0fb594-60c8-4b9b-badc-58605c1917b4",
        "adminId": "04829fdb-ec4d-4f7e-a815-70ed07b110d7",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:23] 
[8d0fb594-60c8-4b9b-badc-58605c1917b4] GET 
/api/admin/stats 200 - 29ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:23.397Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176639840308799ztdu 
(6130a9ee-cb0c-4234-a97c-6f15ce836273)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.412Z [[32minfo[39m]: Audit 
logs retrieved successfully
      {
        "requestId": 
"cd50c904-1d37-448c-bbd9-2f5a75986519",
        "adminId": "6130a9ee-cb0c-4234-a97c-6f15ce836273",
        "totalLogs": 477,
        "filters": {},
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:23] 
[cd50c904-1d37-448c-bbd9-2f5a75986519] GET 
/api/admin/audit-logs 200 - 22ms - GET 
/api/admin/audit-logs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:23.758Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398403431ajkigm 
(650fdd3c-3e43-46a5-aecf-3096999611fe)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:23.768Z [[32minfo[39m]: Audit 
logs retrieved successfully
      {
        "requestId": 
"83889151-31ba-4ee9-a0f5-f3b80ffaf658",
        "adminId": "650fdd3c-3e43-46a5-aecf-3096999611fe",
        "totalLogs": 39,
        "filters": {
          "action": "user_approve"
        },
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:23] 
[83889151-31ba-4ee9-a0f5-f3b80ffaf658] GET 
/api/admin/audit-logs?action=user_approve 200 - 16ms - GET 
/api/admin/audit-logs?action=user_approve

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.108Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398403786vb3sz 
(979491ac-be68-497c-96c1-563fafab8614)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[c0af78fa-3633-4044-9897-2e898e56f6c2] GET /api/admin/audit
-logs?startDate=2025-12-22T10:13:24.102Z&endDate=2025-12-22
T10:13:24.102Z 400 - 6ms - GET /api/admin/audit-logs?startD
ate=2025-12-22T10:13:24.102Z&endDate=2025-12-22T10:13:24.10
2Z

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.456Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176639840412636uza5 
(13694d9c-9d3c-43e3-a6f5-02526cee02c1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:24.464Z [[32minfo[39m]: Reports 
retrieved successfully
      {
        "requestId": 
"29eb360e-1e4c-4bb6-9141-94e478dc81fc",
        "adminId": "13694d9c-9d3c-43e3-a6f5-02526cee02c1",
        "totalReports": 0,
        "filters": {},
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[29eb360e-1e4c-4bb6-9141-94e478dc81fc] GET 
/api/admin/reports 200 - 12ms - GET /api/admin/reports

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.827Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398404477l1ar8 
(bee04a6d-c85e-479b-bf61-21b51f26953a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:24.838Z [[32minfo[39m]: Reports 
retrieved successfully
      {
        "requestId": 
"65d4a453-a1ea-47e8-bdd7-c4d41fa8e293",
        "adminId": "bee04a6d-c85e-479b-bf61-21b51f26953a",
        "totalReports": 0,
        "filters": {
          "status": "pending"
        },
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[65d4a453-a1ea-47e8-bdd7-c4d41fa8e293] GET 
/api/admin/reports?status=pending 200 - 16ms - GET 
/api/admin/reports?status=pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:25.809Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398404849g39dm8 
(a22fef4c-9522-4728-9dd9-c188773b09e2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:25] 
[030bc9a2-6e20-4bc7-b67a-cb9b036d144e] PUT /api/admin/repor
ts/ae636513-dcb8-4a61-a4bb-76e9d2e1063f/resolve 400 - 9ms 
- PUT /api/admin/reports/ae636513-dcb8-4a61-a4bb-76e9d2e106
3f/resolve

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:26.190Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398405835bjcvrg 
(5b2694f0-c2a3-4249-b011-0e7e0b6a1fb0)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:26] 
[372d36f0-be7e-4157-ba8f-fb0a52de83fb] GET 
/api/admin/announcements 200 - 5ms - GET 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:26.571Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984062029pbqu 
(4897a979-061c-4d6d-871e-395e71ff6a89)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:26] 
[374117db-d2b5-46ad-98fe-05c81ad93d11] POST 
/api/admin/announcements 400 - 7ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:26.910Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398406584eklted 
(83d20e4e-dd58-4bb0-810b-49213d766d7a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:26] 
[3a45aa40-169c-48d5-82eb-3d4672776cdf] POST 
/api/admin/announcements 400 - 8ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:27.550Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398406925ydt64 
(96b9e45f-367d-4480-bd49-441e592d9b48)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:27] 
[fa560438-edda-4f61-8660-1523af773720] PUT /api/admin/annou
ncements/b7b8b37c-c9b2-45e8-a317-fb8b9085f141 400 - 6ms - 
PUT /api/admin/announcements/b7b8b37c-c9b2-45e8-a317-fb8b90
85f141

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:28.180Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398407566mzrfb9 
(ddc4d307-d593-4554-86d8-a6e8fc2e2ad0)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:28.189Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"4fc60a66-83ba-4e10-9904-cd09f7cdee0c",
        "adminId": "ddc4d307-d593-4554-86d8-a6e8fc2e2ad0",
        "action": "announcement_delete",
        "resource": "announcement",
        "resourceId": 
"152bb045-1fca-40b7-9822-47d99d73f59e",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:28.192Z [[32minfo[39m]: 
Announcement deleted successfully
      {
        "requestId": 
"d45b2169-241f-4fce-b662-77bb85629a8a",
        "adminId": "ddc4d307-d593-4554-86d8-a6e8fc2e2ad0",
        "announcementId": 
"152bb045-1fca-40b7-9822-47d99d73f59e",
        "title": "Test Announcement to Delete",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:28] 
[d45b2169-241f-4fce-b662-77bb85629a8a] DELETE /api/admin/an
nouncements/152bb045-1fca-40b7-9822-47d99d73f59e 200 - 
16ms - DELETE /api/admin/announcements/152bb045-1fca-40b7-9
822-47d99d73f59e

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:28.537Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984082085jqbe 
(6b8a9c03-9655-42f0-9635-7a793c455f2c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:28.539Z [[31merror[39m]: Failed 
to load export service
      {
        "requestId": 
"bf4769db-12d3-4524-9d15-549c799ce9a6",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:28] 
[bf4769db-12d3-4524-9d15-549c799ce9a6] GET 
/api/admin/export/audit-logs/csv 500 - 8ms - GET 
/api/admin/export/audit-logs/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:28.873Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984085547eg42n 
(e512050a-683f-40d0-a89d-a5e200fb5aef)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:28.875Z [[31merror[39m]: Error 
exporting reports to CSV
      {
        "requestId": 
"4b5808c0-3738-42a4-b834-ab7bef590a10",
        "adminId": "e512050a-683f-40d0-a89d-a5e200fb5aef",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'",
        "stack": "Error: Cannot find module 
'./exportService.js' from 
'src/controllers/adminController.js'\n    at 
Resolver._throwModNotFoundError (C:\\messenger\\backend\\no
de_modules\\jest-resolve\\build\\resolver.js:427:11)\n    
at Resolver.resolveModuleAsync (C:\\messenger\\backend\\nod
e_modules\\jest-resolve\\build\\resolver.js:374:10)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
Resolver.getModuleIDAsync (C:\\messenger\\backend\\node_mod
ules\\jest-resolve\\build\\resolver.js:558:26)\n    at 
Runtime._shouldMockModule (C:\\messenger\\backend\\node_mod
ules\\jest-runtime\\build\\index.js:1776:22)\n    at 
Runtime.resolveModule (C:\\messenger\\backend\\node_modules
\\jest-runtime\\build\\index.js:667:7)\n    at 
importModuleDynamically (C:\\messenger\\backend\\node_modul
es\\jest-runtime\\build\\index.js:524:30)\n    at 
importModuleDynamicallyWrapper 
(node:internal/vm/module:443:15)\n    at 
AdminController.exportReportsCSV (C:\\messenger\\backend\\s
rc\\controllers\\adminController.js:1997:29)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:860:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:28] 
[4b5808c0-3738-42a4-b834-ab7bef590a10] GET 
/api/admin/export/reports/csv 500 - 6ms - GET 
/api/admin/export/reports/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:29.214Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398408886p8y2s 
(a77b9619-4b2c-4a40-9afb-31dc9f44896d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.215Z [[31merror[39m]: Error 
exporting statistics to CSV
      {
        "requestId": 
"ec0bf4ba-314d-49ed-b965-a1619a0b8d6e",
        "adminId": "a77b9619-4b2c-4a40-9afb-31dc9f44896d",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'",
        "stack": "Error: Cannot find module 
'./exportService.js' from 
'src/controllers/adminController.js'\n    at 
Resolver._throwModNotFoundError (C:\\messenger\\backend\\no
de_modules\\jest-resolve\\build\\resolver.js:427:11)\n    
at Resolver.resolveModuleAsync (C:\\messenger\\backend\\nod
e_modules\\jest-resolve\\build\\resolver.js:374:10)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
Resolver.getModuleIDAsync (C:\\messenger\\backend\\node_mod
ules\\jest-resolve\\build\\resolver.js:558:26)\n    at 
Runtime._shouldMockModule (C:\\messenger\\backend\\node_mod
ules\\jest-runtime\\build\\index.js:1776:22)\n    at 
Runtime.resolveModule (C:\\messenger\\backend\\node_modules
\\jest-runtime\\build\\index.js:667:7)\n    at 
importModuleDynamically (C:\\messenger\\backend\\node_modul
es\\jest-runtime\\build\\index.js:524:30)\n    at 
importModuleDynamicallyWrapper 
(node:internal/vm/module:443:15)\n    at 
AdminController.exportStatisticsCSV (C:\\messenger\\backend
\\src\\controllers\\adminController.js:2084:29)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:936:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[ec0bf4ba-314d-49ed-b965-a1619a0b8d6e] GET 
/api/admin/export/statistics/csv 500 - 5ms - GET 
/api/admin/export/statistics/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:29.538Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398409226ttq7 
(9474de30-8945-4d03-82a9-2396249c5276)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.815Z [[31merror[39m]: Error 
retrieving system settings
      {
        "requestId": 
"a75d8ec5-324e-49b3-89fa-b43486a39796",
        "adminId": "9474de30-8945-4d03-82a9-2396249c5276",
        "error": "column \"key\" does not exist",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.select (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:1001:12)\n    at Function.findAll (C:\\messenger\\bac
kend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    
at AdminController.getSystemSettings (C:\\messenger\\backen
d\\src\\controllers\\adminController.js:2243:26)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:1055:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[a75d8ec5-324e-49b3-89fa-b43486a39796] GET 
/api/admin/settings 500 - 281ms - GET /api/admin/settings

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:30.179Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984098284ziyhs 
(c996f34e-abd8-47aa-9506-964002ffa90c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:30.459Z [[31merror[39m]: Error 
updating system settings
      {
        "requestId": 
"f36d339b-ec9f-47cb-8b6f-6e172d3425b7",
        "adminId": "c996f34e-abd8-47aa-9506-964002ffa90c",
        "error": "current transaction is aborted, commands 
ignored until end of transaction block",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.bulkInsert (C:\\messenger\\backend\\
node_modules\\sequelize\\src\\dialects\\abstract\\query-int
erface.js:881:21)\n    at recursiveBulkCreate (C:\\messenge
r\\backend\\node_modules\\sequelize\\src\\model.js:2851:25)
\n    at Function.bulkCreate (C:\\messenger\\backend\\node_
modules\\sequelize\\src\\model.js:2977:12)\n    at 
AdminController.updateSystemSettings (C:\\messenger\\backen
d\\src\\controllers\\adminController.js:2378:7)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:1149:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:30] 
[f36d339b-ec9f-47cb-8b6f-6e172d3425b7] PUT 
/api/admin/settings 500 - 285ms - PUT /api/admin/settings

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:30.789Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398410469z9fjfi 
(4c89e0b1-0a31-49cf-9c28-978f591e0281)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:30.795Z [[33mwarn[39m]: User not 
found for approval
      {
        "requestId": 
"c6caef4c-cd10-4ee3-9ee5-0d9b349a60ba",
        "userId": "00000000-0000-0000-0000-000000000000",
        "adminId": "4c89e0b1-0a31-49cf-9c28-978f591e0281",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:30] 
[c6caef4c-cd10-4ee3-9ee5-0d9b349a60ba] PUT /api/admin/users
/00000000-0000-0000-0000-000000000000/approve 404 - 10ms - 
PUT /api/admin/users/00000000-0000-0000-0000-000000000000/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:31.490Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398410807uu1a5 
(ed95e428-f593-4d4d-9ebd-ac0629624b50)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:31.496Z [[33mwarn[39m]: User 
approval attempted on non-pending user
      {
        "requestId": 
"fe5dd2f9-8dc7-48dc-ac9e-fd8b9021e6cf",
        "userId": "8397aa16-558e-4d96-af0d-668cac6a32ae",
        "currentStatus": "approved",
        "adminId": "ed95e428-f593-4d4d-9ebd-ac0629624b50",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:31] 
[fe5dd2f9-8dc7-48dc-ac9e-fd8b9021e6cf] PUT /api/admin/users
/8397aa16-558e-4d96-af0d-668cac6a32ae/approve 400 - 11ms - 
PUT /api/admin/users/8397aa16-558e-4d96-af0d-668cac6a32ae/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:31.856Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398411509zxvmxi 
(0c0219c8-e961-443f-bed2-6afe59a66e05)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:31] 
[6abb6614-f978-45fd-b56e-2cfaa501f775] POST 
/api/admin/announcements 400 - 10ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:32.199Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984118763mnvkp 
(c1df07ea-cee2-4f42-816e-0cbb7da99e0c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.216Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"d3e515f3-d9f3-4565-a527-301a77815a8b",
        "adminId": "c1df07ea-cee2-4f42-816e-0cbb7da99e0c",
        "totalUsers": 228,
        "page": 1,
        "limit": 100,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[d3e515f3-d9f3-4565-a527-301a77815a8b] GET 
/api/admin/users?limit=100 200 - 25ms - GET 
/api/admin/users?limit=100

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:32.600Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.604Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.608Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.610Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.612Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.614Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.619Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.621Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.623Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.628Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412239cyypid 
(915f9342-e170-41c2-a941-57588026c9f6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.738Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"024c85dc-5377-4039-8fd5-42fc8cba5e7f",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[024c85dc-5377-4039-8fd5-42fc8cba5e7f] GET 
/api/admin/stats 200 - 155ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.742Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"90089933-df2b-4792-9dbd-b7b116368692",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[90089933-df2b-4792-9dbd-b7b116368692] GET 
/api/admin/stats 200 - 164ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.764Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"878fb48f-fdb7-4740-ba58-a85be74ab06a",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[878fb48f-fdb7-4740-ba58-a85be74ab06a] GET 
/api/admin/stats 200 - 173ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.767Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"ebe4a1dc-13d0-46a4-b12c-f5fb2d7a6d50",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[ebe4a1dc-13d0-46a4-b12c-f5fb2d7a6d50] GET 
/api/admin/stats 200 - 188ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.770Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"33390c37-aedc-4950-98af-13da0d8d6d2c",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[33390c37-aedc-4950-98af-13da0d8d6d2c] GET 
/api/admin/stats 200 - 181ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.772Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"abcbc037-b89b-4a7f-8dab-6b0e7c4ec46a",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[abcbc037-b89b-4a7f-8dab-6b0e7c4ec46a] GET 
/api/admin/stats 200 - 186ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.774Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"a190c402-6fb6-4e23-b6cb-e1703af6e903",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[a190c402-6fb6-4e23-b6cb-e1703af6e903] GET 
/api/admin/stats 200 - 180ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.777Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"aa9e5919-c4e6-45ff-960f-2a63ea107883",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[aa9e5919-c4e6-45ff-960f-2a63ea107883] GET 
/api/admin/stats 200 - 195ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.780Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"44a7df08-a09e-4351-b4a5-e728afc61377",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[44a7df08-a09e-4351-b4a5-e728afc61377] GET 
/api/admin/stats 200 - 205ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.785Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"0b129582-8779-4452-95ab-170b14beed9a",
        "adminId": "915f9342-e170-41c2-a941-57588026c9f6",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[0b129582-8779-4452-95ab-170b14beed9a] GET 
/api/admin/stats 200 - 188ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

  ΓùÅ Admin API Tests ΓÇ║ Admin Statistics ΓÇ║ GET 
/api/admin/stats ΓÇ║ should get system statistics

    expect(received).toHaveProperty(path)

    Expected path: "rejected"
    Received path: []

    Received value: {"active": 230, "approved": 230, 
"byStatus": [{"count": 230, "status": "approved"}], 
"online": 0, "pending": 0, "total": 230}

    [0m [90m 294 |[39m         expect(stats[33m.[39mus
ers)[33m.[39mtoHaveProperty([32m'pending'[39m)[33m;[3
9m
     [90m 295 |[39m         expect(stats[33m.[39musers)
[33m.[39mtoHaveProperty([32m'approved'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 296 |[39m         expect(sta
ts[33m.[39musers)[33m.[39mtoHaveProperty([32m'rejected
'[39m)[33m;[39m
     [90m     |[39m                             
[31m[1m^[22m[39m
     [90m 297 |[39m
     [90m 298 |[39m         [90m// Check response time 
is reasonable[39m
     [90m 299 |[39m         expect(responseTime)[33m.[3
9mtoBeLessThan([35m2000[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:296:29)

  ΓùÅ Admin API Tests ΓÇ║ Admin Audit Logs ΓÇ║ GET 
/api/admin/audit-logs ΓÇ║ should support date range 
filtering

    expected 200 "OK", got 400 "Bad Request"

    [0m [90m 361 |[39m           [33m.[39m[36mget[39
m([32m`/api/admin/audit-logs?startDate=${today}&endDate=${
today}`[39m)
     [90m 362 |[39m           [33m.[39m[36mset[39m([
32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 363 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 364 |[39m
     [90m 365 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 366 |[39m       })[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:363:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Reports ΓÇ║ PUT 
/api/admin/reports/{reportId}/resolve ΓÇ║ should resolve a 
report

    expected 200 "OK", got 400 "Bad Request"

    [0m [90m 425 |[39m             
adminNotes[33m:[39m [32m'User has been warned about 
behavior'[39m
     [90m 426 |[39m           })
    [31m[1m>[22m[39m[90m 427 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 428 |[39m
     [90m 429 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 430 |[39m         expect(response[33m.[39mbod
y[33m.[39mdata[33m.[39mreport[33m.[39mstatus)[33m.[
39mtoBe([32m'resolved'[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:427:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Announcements ΓÇ║ GET 
/api/admin/announcements ΓÇ║ should get all announcements

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 447 |[39m
     [90m 448 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
    [31m[1m>[22m[39m[90m 449 |[39m         expect(res
ponse[33m.[39mbody[33m.[39mdata[33m.[39mannouncements
)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                      
            [31m[1m^[22m[39m
     [90m 450 |[39m         expect([33mArray[39m[33m.
[39misArray(response[33m.[39mbody[33m.[39mdata[33m.[3
9mannouncements))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 451 |[39m
     [90m 452 |[39m         [90m// Check announcement 
structure[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:449:50)

  ΓùÅ Admin API Tests ΓÇ║ Admin Announcements ΓÇ║ POST 
/api/admin/announcements ΓÇ║ should create a new 
announcement

    expected 201 "Created", got 400 "Bad Request"

    [0m [90m 477 |[39m           [33m.[39m[36mset[39
m([32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
     [90m 478 |[39m           
[33m.[39msend(announcementData)
    [31m[1m>[22m[39m[90m 479 |[39m           
[33m.[39mexpect([35m201[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 480 |[39m
     [90m 481 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 482 |[39m         expect(response[33m.[39mbod
y[33m.[39mdata[33m.[39mannouncement[33m.[39mtitle)[3
3m.[39mtoBe(announcementData[33m.[39mtitle)[33m;[39m[
0m

      at Object.<anonymous> 
(tests/admin-api.test.js:479:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Announcements ΓÇ║ PUT 
/api/admin/announcements/{announcementId} ΓÇ║ should 
update an announcement

    expected 200 "OK", got 400 "Bad Request"

    [0m [90m 522 |[39m           [33m.[39m[36mset[39
m([32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
     [90m 523 |[39m           [33m.[39msend(updateData)
    [31m[1m>[22m[39m[90m 524 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 525 |[39m
     [90m 526 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 527 |[39m         expect(response[33m.[39mbod
y[33m.[39mdata[33m.[39mannouncement[33m.[39mtitle)[3
3m.[39mtoBe(updateData[33m.[39mtitle)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:524:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Error Handling ΓÇ║ should handle 
non-existent user ID

    expect(received).toBe(expected) // Object.is equality

    Expected: "NOT_FOUND"
    Received: undefined

    [0m [90m 659 |[39m
     [90m 660 |[39m       expect(response[33m.[39mbody
[33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[33m;[3
9m
    [31m[1m>[22m[39m[90m 661 |[39m       expect(respo
nse[33m.[39mbody[33m.[39merror[33m.[39mtype)[33m.[3
9mtoBe([32m'NOT_FOUND'[39m)[33m;[39m
     [90m     |[39m                                      
  [31m[1m^[22m[39m
     [90m 662 |[39m     })[33m;[39m
     [90m 663 |[39m
     [90m 664 |[39m     it([32m'should handle invalid 
user status update'[39m[33m,[39m [36masync[39m () 
[33m=>[39m {[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:661:40)

::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:33 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:10:13:34 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
PASS tests/notification.test.js (24.792 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T10:13:12.300Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.222Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.224Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.534Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:14.551Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:21.387Z [[32minfo[39m]: 
Notification created: 4566a6d6-1044-4ce1-b713-58264ee1cd1d 
for user 15e42501-55e6-4749-adae-4c2cf9995b64

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:22.104Z [[32minfo[39m]: 
Notification 9fa27791-3a91-4f2f-952b-28e0c50e3f5b marked 
as read by user ca2251b2-659c-4d2d-91aa-77a2be23a1b3

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:22.427Z [[32minfo[39m]: 
Notification created: c933c79b-a38a-413d-b660-c3a63d8bc8f8 
for user 6c01f39b-756f-4dee-b08d-a88562ffda3a

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:22.774Z [[32minfo[39m]: 
Notification b8c19dcd-e851-4c51-add6-d7b0c98aa68a marked 
as read by user 6f42abc7-8ede-4914-a874-b3e0e237edef

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:23.100Z [[32minfo[39m]: All 
notifications marked as read for user 
5092791b-f580-474f-9b4f-3e5e953b1e27. Affected: 2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:23.420Z [[32minfo[39m]: 
Notification fbc3571c-4d8e-45e5-83e9-cead9c8617ae deleted 
by user acc507cb-8897-4263-8bd8-1e5a419b4fa9

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.122Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398403765ss88o 
(d15371f1-c6a9-44ae-920a-5d5399e1f281)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:24.132Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766398403765ss88o: 2 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[8e53778e-1e79-478a-898a-97ab47ed3808] GET 
/api/notifications 200 - 30ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.509Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398404158odio6 
(c3f84231-d935-465e-b6da-50d7d7cdb172)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:24.515Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766398404158odio6: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[3936fbec-a5de-409a-8a08-d3e2f29cfd4f] GET 
/api/notifications?read=false 200 - 12ms - GET 
/api/notifications?read=false

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:24.888Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398404527s0u0jo 
(3475e8d1-d44a-466d-9078-eb14e39bcb92)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:24.894Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766398404527s0u0jo: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:24] 
[a07b9bbb-0a98-43dc-82d1-8eab73645263] GET 
/api/notifications?type=message 200 - 10ms - GET 
/api/notifications?type=message

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:25.237Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398404904d1nrad 
(159d7025-1a4a-4975-a83f-7264bab415e4)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:25.245Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766398404904d1nrad: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:25] 
[46e1987a-8f00-4f1a-a1a5-e3f355117e08] GET 
/api/notifications?page=1&limit=1 200 - 13ms - GET 
/api/notifications?page=1&limit=1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      [2025-12-22 11:13:25] 
[0c02f803-7873-4166-873c-7f1d3d31e1ec] GET 
/api/notifications 401 - 1ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:25.591Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984052696h6npt 
(13bea39b-4d49-46e6-9720-e1e3c7f666fa)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:25] 
[da7113e2-988e-4441-94a8-6c666ae0e3f7] GET 
/api/notifications?limit=150 400 - 4ms - GET 
/api/notifications?limit=150

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:25.956Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398405602x5khal 
(1062fd40-2614-4368-906e-272fe08babdf)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:25.960Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766398405602x5khal: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:25] 
[e86df220-d4d0-478f-8140-1d44e7cd398d] GET 
/api/notifications/unread-count 200 - 12ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      [2025-12-22 11:13:25] 
[2ce2e8f5-ef18-40da-8460-76ec875f59a8] GET 
/api/notifications/unread-count 401 - 1ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:26.351Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398405983giay27 
(042eb563-7d0b-4432-b021-7634f1519f77)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:26.378Z [[32minfo[39m]: 
Notification f91fdca1-62c5-4313-a986-24d69ab1ebe6 marked 
as read by user 042eb563-7d0b-4432-b021-7634f1519f77

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:161:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:166:7)

    console.log
      2025-12-22T10:13:26.383Z [[32minfo[39m]: 
Notification f91fdca1-62c5-4313-a986-24d69ab1ebe6 marked 
as read by user testuser1766398405983giay27

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:26] 
[59c57723-7523-4dd8-a00f-43644589d99a] PUT /api/notificatio
ns/f91fdca1-62c5-4313-a986-24d69ab1ebe6/read 200 - 37ms - 
PUT /api/notifications/f91fdca1-62c5-4313-a986-24d69ab1ebe6
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:26.755Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398406397fnugu 
(e93a6cde-8363-4956-8fe9-6f2f67e36eed)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:26] 
[5e95e86d-d490-49e0-a116-58ef08da9b40] PUT /api/notificatio
ns/71cbe214-dd3d-463e-8d7e-a39fc896b4e5/read 200 - 9ms - 
PUT /api/notifications/71cbe214-dd3d-463e-8d7e-a39fc896b4e5
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:27.091Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398406769gq45gz 
(33ed0df6-06c1-4991-b0df-52321a26e7e2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:27] 
[26444e0d-192b-485c-bc45-b01d595d5e84] PUT /api/notificatio
ns/550e8400-e29b-41d4-a716-446655440000/read 404 - 10ms - 
PUT /api/notifications/550e8400-e29b-41d4-a716-446655440000
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:27.419Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398407108hnm6mu 
(7fa95549-16d7-46eb-9718-380b501fe18b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:27] 
[272554f8-3ebf-4693-a34a-9afc5a9e1dd8] PUT 
/api/notifications/invalid-id/read 400 - 4ms - PUT 
/api/notifications/invalid-id/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:27.743Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398407430qzt52q 
(ade13588-b9f1-4ff9-bd12-13be2f657c60)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:27.749Z [[32minfo[39m]: All 
notifications marked as read for user 
ade13588-b9f1-4ff9-bd12-13be2f657c60. Affected: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAllAsRead 
(src/controllers/notificationController.js:225:7)

    console.log
      2025-12-22T10:13:27.752Z [[32minfo[39m]: All 
notifications marked as read for user 
testuser1766398407430qzt52q. Affected rows: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:27] 
[1b03f7a7-a2a8-4ab9-90fb-fb0ef5fe66b5] PUT 
/api/notifications/mark-all-read 200 - 13ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:28.092Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398407763sotvzh 
(c5b554b9-7b37-4b3a-b7c6-a4aa635225e8)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:28.100Z [[32minfo[39m]: All 
notifications marked as read for user 
c5b554b9-7b37-4b3a-b7c6-a4aa635225e8. Affected: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAllAsRead 
(src/controllers/notificationController.js:225:7)

    console.log
      2025-12-22T10:13:28.103Z [[32minfo[39m]: All 
notifications marked as read for user 
testuser1766398407763sotvzh. Affected rows: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:28] 
[0c14287c-f7b4-44d9-9fdb-57ffd3bc6092] PUT 
/api/notifications/mark-all-read 200 - 16ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:28.438Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398408115fm8yhj 
(e52ace01-6bd7-458d-aa1e-46d7ea3a88ab)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:28] 
[eb52998c-c502-4ac7-90ca-1efbe3234e00] PUT 
/api/notifications/mark-all-read 400 - 5ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:28.787Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984084504cfpkh 
(2d09e7c7-24d1-481a-9ee9-563d6551dfd6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:28.797Z [[32minfo[39m]: 
Notification 7650d9e4-a45a-4540-bd4e-866e9061449e deleted 
by user 2d09e7c7-24d1-481a-9ee9-563d6551dfd6

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:302:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:309:9)

    console.log
      2025-12-22T10:13:28.800Z [[32minfo[39m]: 
Notification 7650d9e4-a45a-4540-bd4e-866e9061449e deleted 
by user testuser17663984084504cfpkh

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:28] 
[b26ee82d-498e-4fcb-8551-6c7ec73f3ac0] DELETE 
/api/notifications/7650d9e4-a45a-4540-bd4e-866e9061449e 
200 - 17ms - DELETE 
/api/notifications/7650d9e4-a45a-4540-bd4e-866e9061449e

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:29.130Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398408812ehvdr 
(19fa9260-4dbd-4f7b-ac95-b6c9e9ffa210)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[68da9c29-6b90-4994-b9cc-4ea5d5445f60] DELETE 
/api/notifications/550e8400-e29b-41d4-a716-446655440000 
404 - 8ms - DELETE 
/api/notifications/550e8400-e29b-41d4-a716-446655440000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:29.465Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398409145znubnt 
(a6364506-9e6b-40a5-8d6a-807acb075543)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[ffed57e8-23c8-4302-8eaa-fb40e140f5ce] DELETE 
/api/notifications/invalid-id 400 - 3ms - DELETE 
/api/notifications/invalid-id

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:29.804Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398409475snuf7 
(2e29b761-aa7d-4bf6-8780-84c49a17fe8b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:29.817Z [[32minfo[39m]: 
Notification created: eadfc317-03af-45fc-9670-7eb25e49d4ce 
for user 2e29b761-aa7d-4bf6-8780-84c49a17fe8b

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:29.821Z [[32minfo[39m]: 
Notification created: eadfc317-03af-45fc-9670-7eb25e49d4ce 
for user 2e29b761-aa7d-4bf6-8780-84c49a17fe8b

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:29] 
[9ad783da-3793-4c27-bdc0-fa4e9287a651] POST 
/api/notifications 201 - 22ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:30.181Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663984098342soicg 
(02bbe523-63bc-483d-ae5c-1bbd4b9b0c53)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:30] 
[18e19932-6c61-4603-8cd5-2ec6100db276] POST 
/api/notifications 400 - 4ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:30.493Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398410193gtj14f 
(d5960468-d709-401d-af4f-3e0d7ab62818)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:30] 
[e4e6bbbf-29f3-4e0e-8bd8-3eaf2db7cc49] POST 
/api/notifications 400 - 5ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:30.833Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398410506dzmnba 
(b555bd62-b602-4528-b404-af51c7f3d693)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:30] 
[2f3e1172-6a19-4805-a5c3-db8bc925cee9] POST 
/api/notifications 400 - 5ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:31.815Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398411494xnhpah 
(43a6b1f5-4c91-4df8-a398-e18abd9d7a95)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:31.819Z [[32minfo[39m]: Expired 
notifications cleaned up: 1 deleted

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:31] 
[e03adaee-b015-4ac4-a5e0-1fa19f628fb3] POST 
/api/notifications/cleanup 200 - 8ms - POST 
/api/notifications/cleanup

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:32.170Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398411842ytfz79 
(b652e69e-948f-4513-b1ed-dbd70007d05b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[d0deb3bd-f054-4e94-ba29-ceccaa49138a] POST 
/api/notifications/cleanup 403 - 3ms - POST 
/api/notifications/cleanup

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:32.521Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412182fhl3j8 
(27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.531Z [[32minfo[39m]: 
Notification created: 0084b777-750c-4944-a21a-dee355771416 
for user 27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:32.534Z [[32minfo[39m]: 
Notification created: 0084b777-750c-4944-a21a-dee355771416 
for user 27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[65bc2592-a792-4ff1-9ca2-2be6e30e0fe8] POST 
/api/notifications 201 - 16ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.543Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412182fhl3j8 
(27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.548Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766398412182fhl3j8: 3 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[e017fcbb-956a-4596-beb6-c0131bc5066e] GET 
/api/notifications 200 - 11ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.565Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412182fhl3j8 
(27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.568Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766398412182fhl3j8: 2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[09b8c650-fb06-4943-a037-928073209341] GET 
/api/notifications/unread-count 200 - 8ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.578Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412182fhl3j8 
(27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.587Z [[32minfo[39m]: 
Notification 0084b777-750c-4944-a21a-dee355771416 marked 
as read by user 27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:161:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:166:7)

    console.log
      2025-12-22T10:13:32.592Z [[32minfo[39m]: 
Notification 0084b777-750c-4944-a21a-dee355771416 marked 
as read by user testuser1766398412182fhl3j8

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[ad5d77f7-78ff-4962-a439-bbc66f2451df] PUT /api/notificatio
ns/0084b777-750c-4944-a21a-dee355771416/read 200 - 19ms - 
PUT /api/notifications/0084b777-750c-4944-a21a-dee355771416
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.603Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412182fhl3j8 
(27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.607Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766398412182fhl3j8: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[fcd996a6-c6dd-4ec7-987d-70e1b8b40804] GET 
/api/notifications/unread-count 200 - 9ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.618Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412182fhl3j8 
(27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.629Z [[32minfo[39m]: 
Notification 0084b777-750c-4944-a21a-dee355771416 deleted 
by user 27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:302:7)

    console.log
      2025-12-22T10:13:32.631Z [[32minfo[39m]: 
Notification 0084b777-750c-4944-a21a-dee355771416 deleted 
by user testuser1766398412182fhl3j8

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[a885b60f-f5e8-4771-b7e3-684740060ff6] DELETE 
/api/notifications/0084b777-750c-4944-a21a-dee355771416 
200 - 18ms - DELETE 
/api/notifications/0084b777-750c-4944-a21a-dee355771416

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.645Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412182fhl3j8 
(27ec8a9d-1f5b-48e5-86e5-7f1a2d2f5746)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:32.651Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766398412182fhl3j8: 2 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:32] 
[54d9f3d1-25e8-4adb-8617-f02e0408eac9] GET 
/api/notifications 200 - 13ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T10:13:33.205Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.207Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.216Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.219Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.222Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.224Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.227Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.230Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.232Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.234Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.236Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.238Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.242Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.246Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.248Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.250Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.253Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.255Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.266Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.270Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.272Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.274Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.276Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.278Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.280Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.282Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.283Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.285Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.287Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.288Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.290Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.292Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.294Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.295Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.297Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.298Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.301Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.302Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.304Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.305Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.308Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.309Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.311Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.313Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.316Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.319Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.321Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.327Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.329Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.331Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.334Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.336Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.338Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.342Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.349Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.355Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.358Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.360Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.362Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.363Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766398412666yogidt 
(e5e98c95-b030-43d7-aa07-a5757703f82d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.520Z [[32minfo[39m]: 
Notification created: 82e6cd0c-c9a1-4d73-aac9-ec533d008cc4 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.524Z [[32minfo[39m]: 
Notification created: 05d9ab1e-2e74-4ac4-9676-6ee404d3914a 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.526Z [[32minfo[39m]: 
Notification created: f4fc9d43-d319-4137-b36f-8d737284be23 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.528Z [[32minfo[39m]: 
Notification created: 387d9c8b-56cd-43e7-bab8-aea8958f8fa3 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.531Z [[32minfo[39m]: 
Notification created: f6f22d85-b33b-478d-88ce-9cb0092bbd3b 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.532Z [[32minfo[39m]: 
Notification created: c57e63da-5e96-4e8d-b1d2-7f808bdd74ca 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.534Z [[32minfo[39m]: 
Notification created: 4d128fbb-1f26-4470-ac1d-3d186bed063b 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.536Z [[32minfo[39m]: 
Notification created: 82e6cd0c-c9a1-4d73-aac9-ec533d008cc4 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[1b179e70-85a2-488f-8103-97400726c364] POST 
/api/notifications 201 - 406ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.538Z [[32minfo[39m]: 
Notification created: 05d9ab1e-2e74-4ac4-9676-6ee404d3914a 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[c79258db-fa0d-4768-8aea-c1a610063277] POST 
/api/notifications 201 - 340ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.540Z [[32minfo[39m]: 
Notification created: f4fc9d43-d319-4137-b36f-8d737284be23 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[941a2cf2-c45b-4b4c-9fc6-591e11edf4df] POST 
/api/notifications 201 - 341ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.542Z [[32minfo[39m]: 
Notification created: 387d9c8b-56cd-43e7-bab8-aea8958f8fa3 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[af4de9b3-6760-4197-ab64-f4c6fa68828f] POST 
/api/notifications 201 - 344ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.544Z [[32minfo[39m]: 
Notification created: f6f22d85-b33b-478d-88ce-9cb0092bbd3b 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[2268abcd-8b4b-4307-b792-2a3dc746a653] POST 
/api/notifications 201 - 343ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.547Z [[32minfo[39m]: 
Notification created: c57e63da-5e96-4e8d-b1d2-7f808bdd74ca 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[fbb0a92b-172e-4bd5-9230-5df9099c5dc7] POST 
/api/notifications 201 - 346ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.550Z [[32minfo[39m]: 
Notification created: 4d128fbb-1f26-4470-ac1d-3d186bed063b 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[7d4b7482-e8c5-4040-bc83-2b0a4d5ffcc2] POST 
/api/notifications 201 - 348ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.725Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "68d0f3c0-5af3-4ca3-913f-c20b32e7c77a",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.352Z",
              "createdAt": "2025-12-22T10:13:33.352Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "68d0f3c0-5af3-4ca3-913f-c20b32e7c77a",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.352 +00:00",
            "2025-12-22 10:13:33.352 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "68d0f3c0-5af3-4ca3-913f-c20b32e7c77a",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.352 +00:00",
            "2025-12-22 10:13:33.352 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.726Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "68d0f3c0-5af3-4ca3-913f-c20b32e7c77a",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.352Z",
              "createdAt": "2025-12-22T10:13:33.352Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "68d0f3c0-5af3-4ca3-913f-c20b32e7c77a",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.352 +00:00",
            "2025-12-22 10:13:33.352 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "68d0f3c0-5af3-4ca3-913f-c20b32e7c77a",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.352 +00:00",
            "2025-12-22 10:13:33.352 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.729Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "96a72b1a-c8b6-4343-b94d-beed021a9d45",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.348Z",
              "createdAt": "2025-12-22T10:13:33.348Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "96a72b1a-c8b6-4343-b94d-beed021a9d45",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.348 +00:00",
            "2025-12-22 10:13:33.348 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "96a72b1a-c8b6-4343-b94d-beed021a9d45",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.348 +00:00",
            "2025-12-22 10:13:33.348 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.730Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "96a72b1a-c8b6-4343-b94d-beed021a9d45",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.348Z",
              "createdAt": "2025-12-22T10:13:33.348Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "96a72b1a-c8b6-4343-b94d-beed021a9d45",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.348 +00:00",
            "2025-12-22 10:13:33.348 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "96a72b1a-c8b6-4343-b94d-beed021a9d45",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.348 +00:00",
            "2025-12-22 10:13:33.348 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.732Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c5fa2190-13b2-4e33-bb8f-374cb264704e",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.351Z",
              "createdAt": "2025-12-22T10:13:33.351Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c5fa2190-13b2-4e33-bb8f-374cb264704e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.351 +00:00",
            "2025-12-22 10:13:33.351 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c5fa2190-13b2-4e33-bb8f-374cb264704e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.351 +00:00",
            "2025-12-22 10:13:33.351 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.733Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c5fa2190-13b2-4e33-bb8f-374cb264704e",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.351Z",
              "createdAt": "2025-12-22T10:13:33.351Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c5fa2190-13b2-4e33-bb8f-374cb264704e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.351 +00:00",
            "2025-12-22 10:13:33.351 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c5fa2190-13b2-4e33-bb8f-374cb264704e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.351 +00:00",
            "2025-12-22 10:13:33.351 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.735Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c05902da-e6d5-4908-ba9d-33e93898c5f6",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.354Z",
              "createdAt": "2025-12-22T10:13:33.354Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c05902da-e6d5-4908-ba9d-33e93898c5f6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.354 +00:00",
            "2025-12-22 10:13:33.354 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c05902da-e6d5-4908-ba9d-33e93898c5f6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.354 +00:00",
            "2025-12-22 10:13:33.354 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.736Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c05902da-e6d5-4908-ba9d-33e93898c5f6",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.354Z",
              "createdAt": "2025-12-22T10:13:33.354Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c05902da-e6d5-4908-ba9d-33e93898c5f6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.354 +00:00",
            "2025-12-22 10:13:33.354 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c05902da-e6d5-4908-ba9d-33e93898c5f6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.354 +00:00",
            "2025-12-22 10:13:33.354 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.738Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "208ac402-87c0-4bee-ace7-ce051b05621e",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.365Z",
              "createdAt": "2025-12-22T10:13:33.365Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "208ac402-87c0-4bee-ace7-ce051b05621e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.365 +00:00",
            "2025-12-22 10:13:33.365 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "208ac402-87c0-4bee-ace7-ce051b05621e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.365 +00:00",
            "2025-12-22 10:13:33.365 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.739Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "208ac402-87c0-4bee-ace7-ce051b05621e",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.365Z",
              "createdAt": "2025-12-22T10:13:33.365Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "208ac402-87c0-4bee-ace7-ce051b05621e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.365 +00:00",
            "2025-12-22 10:13:33.365 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "208ac402-87c0-4bee-ace7-ce051b05621e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.365 +00:00",
            "2025-12-22 10:13:33.365 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.741Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "3f686698-29d6-41f6-9b8b-58c62a05e8b2",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.367Z",
              "createdAt": "2025-12-22T10:13:33.367Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3f686698-29d6-41f6-9b8b-58c62a05e8b2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.367 +00:00",
            "2025-12-22 10:13:33.367 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3f686698-29d6-41f6-9b8b-58c62a05e8b2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.367 +00:00",
            "2025-12-22 10:13:33.367 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.742Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "3f686698-29d6-41f6-9b8b-58c62a05e8b2",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.367Z",
              "createdAt": "2025-12-22T10:13:33.367Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3f686698-29d6-41f6-9b8b-58c62a05e8b2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.367 +00:00",
            "2025-12-22 10:13:33.367 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3f686698-29d6-41f6-9b8b-58c62a05e8b2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.367 +00:00",
            "2025-12-22 10:13:33.367 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.745Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "87e554f1-221f-4539-a422-94ec2cc2f172",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.368Z",
              "createdAt": "2025-12-22T10:13:33.368Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "87e554f1-221f-4539-a422-94ec2cc2f172",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.368 +00:00",
            "2025-12-22 10:13:33.368 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "87e554f1-221f-4539-a422-94ec2cc2f172",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.368 +00:00",
            "2025-12-22 10:13:33.368 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.746Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "87e554f1-221f-4539-a422-94ec2cc2f172",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.368Z",
              "createdAt": "2025-12-22T10:13:33.368Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "87e554f1-221f-4539-a422-94ec2cc2f172",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.368 +00:00",
            "2025-12-22 10:13:33.368 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "87e554f1-221f-4539-a422-94ec2cc2f172",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.368 +00:00",
            "2025-12-22 10:13:33.368 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.748Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "4f3a8e6b-1f06-45c4-bdb6-0c2e3ff900e6",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.370Z",
              "createdAt": "2025-12-22T10:13:33.370Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4f3a8e6b-1f06-45c4-bdb6-0c2e3ff900e6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.370 +00:00",
            "2025-12-22 10:13:33.370 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4f3a8e6b-1f06-45c4-bdb6-0c2e3ff900e6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.370 +00:00",
            "2025-12-22 10:13:33.370 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.749Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "4f3a8e6b-1f06-45c4-bdb6-0c2e3ff900e6",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.370Z",
              "createdAt": "2025-12-22T10:13:33.370Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4f3a8e6b-1f06-45c4-bdb6-0c2e3ff900e6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.370 +00:00",
            "2025-12-22 10:13:33.370 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4f3a8e6b-1f06-45c4-bdb6-0c2e3ff900e6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.370 +00:00",
            "2025-12-22 10:13:33.370 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.750Z [[32minfo[39m]: 
Notification created: 59969953-2eab-46d8-b488-b9b2cddb7f04 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.755Z [[32minfo[39m]: 
Notification created: dd7a97b1-c765-4536-b8aa-7383d25d0bb2 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.757Z [[32minfo[39m]: 
Notification created: ba4f1437-3475-49c9-840a-def9119e6357 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.759Z [[32minfo[39m]: 
Notification created: d97d2ad8-609c-4a44-a245-56b4c928790c 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.761Z [[32minfo[39m]: 
Notification created: 62f065d7-a05d-4233-a231-1c976f3f7c1d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.764Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "2866a517-2a6c-4ddf-b392-d09a5ab5e6ff",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.372Z",
              "createdAt": "2025-12-22T10:13:33.372Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2866a517-2a6c-4ddf-b392-d09a5ab5e6ff",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.372 +00:00",
            "2025-12-22 10:13:33.372 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2866a517-2a6c-4ddf-b392-d09a5ab5e6ff",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.372 +00:00",
            "2025-12-22 10:13:33.372 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.765Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "2866a517-2a6c-4ddf-b392-d09a5ab5e6ff",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.372Z",
              "createdAt": "2025-12-22T10:13:33.372Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2866a517-2a6c-4ddf-b392-d09a5ab5e6ff",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.372 +00:00",
            "2025-12-22 10:13:33.372 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2866a517-2a6c-4ddf-b392-d09a5ab5e6ff",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.372 +00:00",
            "2025-12-22 10:13:33.372 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.767Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "53d315f6-8d24-42ec-a462-b8a7f08ca4a5",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.373Z",
              "createdAt": "2025-12-22T10:13:33.373Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "53d315f6-8d24-42ec-a462-b8a7f08ca4a5",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.373 +00:00",
            "2025-12-22 10:13:33.373 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "53d315f6-8d24-42ec-a462-b8a7f08ca4a5",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.373 +00:00",
            "2025-12-22 10:13:33.373 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.768Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "53d315f6-8d24-42ec-a462-b8a7f08ca4a5",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.373Z",
              "createdAt": "2025-12-22T10:13:33.373Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "53d315f6-8d24-42ec-a462-b8a7f08ca4a5",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.373 +00:00",
            "2025-12-22 10:13:33.373 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "53d315f6-8d24-42ec-a462-b8a7f08ca4a5",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.373 +00:00",
            "2025-12-22 10:13:33.373 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.771Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "192935c0-dc20-4fce-b934-2f59d81e8bdb",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.374Z",
              "createdAt": "2025-12-22T10:13:33.374Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "192935c0-dc20-4fce-b934-2f59d81e8bdb",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.374 +00:00",
            "2025-12-22 10:13:33.374 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "192935c0-dc20-4fce-b934-2f59d81e8bdb",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.374 +00:00",
            "2025-12-22 10:13:33.374 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.772Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "192935c0-dc20-4fce-b934-2f59d81e8bdb",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.374Z",
              "createdAt": "2025-12-22T10:13:33.374Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "192935c0-dc20-4fce-b934-2f59d81e8bdb",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.374 +00:00",
            "2025-12-22 10:13:33.374 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "192935c0-dc20-4fce-b934-2f59d81e8bdb",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.374 +00:00",
            "2025-12-22 10:13:33.374 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.774Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "e5ca4f88-ce33-41a7-8d76-c9c8a04ac5f1",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.375Z",
              "createdAt": "2025-12-22T10:13:33.375Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e5ca4f88-ce33-41a7-8d76-c9c8a04ac5f1",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.375 +00:00",
            "2025-12-22 10:13:33.375 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e5ca4f88-ce33-41a7-8d76-c9c8a04ac5f1",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.375 +00:00",
            "2025-12-22 10:13:33.375 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.775Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "e5ca4f88-ce33-41a7-8d76-c9c8a04ac5f1",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.375Z",
              "createdAt": "2025-12-22T10:13:33.375Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e5ca4f88-ce33-41a7-8d76-c9c8a04ac5f1",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.375 +00:00",
            "2025-12-22 10:13:33.375 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e5ca4f88-ce33-41a7-8d76-c9c8a04ac5f1",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.375 +00:00",
            "2025-12-22 10:13:33.375 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.777Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "4e282b2b-951a-4599-bf69-2d8a5b50847c",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.376Z",
              "createdAt": "2025-12-22T10:13:33.376Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4e282b2b-951a-4599-bf69-2d8a5b50847c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.376 +00:00",
            "2025-12-22 10:13:33.376 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4e282b2b-951a-4599-bf69-2d8a5b50847c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.376 +00:00",
            "2025-12-22 10:13:33.376 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.778Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "4e282b2b-951a-4599-bf69-2d8a5b50847c",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.376Z",
              "createdAt": "2025-12-22T10:13:33.376Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4e282b2b-951a-4599-bf69-2d8a5b50847c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.376 +00:00",
            "2025-12-22 10:13:33.376 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4e282b2b-951a-4599-bf69-2d8a5b50847c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.376 +00:00",
            "2025-12-22 10:13:33.376 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.780Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "7bc69737-4857-448d-9575-c0d8f0d19f63",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.377Z",
              "createdAt": "2025-12-22T10:13:33.377Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7bc69737-4857-448d-9575-c0d8f0d19f63",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.377 +00:00",
            "2025-12-22 10:13:33.377 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7bc69737-4857-448d-9575-c0d8f0d19f63",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.377 +00:00",
            "2025-12-22 10:13:33.377 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.781Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "7bc69737-4857-448d-9575-c0d8f0d19f63",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.377Z",
              "createdAt": "2025-12-22T10:13:33.377Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7bc69737-4857-448d-9575-c0d8f0d19f63",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.377 +00:00",
            "2025-12-22 10:13:33.377 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7bc69737-4857-448d-9575-c0d8f0d19f63",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.377 +00:00",
            "2025-12-22 10:13:33.377 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.783Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "5fd52f5c-254d-431c-85b6-3f2c63057c5b",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.379Z",
              "createdAt": "2025-12-22T10:13:33.379Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5fd52f5c-254d-431c-85b6-3f2c63057c5b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.379 +00:00",
            "2025-12-22 10:13:33.379 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5fd52f5c-254d-431c-85b6-3f2c63057c5b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.379 +00:00",
            "2025-12-22 10:13:33.379 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.784Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "5fd52f5c-254d-431c-85b6-3f2c63057c5b",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.379Z",
              "createdAt": "2025-12-22T10:13:33.379Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5fd52f5c-254d-431c-85b6-3f2c63057c5b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.379 +00:00",
            "2025-12-22 10:13:33.379 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5fd52f5c-254d-431c-85b6-3f2c63057c5b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.379 +00:00",
            "2025-12-22 10:13:33.379 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.786Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "b8f29c3e-c1f4-4445-8d27-188841a9176f",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.380Z",
              "createdAt": "2025-12-22T10:13:33.380Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b8f29c3e-c1f4-4445-8d27-188841a9176f",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.380 +00:00",
            "2025-12-22 10:13:33.380 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b8f29c3e-c1f4-4445-8d27-188841a9176f",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.380 +00:00",
            "2025-12-22 10:13:33.380 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.787Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "b8f29c3e-c1f4-4445-8d27-188841a9176f",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.380Z",
              "createdAt": "2025-12-22T10:13:33.380Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b8f29c3e-c1f4-4445-8d27-188841a9176f",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.380 +00:00",
            "2025-12-22 10:13:33.380 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b8f29c3e-c1f4-4445-8d27-188841a9176f",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.380 +00:00",
            "2025-12-22 10:13:33.380 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.789Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "ef343e72-96aa-45fa-a98a-e021c959d592",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.381Z",
              "createdAt": "2025-12-22T10:13:33.381Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef343e72-96aa-45fa-a98a-e021c959d592",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.381 +00:00",
            "2025-12-22 10:13:33.381 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef343e72-96aa-45fa-a98a-e021c959d592",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.381 +00:00",
            "2025-12-22 10:13:33.381 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.790Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "ef343e72-96aa-45fa-a98a-e021c959d592",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.381Z",
              "createdAt": "2025-12-22T10:13:33.381Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef343e72-96aa-45fa-a98a-e021c959d592",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.381 +00:00",
            "2025-12-22 10:13:33.381 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef343e72-96aa-45fa-a98a-e021c959d592",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.381 +00:00",
            "2025-12-22 10:13:33.381 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.792Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "dcadb81b-a3a0-409f-862e-9714b00804ba",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.382Z",
              "createdAt": "2025-12-22T10:13:33.382Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "dcadb81b-a3a0-409f-862e-9714b00804ba",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.382 +00:00",
            "2025-12-22 10:13:33.382 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "dcadb81b-a3a0-409f-862e-9714b00804ba",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.382 +00:00",
            "2025-12-22 10:13:33.382 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.793Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "dcadb81b-a3a0-409f-862e-9714b00804ba",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.382Z",
              "createdAt": "2025-12-22T10:13:33.382Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "dcadb81b-a3a0-409f-862e-9714b00804ba",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.382 +00:00",
            "2025-12-22 10:13:33.382 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "dcadb81b-a3a0-409f-862e-9714b00804ba",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.382 +00:00",
            "2025-12-22 10:13:33.382 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.796Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "a272992d-b76f-4244-8866-bbd36f4c2301",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.383Z",
              "createdAt": "2025-12-22T10:13:33.383Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a272992d-b76f-4244-8866-bbd36f4c2301",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.383 +00:00",
            "2025-12-22 10:13:33.383 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a272992d-b76f-4244-8866-bbd36f4c2301",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.383 +00:00",
            "2025-12-22 10:13:33.383 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.797Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "a272992d-b76f-4244-8866-bbd36f4c2301",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.383Z",
              "createdAt": "2025-12-22T10:13:33.383Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a272992d-b76f-4244-8866-bbd36f4c2301",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.383 +00:00",
            "2025-12-22 10:13:33.383 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a272992d-b76f-4244-8866-bbd36f4c2301",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.383 +00:00",
            "2025-12-22 10:13:33.383 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.799Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "4b28e4c3-40b1-4407-bce5-2ae9c0476ba2",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.383Z",
              "createdAt": "2025-12-22T10:13:33.383Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4b28e4c3-40b1-4407-bce5-2ae9c0476ba2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.383 +00:00",
            "2025-12-22 10:13:33.383 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4b28e4c3-40b1-4407-bce5-2ae9c0476ba2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.383 +00:00",
            "2025-12-22 10:13:33.383 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.799Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "4b28e4c3-40b1-4407-bce5-2ae9c0476ba2",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.383Z",
              "createdAt": "2025-12-22T10:13:33.383Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4b28e4c3-40b1-4407-bce5-2ae9c0476ba2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.383 +00:00",
            "2025-12-22 10:13:33.383 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4b28e4c3-40b1-4407-bce5-2ae9c0476ba2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.383 +00:00",
            "2025-12-22 10:13:33.383 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.801Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "7d5a318b-8cb1-44e4-9f0e-312e0b65ec1b",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.384Z",
              "createdAt": "2025-12-22T10:13:33.384Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7d5a318b-8cb1-44e4-9f0e-312e0b65ec1b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.384 +00:00",
            "2025-12-22 10:13:33.384 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7d5a318b-8cb1-44e4-9f0e-312e0b65ec1b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.384 +00:00",
            "2025-12-22 10:13:33.384 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.802Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "7d5a318b-8cb1-44e4-9f0e-312e0b65ec1b",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.384Z",
              "createdAt": "2025-12-22T10:13:33.384Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7d5a318b-8cb1-44e4-9f0e-312e0b65ec1b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.384 +00:00",
            "2025-12-22 10:13:33.384 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7d5a318b-8cb1-44e4-9f0e-312e0b65ec1b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.384 +00:00",
            "2025-12-22 10:13:33.384 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.804Z [[32minfo[39m]: 
Notification created: 59969953-2eab-46d8-b488-b9b2cddb7f04 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[85d23dbc-80c6-406f-a8c1-9e0305676648] POST 
/api/notifications 201 - 683ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.806Z [[32minfo[39m]: 
Notification created: dd7a97b1-c765-4536-b8aa-7383d25d0bb2 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[123b6d07-8c4d-4f3e-89d7-50a0876c537e] POST 
/api/notifications 201 - 674ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.808Z [[32minfo[39m]: 
Notification created: ba4f1437-3475-49c9-840a-def9119e6357 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[964365b1-d806-4e37-8c6f-9b4e5bd04168] POST 
/api/notifications 201 - 685ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.814Z [[32minfo[39m]: 
Notification created: d97d2ad8-609c-4a44-a245-56b4c928790c 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[893440f0-0a8f-46e5-86ee-d874e14eae2b] POST 
/api/notifications 201 - 686ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.817Z [[32minfo[39m]: 
Notification created: 62f065d7-a05d-4233-a231-1c976f3f7c1d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[a4c136fa-d5e0-4774-904f-180c6061701c] POST 
/api/notifications 201 - 683ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.819Z [[32minfo[39m]: 
Notification created: eb44366d-1a65-4713-8493-6568b66b3206 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.822Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c11cf9dc-7736-4755-a6ef-279537ea1d85",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.371Z",
              "createdAt": "2025-12-22T10:13:33.371Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c11cf9dc-7736-4755-a6ef-279537ea1d85",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.371 +00:00",
            "2025-12-22 10:13:33.371 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c11cf9dc-7736-4755-a6ef-279537ea1d85",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.371 +00:00",
            "2025-12-22 10:13:33.371 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.823Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c11cf9dc-7736-4755-a6ef-279537ea1d85",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.371Z",
              "createdAt": "2025-12-22T10:13:33.371Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c11cf9dc-7736-4755-a6ef-279537ea1d85",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.371 +00:00",
            "2025-12-22 10:13:33.371 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c11cf9dc-7736-4755-a6ef-279537ea1d85",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.371 +00:00",
            "2025-12-22 10:13:33.371 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.826Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "af5fb39b-dbbd-4fcd-84c6-940c9830e151",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.369Z",
              "createdAt": "2025-12-22T10:13:33.369Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "af5fb39b-dbbd-4fcd-84c6-940c9830e151",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.369 +00:00",
            "2025-12-22 10:13:33.369 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "af5fb39b-dbbd-4fcd-84c6-940c9830e151",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.369 +00:00",
            "2025-12-22 10:13:33.369 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.827Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "af5fb39b-dbbd-4fcd-84c6-940c9830e151",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.369Z",
              "createdAt": "2025-12-22T10:13:33.369Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "af5fb39b-dbbd-4fcd-84c6-940c9830e151",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.369 +00:00",
            "2025-12-22 10:13:33.369 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "af5fb39b-dbbd-4fcd-84c6-940c9830e151",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.369 +00:00",
            "2025-12-22 10:13:33.369 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.828Z [[32minfo[39m]: 
Notification created: 923ba6d9-e7bc-425e-8827-b9fb565d4d8d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.831Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "02d03f9d-795e-4dbd-8412-1183ac5b9e31",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.379Z",
              "createdAt": "2025-12-22T10:13:33.379Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "02d03f9d-795e-4dbd-8412-1183ac5b9e31",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.379 +00:00",
            "2025-12-22 10:13:33.379 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "02d03f9d-795e-4dbd-8412-1183ac5b9e31",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.379 +00:00",
            "2025-12-22 10:13:33.379 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.832Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "02d03f9d-795e-4dbd-8412-1183ac5b9e31",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.379Z",
              "createdAt": "2025-12-22T10:13:33.379Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "02d03f9d-795e-4dbd-8412-1183ac5b9e31",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.379 +00:00",
            "2025-12-22 10:13:33.379 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "02d03f9d-795e-4dbd-8412-1183ac5b9e31",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.379 +00:00",
            "2025-12-22 10:13:33.379 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.834Z [[32minfo[39m]: 
Notification created: 5ac5b2ff-af2a-4301-952f-c4d482c3ca94 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.835Z [[32minfo[39m]: 
Notification created: 59a6daf6-6061-43a3-bbe5-d1ff971f35bc 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.838Z [[32minfo[39m]: 
Notification created: 3529aa53-398b-4d65-b4f0-e67496613a9a 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.841Z [[32minfo[39m]: 
Notification created: 2f43c9eb-bd13-46f9-94ae-a5f66e5f57f2 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.844Z [[32minfo[39m]: 
Notification created: c2434a32-0308-44e7-94a2-8669d6050c26 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.846Z [[32minfo[39m]: 
Notification created: 5ca56504-7edd-439c-968b-8fbb19dff6ad 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.848Z [[32minfo[39m]: 
Notification created: eb44366d-1a65-4713-8493-6568b66b3206 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[48cc07c3-f036-45e0-b859-022b93a55eaf] POST 
/api/notifications 201 - 699ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.850Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "2f2fbf6a-1b2a-4a72-bb07-240d79343d8c",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.385Z",
              "createdAt": "2025-12-22T10:13:33.385Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2f2fbf6a-1b2a-4a72-bb07-240d79343d8c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.385 +00:00",
            "2025-12-22 10:13:33.385 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2f2fbf6a-1b2a-4a72-bb07-240d79343d8c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.385 +00:00",
            "2025-12-22 10:13:33.385 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.851Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "2f2fbf6a-1b2a-4a72-bb07-240d79343d8c",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.385Z",
              "createdAt": "2025-12-22T10:13:33.385Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2f2fbf6a-1b2a-4a72-bb07-240d79343d8c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.385 +00:00",
            "2025-12-22 10:13:33.385 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2f2fbf6a-1b2a-4a72-bb07-240d79343d8c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.385 +00:00",
            "2025-12-22 10:13:33.385 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.853Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "4c4e4b59-6610-42a4-8c7b-15964d9146bb",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.386Z",
              "createdAt": "2025-12-22T10:13:33.386Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4c4e4b59-6610-42a4-8c7b-15964d9146bb",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.386 +00:00",
            "2025-12-22 10:13:33.386 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4c4e4b59-6610-42a4-8c7b-15964d9146bb",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.386 +00:00",
            "2025-12-22 10:13:33.386 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.853Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "4c4e4b59-6610-42a4-8c7b-15964d9146bb",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.386Z",
              "createdAt": "2025-12-22T10:13:33.386Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4c4e4b59-6610-42a4-8c7b-15964d9146bb",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.386 +00:00",
            "2025-12-22 10:13:33.386 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4c4e4b59-6610-42a4-8c7b-15964d9146bb",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.386 +00:00",
            "2025-12-22 10:13:33.386 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.856Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "0a3441cb-b225-4368-a8ac-abd4639fa8de",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.387Z",
              "createdAt": "2025-12-22T10:13:33.387Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0a3441cb-b225-4368-a8ac-abd4639fa8de",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.387 +00:00",
            "2025-12-22 10:13:33.387 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0a3441cb-b225-4368-a8ac-abd4639fa8de",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.387 +00:00",
            "2025-12-22 10:13:33.387 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.856Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "0a3441cb-b225-4368-a8ac-abd4639fa8de",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.387Z",
              "createdAt": "2025-12-22T10:13:33.387Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0a3441cb-b225-4368-a8ac-abd4639fa8de",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.387 +00:00",
            "2025-12-22 10:13:33.387 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0a3441cb-b225-4368-a8ac-abd4639fa8de",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.387 +00:00",
            "2025-12-22 10:13:33.387 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.859Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "6dd7a2d4-bc1f-4f8b-a16b-c8720fb63e0b",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.388Z",
              "createdAt": "2025-12-22T10:13:33.388Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6dd7a2d4-bc1f-4f8b-a16b-c8720fb63e0b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.388 +00:00",
            "2025-12-22 10:13:33.388 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6dd7a2d4-bc1f-4f8b-a16b-c8720fb63e0b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.388 +00:00",
            "2025-12-22 10:13:33.388 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.860Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "6dd7a2d4-bc1f-4f8b-a16b-c8720fb63e0b",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.388Z",
              "createdAt": "2025-12-22T10:13:33.388Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6dd7a2d4-bc1f-4f8b-a16b-c8720fb63e0b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.388 +00:00",
            "2025-12-22 10:13:33.388 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6dd7a2d4-bc1f-4f8b-a16b-c8720fb63e0b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.388 +00:00",
            "2025-12-22 10:13:33.388 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.863Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c37dbce1-44b6-4172-8fab-c84afd583c6c",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.388Z",
              "createdAt": "2025-12-22T10:13:33.388Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c37dbce1-44b6-4172-8fab-c84afd583c6c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.388 +00:00",
            "2025-12-22 10:13:33.388 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c37dbce1-44b6-4172-8fab-c84afd583c6c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.388 +00:00",
            "2025-12-22 10:13:33.388 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.863Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c37dbce1-44b6-4172-8fab-c84afd583c6c",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.388Z",
              "createdAt": "2025-12-22T10:13:33.388Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c37dbce1-44b6-4172-8fab-c84afd583c6c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.388 +00:00",
            "2025-12-22 10:13:33.388 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c37dbce1-44b6-4172-8fab-c84afd583c6c",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.388 +00:00",
            "2025-12-22 10:13:33.388 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.865Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c0868f82-74a9-42af-8baf-3f3a58c714e2",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.390Z",
              "createdAt": "2025-12-22T10:13:33.390Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c0868f82-74a9-42af-8baf-3f3a58c714e2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.390 +00:00",
            "2025-12-22 10:13:33.390 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c0868f82-74a9-42af-8baf-3f3a58c714e2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.390 +00:00",
            "2025-12-22 10:13:33.390 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.866Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "c0868f82-74a9-42af-8baf-3f3a58c714e2",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.390Z",
              "createdAt": "2025-12-22T10:13:33.390Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c0868f82-74a9-42af-8baf-3f3a58c714e2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.390 +00:00",
            "2025-12-22 10:13:33.390 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c0868f82-74a9-42af-8baf-3f3a58c714e2",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.390 +00:00",
            "2025-12-22 10:13:33.390 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.868Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "82dbb930-65ed-4c3b-9f34-efd2e8b7a31f",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.391Z",
              "createdAt": "2025-12-22T10:13:33.391Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "82dbb930-65ed-4c3b-9f34-efd2e8b7a31f",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.391 +00:00",
            "2025-12-22 10:13:33.391 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "82dbb930-65ed-4c3b-9f34-efd2e8b7a31f",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.391 +00:00",
            "2025-12-22 10:13:33.391 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.869Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "82dbb930-65ed-4c3b-9f34-efd2e8b7a31f",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.391Z",
              "createdAt": "2025-12-22T10:13:33.391Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "82dbb930-65ed-4c3b-9f34-efd2e8b7a31f",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.391 +00:00",
            "2025-12-22 10:13:33.391 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "82dbb930-65ed-4c3b-9f34-efd2e8b7a31f",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.391 +00:00",
            "2025-12-22 10:13:33.391 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.871Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "5652264e-fd62-4e9f-918a-ceefeca3945d",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.392Z",
              "createdAt": "2025-12-22T10:13:33.392Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5652264e-fd62-4e9f-918a-ceefeca3945d",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.392 +00:00",
            "2025-12-22 10:13:33.392 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5652264e-fd62-4e9f-918a-ceefeca3945d",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.392 +00:00",
            "2025-12-22 10:13:33.392 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.871Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "5652264e-fd62-4e9f-918a-ceefeca3945d",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.392Z",
              "createdAt": "2025-12-22T10:13:33.392Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5652264e-fd62-4e9f-918a-ceefeca3945d",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.392 +00:00",
            "2025-12-22 10:13:33.392 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5652264e-fd62-4e9f-918a-ceefeca3945d",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.392 +00:00",
            "2025-12-22 10:13:33.392 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.873Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "89d375fb-9716-4367-b8ee-7379a467c270",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.393Z",
              "createdAt": "2025-12-22T10:13:33.393Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "89d375fb-9716-4367-b8ee-7379a467c270",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.393 +00:00",
            "2025-12-22 10:13:33.393 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "89d375fb-9716-4367-b8ee-7379a467c270",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.393 +00:00",
            "2025-12-22 10:13:33.393 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.874Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "89d375fb-9716-4367-b8ee-7379a467c270",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.393Z",
              "createdAt": "2025-12-22T10:13:33.393Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "89d375fb-9716-4367-b8ee-7379a467c270",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.393 +00:00",
            "2025-12-22 10:13:33.393 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "89d375fb-9716-4367-b8ee-7379a467c270",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.393 +00:00",
            "2025-12-22 10:13:33.393 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.876Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "f5be0eb5-0a81-4f0b-a7e5-c9850bf1ed30",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.394Z",
              "createdAt": "2025-12-22T10:13:33.394Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f5be0eb5-0a81-4f0b-a7e5-c9850bf1ed30",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.394 +00:00",
            "2025-12-22 10:13:33.394 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f5be0eb5-0a81-4f0b-a7e5-c9850bf1ed30",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.394 +00:00",
            "2025-12-22 10:13:33.394 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.877Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "f5be0eb5-0a81-4f0b-a7e5-c9850bf1ed30",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.394Z",
              "createdAt": "2025-12-22T10:13:33.394Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f5be0eb5-0a81-4f0b-a7e5-c9850bf1ed30",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.394 +00:00",
            "2025-12-22 10:13:33.394 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f5be0eb5-0a81-4f0b-a7e5-c9850bf1ed30",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.394 +00:00",
            "2025-12-22 10:13:33.394 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.879Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "3504a1e9-a588-4785-8276-dbe22d5a29d0",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.396Z",
              "createdAt": "2025-12-22T10:13:33.396Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3504a1e9-a588-4785-8276-dbe22d5a29d0",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.396 +00:00",
            "2025-12-22 10:13:33.396 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3504a1e9-a588-4785-8276-dbe22d5a29d0",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.396 +00:00",
            "2025-12-22 10:13:33.396 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.880Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "3504a1e9-a588-4785-8276-dbe22d5a29d0",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.396Z",
              "createdAt": "2025-12-22T10:13:33.396Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3504a1e9-a588-4785-8276-dbe22d5a29d0",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.396 +00:00",
            "2025-12-22 10:13:33.396 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3504a1e9-a588-4785-8276-dbe22d5a29d0",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.396 +00:00",
            "2025-12-22 10:13:33.396 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.883Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "7e6981c0-3ef5-4ee7-9f30-d9efcd089bbe",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.395Z",
              "createdAt": "2025-12-22T10:13:33.395Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7e6981c0-3ef5-4ee7-9f30-d9efcd089bbe",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.395 +00:00",
            "2025-12-22 10:13:33.395 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7e6981c0-3ef5-4ee7-9f30-d9efcd089bbe",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.395 +00:00",
            "2025-12-22 10:13:33.395 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.884Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "7e6981c0-3ef5-4ee7-9f30-d9efcd089bbe",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.395Z",
              "createdAt": "2025-12-22T10:13:33.395Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7e6981c0-3ef5-4ee7-9f30-d9efcd089bbe",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.395 +00:00",
            "2025-12-22 10:13:33.395 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7e6981c0-3ef5-4ee7-9f30-d9efcd089bbe",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.395 +00:00",
            "2025-12-22 10:13:33.395 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.887Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "ead147ce-9c39-4e94-bd77-98227ae4e8b5",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.397Z",
              "createdAt": "2025-12-22T10:13:33.397Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ead147ce-9c39-4e94-bd77-98227ae4e8b5",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.397 +00:00",
            "2025-12-22 10:13:33.397 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ead147ce-9c39-4e94-bd77-98227ae4e8b5",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.397 +00:00",
            "2025-12-22 10:13:33.397 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.887Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "ead147ce-9c39-4e94-bd77-98227ae4e8b5",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.397Z",
              "createdAt": "2025-12-22T10:13:33.397Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ead147ce-9c39-4e94-bd77-98227ae4e8b5",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.397 +00:00",
            "2025-12-22 10:13:33.397 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ead147ce-9c39-4e94-bd77-98227ae4e8b5",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.397 +00:00",
            "2025-12-22 10:13:33.397 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.890Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "66c8621a-15fa-45fd-b542-f2c384edd3d6",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.399Z",
              "createdAt": "2025-12-22T10:13:33.399Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "66c8621a-15fa-45fd-b542-f2c384edd3d6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.399 +00:00",
            "2025-12-22 10:13:33.399 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "66c8621a-15fa-45fd-b542-f2c384edd3d6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.399 +00:00",
            "2025-12-22 10:13:33.399 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.891Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "66c8621a-15fa-45fd-b542-f2c384edd3d6",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.399Z",
              "createdAt": "2025-12-22T10:13:33.399Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "66c8621a-15fa-45fd-b542-f2c384edd3d6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.399 +00:00",
            "2025-12-22 10:13:33.399 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "66c8621a-15fa-45fd-b542-f2c384edd3d6",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.399 +00:00",
            "2025-12-22 10:13:33.399 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.894Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "f8213403-d1ca-4c77-9b0a-760f14d97895",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.400Z",
              "createdAt": "2025-12-22T10:13:33.400Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f8213403-d1ca-4c77-9b0a-760f14d97895",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.400 +00:00",
            "2025-12-22 10:13:33.400 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f8213403-d1ca-4c77-9b0a-760f14d97895",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.400 +00:00",
            "2025-12-22 10:13:33.400 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.895Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "f8213403-d1ca-4c77-9b0a-760f14d97895",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.400Z",
              "createdAt": "2025-12-22T10:13:33.400Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f8213403-d1ca-4c77-9b0a-760f14d97895",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.400 +00:00",
            "2025-12-22 10:13:33.400 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f8213403-d1ca-4c77-9b0a-760f14d97895",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.400 +00:00",
            "2025-12-22 10:13:33.400 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.897Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "e21867c0-f4ac-46bc-a125-a176f2738597",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.402Z",
              "createdAt": "2025-12-22T10:13:33.402Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e21867c0-f4ac-46bc-a125-a176f2738597",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.402 +00:00",
            "2025-12-22 10:13:33.402 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e21867c0-f4ac-46bc-a125-a176f2738597",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.402 +00:00",
            "2025-12-22 10:13:33.402 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.898Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "e21867c0-f4ac-46bc-a125-a176f2738597",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.402Z",
              "createdAt": "2025-12-22T10:13:33.402Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e21867c0-f4ac-46bc-a125-a176f2738597",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.402 +00:00",
            "2025-12-22 10:13:33.402 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e21867c0-f4ac-46bc-a125-a176f2738597",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.402 +00:00",
            "2025-12-22 10:13:33.402 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.900Z [[32minfo[39m]: 
Notification created: 28b9a554-13a4-40c7-a9d5-82f884b6c0bb 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.901Z [[32minfo[39m]: 
Notification created: 5c7e67d0-b5ed-4ddc-8688-e797c912c35f 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.903Z [[32minfo[39m]: 
Notification created: 02afbac7-85fc-411c-adfd-766f77861852 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.904Z [[32minfo[39m]: 
Notification created: 93ba200e-9a87-4c81-ae18-0956ab8f9eac 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.906Z [[32minfo[39m]: 
Notification created: cd6783f4-9bfa-480c-9b1c-9c14b283f7ad 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.908Z [[32minfo[39m]: 
Notification created: de36562d-fe0a-4491-8a2b-aa74b8ed4391 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.910Z [[32minfo[39m]: 
Notification created: b9b9f7d1-74bc-4f07-9d94-0d3fdb1899a5 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.912Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "0b3e7c5a-861d-413a-adb7-fd100dfbc133",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.404Z",
              "createdAt": "2025-12-22T10:13:33.404Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0b3e7c5a-861d-413a-adb7-fd100dfbc133",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.404 +00:00",
            "2025-12-22 10:13:33.404 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0b3e7c5a-861d-413a-adb7-fd100dfbc133",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.404 +00:00",
            "2025-12-22 10:13:33.404 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.913Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "0b3e7c5a-861d-413a-adb7-fd100dfbc133",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.404Z",
              "createdAt": "2025-12-22T10:13:33.404Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0b3e7c5a-861d-413a-adb7-fd100dfbc133",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.404 +00:00",
            "2025-12-22 10:13:33.404 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0b3e7c5a-861d-413a-adb7-fd100dfbc133",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.404 +00:00",
            "2025-12-22 10:13:33.404 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.915Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "9dcf5f4e-b6f0-44cb-af31-c490bc19293e",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.401Z",
              "createdAt": "2025-12-22T10:13:33.401Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9dcf5f4e-b6f0-44cb-af31-c490bc19293e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.401 +00:00",
            "2025-12-22 10:13:33.401 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9dcf5f4e-b6f0-44cb-af31-c490bc19293e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.401 +00:00",
            "2025-12-22 10:13:33.401 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.916Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "9dcf5f4e-b6f0-44cb-af31-c490bc19293e",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.401Z",
              "createdAt": "2025-12-22T10:13:33.401Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9dcf5f4e-b6f0-44cb-af31-c490bc19293e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.401 +00:00",
            "2025-12-22 10:13:33.401 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9dcf5f4e-b6f0-44cb-af31-c490bc19293e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.401 +00:00",
            "2025-12-22 10:13:33.401 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.918Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "44f77645-fb92-42ec-9904-f3e79ed3fdea",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.407Z",
              "createdAt": "2025-12-22T10:13:33.407Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "44f77645-fb92-42ec-9904-f3e79ed3fdea",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.407 +00:00",
            "2025-12-22 10:13:33.407 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "44f77645-fb92-42ec-9904-f3e79ed3fdea",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.407 +00:00",
            "2025-12-22 10:13:33.407 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.919Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "44f77645-fb92-42ec-9904-f3e79ed3fdea",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.407Z",
              "createdAt": "2025-12-22T10:13:33.407Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "44f77645-fb92-42ec-9904-f3e79ed3fdea",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.407 +00:00",
            "2025-12-22 10:13:33.407 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "44f77645-fb92-42ec-9904-f3e79ed3fdea",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.407 +00:00",
            "2025-12-22 10:13:33.407 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.921Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "98b6a919-8846-439a-85bb-9ee9bbef7500",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.408Z",
              "createdAt": "2025-12-22T10:13:33.408Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "98b6a919-8846-439a-85bb-9ee9bbef7500",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.408 +00:00",
            "2025-12-22 10:13:33.408 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "98b6a919-8846-439a-85bb-9ee9bbef7500",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.408 +00:00",
            "2025-12-22 10:13:33.408 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.922Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "98b6a919-8846-439a-85bb-9ee9bbef7500",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.408Z",
              "createdAt": "2025-12-22T10:13:33.408Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "98b6a919-8846-439a-85bb-9ee9bbef7500",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.408 +00:00",
            "2025-12-22 10:13:33.408 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "98b6a919-8846-439a-85bb-9ee9bbef7500",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.408 +00:00",
            "2025-12-22 10:13:33.408 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.924Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "70896844-e256-41d7-8544-440cc4c1b5f1",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.409Z",
              "createdAt": "2025-12-22T10:13:33.409Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "70896844-e256-41d7-8544-440cc4c1b5f1",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.409 +00:00",
            "2025-12-22 10:13:33.409 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "70896844-e256-41d7-8544-440cc4c1b5f1",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.409 +00:00",
            "2025-12-22 10:13:33.409 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.925Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "70896844-e256-41d7-8544-440cc4c1b5f1",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.409Z",
              "createdAt": "2025-12-22T10:13:33.409Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "70896844-e256-41d7-8544-440cc4c1b5f1",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.409 +00:00",
            "2025-12-22 10:13:33.409 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "70896844-e256-41d7-8544-440cc4c1b5f1",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.409 +00:00",
            "2025-12-22 10:13:33.409 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.927Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "fe37137f-c6f6-49c4-9fd4-e63e62f2c53b",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.412Z",
              "createdAt": "2025-12-22T10:13:33.412Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe37137f-c6f6-49c4-9fd4-e63e62f2c53b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.412 +00:00",
            "2025-12-22 10:13:33.412 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe37137f-c6f6-49c4-9fd4-e63e62f2c53b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.412 +00:00",
            "2025-12-22 10:13:33.412 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.928Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "fe37137f-c6f6-49c4-9fd4-e63e62f2c53b",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.412Z",
              "createdAt": "2025-12-22T10:13:33.412Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe37137f-c6f6-49c4-9fd4-e63e62f2c53b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.412 +00:00",
            "2025-12-22 10:13:33.412 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe37137f-c6f6-49c4-9fd4-e63e62f2c53b",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.412 +00:00",
            "2025-12-22 10:13:33.412 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.930Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "69ab8c5f-f1ba-455e-8218-47e357a784a9",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.410Z",
              "createdAt": "2025-12-22T10:13:33.410Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "69ab8c5f-f1ba-455e-8218-47e357a784a9",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.410 +00:00",
            "2025-12-22 10:13:33.410 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "69ab8c5f-f1ba-455e-8218-47e357a784a9",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.410 +00:00",
            "2025-12-22 10:13:33.410 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.931Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "69ab8c5f-f1ba-455e-8218-47e357a784a9",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.410Z",
              "createdAt": "2025-12-22T10:13:33.410Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "69ab8c5f-f1ba-455e-8218-47e357a784a9",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.410 +00:00",
            "2025-12-22 10:13:33.410 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "69ab8c5f-f1ba-455e-8218-47e357a784a9",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.410 +00:00",
            "2025-12-22 10:13:33.410 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.933Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "cb7fbec9-949f-415e-8016-c819e09c6a8e",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.414Z",
              "createdAt": "2025-12-22T10:13:33.414Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cb7fbec9-949f-415e-8016-c819e09c6a8e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.414 +00:00",
            "2025-12-22 10:13:33.414 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cb7fbec9-949f-415e-8016-c819e09c6a8e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.414 +00:00",
            "2025-12-22 10:13:33.414 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.934Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "cb7fbec9-949f-415e-8016-c819e09c6a8e",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.414Z",
              "createdAt": "2025-12-22T10:13:33.414Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cb7fbec9-949f-415e-8016-c819e09c6a8e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.414 +00:00",
            "2025-12-22 10:13:33.414 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cb7fbec9-949f-415e-8016-c819e09c6a8e",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.414 +00:00",
            "2025-12-22 10:13:33.414 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.936Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "2cf6e892-b818-4764-9785-458ec8c21604",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.415Z",
              "createdAt": "2025-12-22T10:13:33.415Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2cf6e892-b818-4764-9785-458ec8c21604",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.415 +00:00",
            "2025-12-22 10:13:33.415 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2cf6e892-b818-4764-9785-458ec8c21604",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.415 +00:00",
            "2025-12-22 10:13:33.415 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.936Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "2cf6e892-b818-4764-9785-458ec8c21604",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.415Z",
              "createdAt": "2025-12-22T10:13:33.415Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2cf6e892-b818-4764-9785-458ec8c21604",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.415 +00:00",
            "2025-12-22 10:13:33.415 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2cf6e892-b818-4764-9785-458ec8c21604",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.415 +00:00",
            "2025-12-22 10:13:33.415 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.938Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "88714aaa-7abb-41ab-a18b-c6027972b3e4",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.417Z",
              "createdAt": "2025-12-22T10:13:33.417Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "88714aaa-7abb-41ab-a18b-c6027972b3e4",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.417 +00:00",
            "2025-12-22 10:13:33.417 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "88714aaa-7abb-41ab-a18b-c6027972b3e4",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.417 +00:00",
            "2025-12-22 10:13:33.417 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.939Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "88714aaa-7abb-41ab-a18b-c6027972b3e4",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.417Z",
              "createdAt": "2025-12-22T10:13:33.417Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "88714aaa-7abb-41ab-a18b-c6027972b3e4",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.417 +00:00",
            "2025-12-22 10:13:33.417 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "88714aaa-7abb-41ab-a18b-c6027972b3e4",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.417 +00:00",
            "2025-12-22 10:13:33.417 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.941Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "914b415e-0209-4d6f-962c-f5eed5d44518",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.416Z",
              "createdAt": "2025-12-22T10:13:33.416Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "914b415e-0209-4d6f-962c-f5eed5d44518",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.416 +00:00",
            "2025-12-22 10:13:33.416 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "914b415e-0209-4d6f-962c-f5eed5d44518",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.416 +00:00",
            "2025-12-22 10:13:33.416 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.942Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "914b415e-0209-4d6f-962c-f5eed5d44518",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.416Z",
              "createdAt": "2025-12-22T10:13:33.416Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "914b415e-0209-4d6f-962c-f5eed5d44518",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.416 +00:00",
            "2025-12-22 10:13:33.416 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "914b415e-0209-4d6f-962c-f5eed5d44518",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.416 +00:00",
            "2025-12-22 10:13:33.416 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.944Z [[32minfo[39m]: 
Notification created: 923ba6d9-e7bc-425e-8827-b9fb565d4d8d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[369216b8-fd66-4665-9a73-9b148196ab95] POST 
/api/notifications 201 - 806ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.947Z [[32minfo[39m]: 
Notification created: 5ac5b2ff-af2a-4301-952f-c4d482c3ca94 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[fbdf9170-b953-42a2-9445-569f5a3a7486] POST 
/api/notifications 201 - 807ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.949Z [[32minfo[39m]: 
Notification created: 59a6daf6-6061-43a3-bbe5-d1ff971f35bc 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[8214d26f-ab9b-4dc0-88ca-558946610cbd] POST 
/api/notifications 201 - 804ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.951Z [[32minfo[39m]: 
Notification created: 2f43c9eb-bd13-46f9-94ae-a5f66e5f57f2 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[7481178c-92ca-48fb-a0cd-99832087a9c9] POST 
/api/notifications 201 - 802ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.953Z [[32minfo[39m]: 
Notification created: c2434a32-0308-44e7-94a2-8669d6050c26 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[7cebcbc0-4330-476b-a371-852a35f02835] POST 
/api/notifications 201 - 801ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.955Z [[32minfo[39m]: 
Notification created: 5ca56504-7edd-439c-968b-8fbb19dff6ad 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[b52320a8-feb7-4304-b0b6-f543e995caba] POST 
/api/notifications 201 - 796ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.957Z [[32minfo[39m]: 
Notification created: fe82aa18-93b3-4c32-94aa-404367a2b2ac 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.960Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "e1002639-39d5-4b04-89bb-df4770474d9d",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.405Z",
              "createdAt": "2025-12-22T10:13:33.405Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e1002639-39d5-4b04-89bb-df4770474d9d",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.405 +00:00",
            "2025-12-22 10:13:33.405 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e1002639-39d5-4b04-89bb-df4770474d9d",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.405 +00:00",
            "2025-12-22 10:13:33.405 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.961Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "e1002639-39d5-4b04-89bb-df4770474d9d",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.405Z",
              "createdAt": "2025-12-22T10:13:33.405Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e1002639-39d5-4b04-89bb-df4770474d9d",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.405 +00:00",
            "2025-12-22 10:13:33.405 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e1002639-39d5-4b04-89bb-df4770474d9d",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.405 +00:00",
            "2025-12-22 10:13:33.405 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.963Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "daa07a8f-0091-4e2f-bec1-6ec2756c94d3",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.413Z",
              "createdAt": "2025-12-22T10:13:33.413Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "daa07a8f-0091-4e2f-bec1-6ec2756c94d3",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.413 +00:00",
            "2025-12-22 10:13:33.413 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "daa07a8f-0091-4e2f-bec1-6ec2756c94d3",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.413 +00:00",
            "2025-12-22 10:13:33.413 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.964Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
            "origin": "DB",
            "instance": {
              "id": "daa07a8f-0091-4e2f-bec1-6ec2756c94d3",
              "userId": 
"e5e98c95-b030-43d7-aa07-a5757703f82d",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T10:13:33.413Z",
              "createdAt": "2025-12-22T10:13:33.413Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "daa07a8f-0091-4e2f-bec1-6ec2756c94d3",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.413 +00:00",
            "2025-12-22 10:13:33.413 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(e5e98c95-b030-43d7-aa07-a5757703f82d) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "daa07a8f-0091-4e2f-bec1-6ec2756c94d3",
            "e5e98c95-b030-43d7-aa07-a5757703f82d",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 10:13:33.413 +00:00",
            "2025-12-22 10:13:33.413 +00:00"
          ]
        },
        "fields": {
          "user_id": "e5e98c95-b030-43d7-aa07-a5757703f82d"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.966Z [[32minfo[39m]: 
Notification created: 885e5440-f418-498d-afaf-90221d08023c 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.967Z [[32minfo[39m]: 
Notification created: 71f5ecd1-467b-424a-bcf3-886d48105714 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.969Z [[32minfo[39m]: 
Notification created: c81c0b67-d4d6-4db5-aa04-0f9c71215530 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.971Z [[32minfo[39m]: 
Notification created: 3529aa53-398b-4d65-b4f0-e67496613a9a 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[adcbca9c-47ab-41f0-92a1-d8ff59e12c2f] POST 
/api/notifications 201 - 845ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:33.975Z [[32minfo[39m]: 
Notification created: d5a0dff8-98e8-42bc-90f7-8811cf058883 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.977Z [[32minfo[39m]: 
Notification created: 0332f075-f5d5-4698-8259-3fff7831deb1 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.980Z [[32minfo[39m]: 
Notification created: 042491a9-373f-45b4-ab10-c1b0476c21bc 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.982Z [[32minfo[39m]: 
Notification created: 33f52166-1b15-4d41-afb7-6773ae762982 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.984Z [[32minfo[39m]: 
Notification created: 8fbbec87-7988-4737-99ca-1abc1ee200f4 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.986Z [[32minfo[39m]: 
Notification created: 65e5841e-d5de-4ee8-a03f-cd575591c326 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.988Z [[32minfo[39m]: 
Notification created: ae8d54f4-b250-4f68-851c-e2bb92e49f1a 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.989Z [[32minfo[39m]: 
Notification created: d98920b3-1567-447b-8e47-216f706e5c2d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.991Z [[32minfo[39m]: 
Notification created: 8b154d74-21e4-4b3b-a394-347112099a74 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:33.994Z [[32minfo[39m]: 
Notification created: 79221da3-5345-4fd2-81f9-db49cc439606 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.995Z [[32minfo[39m]: 
Notification created: 28b9a554-13a4-40c7-a9d5-82f884b6c0bb 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[32afc3ae-e063-4cab-9488-2083f64c2919] POST 
/api/notifications 201 - 845ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:33.997Z [[32minfo[39m]: 
Notification created: 02afbac7-85fc-411c-adfd-766f77861852 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:33] 
[7737c024-0080-4385-8054-430d663b31c4] POST 
/api/notifications 201 - 842ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.000Z [[32minfo[39m]: 
Notification created: cd6783f4-9bfa-480c-9b1c-9c14b283f7ad 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[20637f9d-2d42-49a2-9765-46cb2d3216ff] POST 
/api/notifications 201 - 842ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.003Z [[32minfo[39m]: 
Notification created: de36562d-fe0a-4491-8a2b-aa74b8ed4391 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[bb5e5ca1-a50e-4335-aecf-0b6eb468c604] POST 
/api/notifications 201 - 843ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.006Z [[32minfo[39m]: 
Notification created: b9b9f7d1-74bc-4f07-9d94-0d3fdb1899a5 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[94a93344-5ce2-490e-8f85-3ecbe393b836] POST 
/api/notifications 201 - 845ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:34.010Z [[32minfo[39m]: 
Notification created: 579efb42-7d3f-4dfc-bab4-ef5b31d4ac6e 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.013Z [[32minfo[39m]: 
Notification created: e0cd93ff-3ce2-4a2f-8983-9cfcd05eb695 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.016Z [[32minfo[39m]: 
Notification created: 742f846b-d837-4b4b-9c13-3ec8c5b57f6b 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.019Z [[32minfo[39m]: 
Notification created: 178cec31-d762-44fa-b967-4b711107be92 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.022Z [[32minfo[39m]: 
Notification created: b3787e2f-f853-4836-bfa0-0efa2c8f7a9d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.024Z [[32minfo[39m]: 
Notification created: 502da005-0f0d-4b2d-b8f2-f8d75f3c6b78 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.027Z [[32minfo[39m]: 
Notification created: ebdff35e-bf2a-4536-ba16-ccdda8a61047 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.030Z [[32minfo[39m]: 
Notification created: 5c7e67d0-b5ed-4ddc-8688-e797c912c35f 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[30e08e7c-052c-4d91-92e5-14303b95947b] POST 
/api/notifications 201 - 877ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:34.032Z [[32minfo[39m]: 
Notification created: b1483db1-2cc5-4cc8-8f72-51fcbecdfa86 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.034Z [[32minfo[39m]: 
Notification created: 93ba200e-9a87-4c81-ae18-0956ab8f9eac 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[770a0822-8eb3-418b-afe7-d2bca4d31a46] POST 
/api/notifications 201 - 882ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:34.038Z [[32minfo[39m]: 
Notification created: 71d01202-ae19-42e1-a9d3-6285375de9b5 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.041Z [[32minfo[39m]: 
Notification created: 5669d1dd-c732-40c4-85cd-0f2ff2989614 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.043Z [[32minfo[39m]: 
Notification created: fb8de970-37fc-4c0d-a7d7-eb9148c5d4c9 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.045Z [[32minfo[39m]: 
Notification created: 8bb8b4e7-a194-4912-a86b-c29e6f43462a 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.047Z [[32minfo[39m]: 
Notification created: 5ba10589-ffd1-45b1-9265-ca2322b9840e 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.049Z [[32minfo[39m]: 
Notification created: 86fb8295-f9fa-4e93-afd6-6911209352ea 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.051Z [[32minfo[39m]: 
Notification created: a89d60fa-3b35-4f96-b4df-310f40ba5236 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.054Z [[32minfo[39m]: 
Notification created: b2f19608-f014-4461-9519-836449eb64a4 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.056Z [[32minfo[39m]: 
Notification created: fe82aa18-93b3-4c32-94aa-404367a2b2ac 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[3320cf56-93c2-43e6-aa40-24918124ddff] POST 
/api/notifications 201 - 893ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.059Z [[32minfo[39m]: 
Notification created: d5a0dff8-98e8-42bc-90f7-8811cf058883 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[65ce0332-6ea0-4d99-891f-801e35608460] POST 
/api/notifications 201 - 895ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.062Z [[32minfo[39m]: 
Notification created: 0332f075-f5d5-4698-8259-3fff7831deb1 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[3cf0cc1a-0525-4a43-8111-e940f2b94499] POST 
/api/notifications 201 - 896ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.064Z [[32minfo[39m]: 
Notification created: 042491a9-373f-45b4-ab10-c1b0476c21bc 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[1598e177-25e5-448c-a215-37805d04670a] POST 
/api/notifications 201 - 897ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.066Z [[32minfo[39m]: 
Notification created: 33f52166-1b15-4d41-afb7-6773ae762982 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[f7fee8b7-127a-4d7a-ad07-419852179bda] POST 
/api/notifications 201 - 897ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.068Z [[32minfo[39m]: 
Notification created: 8fbbec87-7988-4737-99ca-1abc1ee200f4 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[c80581bd-4c0a-4acb-aab3-691867a4fac3] POST 
/api/notifications 201 - 898ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.070Z [[32minfo[39m]: 
Notification created: 65e5841e-d5de-4ee8-a03f-cd575591c326 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[fa01600c-ea13-4d88-bdd5-46ad38da98d0] POST 
/api/notifications 201 - 907ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.072Z [[32minfo[39m]: 
Notification created: ae8d54f4-b250-4f68-851c-e2bb92e49f1a 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[4da66cc6-c62d-48f6-91ba-c9a44bf4018c] POST 
/api/notifications 201 - 902ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.074Z [[32minfo[39m]: 
Notification created: d98920b3-1567-447b-8e47-216f706e5c2d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[02b336ff-6e67-4a7a-85d0-f44e3e8c4adb] POST 
/api/notifications 201 - 901ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.076Z [[32minfo[39m]: 
Notification created: 8b154d74-21e4-4b3b-a394-347112099a74 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.078Z [[32minfo[39m]: 
Notification created: 79221da3-5345-4fd2-81f9-db49cc439606 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.080Z [[32minfo[39m]: 
Notification created: 579efb42-7d3f-4dfc-bab4-ef5b31d4ac6e 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.081Z [[32minfo[39m]: 
Notification created: e0cd93ff-3ce2-4a2f-8983-9cfcd05eb695 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.083Z [[32minfo[39m]: 
Notification created: 742f846b-d837-4b4b-9c13-3ec8c5b57f6b 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.085Z [[32minfo[39m]: 
Notification created: 178cec31-d762-44fa-b967-4b711107be92 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.087Z [[32minfo[39m]: 
Notification created: b3787e2f-f853-4836-bfa0-0efa2c8f7a9d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.089Z [[32minfo[39m]: 
Notification created: 502da005-0f0d-4b2d-b8f2-f8d75f3c6b78 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.091Z [[32minfo[39m]: 
Notification created: ebdff35e-bf2a-4536-ba16-ccdda8a61047 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.093Z [[32minfo[39m]: 
Notification created: b1483db1-2cc5-4cc8-8f72-51fcbecdfa86 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.095Z [[32minfo[39m]: 
Notification created: 71d01202-ae19-42e1-a9d3-6285375de9b5 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.097Z [[32minfo[39m]: 
Notification created: 5669d1dd-c732-40c4-85cd-0f2ff2989614 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.098Z [[32minfo[39m]: 
Notification created: fb8de970-37fc-4c0d-a7d7-eb9148c5d4c9 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.100Z [[32minfo[39m]: 
Notification created: 8bb8b4e7-a194-4912-a86b-c29e6f43462a 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.102Z [[32minfo[39m]: 
Notification created: 5ba10589-ffd1-45b1-9265-ca2322b9840e 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.104Z [[32minfo[39m]: 
Notification created: 86fb8295-f9fa-4e93-afd6-6911209352ea 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.105Z [[32minfo[39m]: 
Notification created: a89d60fa-3b35-4f96-b4df-310f40ba5236 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.106Z [[32minfo[39m]: 
Notification created: b2f19608-f014-4461-9519-836449eb64a4 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T10:13:34.108Z [[32minfo[39m]: 
Notification created: 5a2344bd-db66-4b83-af48-4e6d82948086 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.111Z [[32minfo[39m]: 
Notification created: 0c27c02b-3203-4907-9571-737a9415e725 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T10:13:34.114Z [[32minfo[39m]: 
Notification created: e2abc7a6-aa64-4ee9-81b9-ac7d6fdf009d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.116Z [[32minfo[39m]: 
Notification created: 885e5440-f418-498d-afaf-90221d08023c 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.117Z [[32minfo[39m]: 
Notification created: 71f5ecd1-467b-424a-bcf3-886d48105714 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.118Z [[32minfo[39m]: 
Notification created: c81c0b67-d4d6-4db5-aa04-0f9c71215530 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.138Z [[32minfo[39m]: 
Notification created: 5a2344bd-db66-4b83-af48-4e6d82948086 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.140Z [[32minfo[39m]: 
Notification created: 0c27c02b-3203-4907-9571-737a9415e725 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T10:13:34.141Z [[32minfo[39m]: 
Notification created: e2abc7a6-aa64-4ee9-81b9-ac7d6fdf009d 
for user e5e98c95-b030-43d7-aa07-a5757703f82d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[7b21490e-7d4d-476d-a028-de70bff4a499] POST 
/api/notifications 201 - 902ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[cf839f38-6df8-40ab-a9ce-efa2b8d095a4] POST 
/api/notifications 201 - 903ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[f112c739-7c0b-4d4f-8420-0d307f258843] POST 
/api/notifications 201 - 900ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[4670fbdf-7058-421a-a6d1-067ab875f81a] POST 
/api/notifications 201 - 905ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[2debb985-5bf3-4ad1-a434-ef3e935f410e] POST 
/api/notifications 201 - 912ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[451aa3e8-27a6-41c1-a7dc-5d8eb83fc62e] POST 
/api/notifications 201 - 907ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[6283728c-318a-4950-8cc0-8fa7893a0e7f] POST 
/api/notifications 201 - 908ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[c568f1bb-c780-477c-acd2-2a1398c27b64] POST 
/api/notifications 201 - 908ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[39817137-e2fb-4692-af69-354a5f9125e5] POST 
/api/notifications 201 - 909ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[2963c6f7-5205-44ec-a7b7-a143244a5abc] POST 
/api/notifications 201 - 898ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[f4316528-aaf8-4512-8c20-4e25da789548] POST 
/api/notifications 201 - 912ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[f4da8944-7891-46e7-a74f-f4eaa87dc2fe] POST 
/api/notifications 201 - 913ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[821981ae-8751-4344-b43f-cad8168996d5] POST 
/api/notifications 201 - 910ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[34493702-37cd-4ffb-8950-90abb54e05c9] POST 
/api/notifications 201 - 913ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[77761191-860b-4e6e-a197-b13096f9afa4] POST 
/api/notifications 201 - 911ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[2ab9a1ed-7b4e-44e8-ad70-035ea6502002] POST 
/api/notifications 201 - 913ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[1f184741-0a67-42b0-8c4a-33f42a6f83e9] POST 
/api/notifications 201 - 909ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[edebafce-5584-45c5-908a-18aff9cacf64] POST 
/api/notifications 201 - 914ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[d33d058d-1663-447d-9d36-a1730c889c15] POST 
/api/notifications 201 - 970ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[0b7fa1eb-1519-4b5b-99ee-f2a488e70722] POST 
/api/notifications 201 - 975ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[273cbfb4-f45f-4bc2-ba45-87ab4de9ab4b] POST 
/api/notifications 201 - 962ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[4a82b69a-54a8-40bb-8f8d-2cbd72635c5c] POST 
/api/notifications 201 - 941ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[9d0aa2e3-70e5-46f2-b261-eb3bcafd8e67] POST 
/api/notifications 201 - 955ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 11:13:34] 
[07cee5cd-564e-4f3a-9fe0-867875dce687] POST 
/api/notifications 201 - 948ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

A worker process has failed to exit gracefully and has 
been force exited. This is likely caused by tests leaking 
due to improper teardown. Try running with 
--detectOpenHandles to find leaks. Active timers can also 
cause this, ensure that .unref() was called on them.

Test Suites: 1 failed, 4 passed, 5 total
Tests:       7 failed, 129 passed, 136 total
Snapshots:   0 total
Time:        28.116 s, estimated 30 s
Ran all test suites.
Force exiting Jest: Have you considered using 
`--detectOpenHandles` to detect async operations that kept 
running after all tests finished?
