
> messenger-backend@1.0.0 test
> cross-env NODE_ENV=test DB_HOST=127.0.0.1 NODE_OPTIONS=--experimental-vm-modules jest

node.exe : (node:44336) ExperimentalWarning: VM Modules is 
an experimental feature and might change at any time
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program 
Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ((node:44336)  
   Ex...nge at any time:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
(Use `node --trace-warnings ...` to show where the warning 
was created)
PASS tests/debug_env.test.js
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.152Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      NODE_ENV: test

      at Object.<anonymous> (tests/debug_env.test.js:5:13)

    console.log
      DB_HOST: 127.0.0.1

      at Object.<anonymous> (tests/debug_env.test.js:6:13)

    console.log
      DATABASE_URL: postgresql://messenger:messenger_passwo
rd@localhost:5432/messenger

      at Object.<anonymous> (tests/debug_env.test.js:7:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

(node:16224) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:34468) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:39872) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:12076) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:26576) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:41180) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:41448) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:10616) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:42268) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:07 +0000] "GET /api/admin/users HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:07 +0000] "GET /api/users/me HTTP/1.1" 200 738 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "GET /api/users/me HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "POST /api/files/upload HTTP/1.1" 201 789 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "GET /api/admin/users HTTP/1.1" 403 117 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "POST /api/files/upload HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "POST /api/auth/register HTTP/1.1" 201 356 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "GET /api/contacts HTTP/1.1" 200 174 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "GET /api/contacts HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "POST /api/groups HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "GET /api/users/me HTTP/1.1" 200 740 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "GET /api/admin/users HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "POST /api/files/upload HTTP/1.1" 400 89 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "POST /api/calls HTTP/1.1" 500 221 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "POST /api/auth/register HTTP/1.1" 409 88 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "GET /api/files/00000000-0000-0000-0000-000000000000 HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:08 +0000] "GET /api/contacts?status=accepted HTTP/1.1" 200 174 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "POST /api/groups HTTP/1.1" 400 160 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "GET /api/admin/users HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "PUT /api/users/me HTTP/1.1" 200 337 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "PUT /api/users/me HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "POST /api/auth/register HTTP/1.1" 409 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "POST /api/auth/register HTTP/1.1" 400 210 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "GET /api/files/00000000-0000-0000-0000-000000000000 HTTP/1.1" 404 26 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "POST /api/auth/register HTTP/1.1" 400 342 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "POST /api/auth/register HTTP/1.1" 400 175 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "POST /api/auth/register HTTP/1.1" 400 185 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "GET /api/contacts?page=1&limit=10 HTTP/1.1" 200 174 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "POST /api/calls HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "GET /api/admin/users?page=1&limit=3 HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "PUT /api/users/me HTTP/1.1" 400 67 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "GET /api/files/not-a-uuid HTTP/1.1" 400 148 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "GET /api/files/00000000-0000-0000-0000-000000000000/download HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:09 +0000] "GET /api/contacts?status=invalid HTTP/1.1" 400 181 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:10 +0000] "POST /api/calls HTTP/1.1" 400 168 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:10 +0000] "PUT /api/users/me HTTP/1.1" 400 74 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:10 +0000] "GET /api/admin/users?role=admin HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:10 +0000] "POST /api/auth/login HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:10 +0000] "GET /api/files/00000000-0000-0000-0000-000000000000/download HTTP/1.1" 404 96 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:10 +0000] "DELETE /api/files/00000000-0000-0000-0000-000000000000 HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:10 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:10 +0000] "GET /api/groups HTTP/1.1" 200 620 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "GET /api/groups HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "GET /api/admin/users?status=pending HTTP/1.1" 200 148 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "GET /api/users/search?q=test HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "DELETE /api/files/00000000-0000-0000-0000-000000000000 HTTP/1.1" 404 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "POST /api/contacts HTTP/1.1" 201 324 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "POST /api/calls/respond HTTP/1.1" 500 221 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "GET /api/admin/users/pending HTTP/1.1" 200 137 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "GET /api/groups?page=1&limit=10 HTTP/1.1" 200 156 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "POST /api/auth/login HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "GET /api/users/search HTTP/1.1" 400 79 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "POST /api/files/upload HTTP/1.1" 201 789 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:11 +0000] "POST /api/contacts HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "POST /api/contacts HTTP/1.1" 400 164 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "GET /api/groups/00000000-0000-0000-0000-000000000000 HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "GET /api/users/f13fee8f-ef7e-443b-8210-7ca0142d741a HTTP/1.1" 200 741 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "PUT /api/admin/users/3347af7a-3048-48a7-995d-fc637e2084d5/approve HTTP/1.1" 200 314 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "GET /api/users/00000000-0000-0000-0000-000000000000 HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "POST /api/files/upload HTTP/1.1" 201 791 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "POST /api/calls/respond HTTP/1.1" 500 233 "-" "-"
FAIL tests/files.test.js (12.218 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.023Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.120Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.137Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.139Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.160Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      2025-12-22T13:20:08.001Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096073988l7lia 
(08ccc72b-dbeb-4b9d-9562-8382ea1934bf)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.008Z [[32minfo[39m]: Upload 
directories created successfully
      {
        "uploadDir": "./uploads",
        "tempDir": "./uploads/temp"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.018Z [[32minfo[39m]: ClamAV 
scanner initialized via daemon connection
      {
        "host": "localhost",
        "port": 3310
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.019Z [[32minfo[39m]: File 
upload service initialized successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.029Z [[32minfo[39m]: 
Processing 1 files for user 
08ccc72b-dbeb-4b9d-9562-8382ea1934bf

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.031Z [[32minfo[39m]: 
Processing file: test-upload.txt, size: 36, mimetype: 
text/plain

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.036Z [[32minfo[39m]: File 
processed successfully
      {
        "originalName": "test-upload.txt",
        "secureFilename": 
"1766409608033_4z7c4gs4p8_test-upload.txt",
        "size": 36,
        "mimeType": "text/plain",
        "userId": "08ccc72b-dbeb-4b9d-9562-8382ea1934bf",
        "messageId": null
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.037Z [[32minfo[39m]: File 
processed successfully: test-upload.txt

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.054Z [[32minfo[39m]: Virus 
scan queued for file 363ad996-382d-4bec-b70d-35595b116955

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.055Z [[32minfo[39m]: Thumbnail 
generation queued
      {
        "fileId": "363ad996-382d-4bec-b70d-35595b116955",
        "fileType": "document",
        "mimeType": "text/plain"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.057Z [[32minfo[39m]: File 
upload completed
      {
        "userId": "08ccc72b-dbeb-4b9d-9562-8382ea1934bf",
        "action": "file_upload",
        "fileId": "363ad996-382d-4bec-b70d-35595b116955",
        "filename": 
"1766409608033_4z7c4gs4p8_test-upload.txt",
        "originalName": "test-upload.txt",
        "fileSize": 36,
        "mimeType": "text/plain"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.058Z [[32minfo[39m]: Files 
uploaded successfully
      {
        "userId": "08ccc72b-dbeb-4b9d-9562-8382ea1934bf",
        "fileCount": 1,
        "totalSize": 36
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[dd9da55c-0d63-4f2e-8bcb-bf567f96d940] POST 
/api/files/upload 201 - 78ms - POST /api/files/upload

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.085Z [[33mwarn[39m]: Fallback 
icon not found for document, using default

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.143Z [[32minfo[39m]: Thumbnail 
generated successfully
      {
        "fileId": "363ad996-382d-4bec-b70d-35595b116955",
        "fileType": "document",
        "thumbnailPath": "uploads\\icons\\generic.png"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[ab18bd89-323b-45ed-b3f0-eceaaa254a0a] POST 
/api/files/upload 401 - 2ms - POST /api/files/upload

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.738Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409608162y0gdla 
(a0a7909d-e452-40b0-baff-7cf4e95725c6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[0d746223-dd52-47a8-baf1-6bc8c942ecc6] POST 
/api/files/upload 400 - 11ms - POST /api/files/upload

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:08] 
[bb92905b-22d4-4d0c-8e26-cab01d9f6b8c] GET 
/api/files/00000000-0000-0000-0000-000000000000 401 - 1ms 
- GET /api/files/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.361Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096088075gcj6 
(10e4303a-73a5-4730-85a6-f99758acd7b6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[3a89de07-40c1-453c-a36e-2542ab808d22] GET 
/api/files/00000000-0000-0000-0000-000000000000 404 - 25ms 
- GET /api/files/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.903Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409609396nf9qri 
(5e7d2b7d-48f5-4bc5-a0c1-68696365b022)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[e8d3c091-7799-4b41-b0c9-648525c72338] GET 
/api/files/not-a-uuid 400 - 7ms - GET /api/files/not-a-uuid

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:09] 
[9bb8b0a8-709b-47bd-b502-7a86d927e8bd] GET 
/api/files/00000000-0000-0000-0000-000000000000/download 
401 - 0ms - GET 
/api/files/00000000-0000-0000-0000-000000000000/download

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:10.537Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096099314vw1al 
(8a46b2f2-2588-467a-981d-6a524cb2feb7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:10] 
[795c7e7f-a61a-4c49-bea1-b279d275ea70] GET 
/api/files/00000000-0000-0000-0000-000000000000/download 
404 - 8ms - GET 
/api/files/00000000-0000-0000-0000-000000000000/download

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:10] 
[2af1ebd5-0932-4ede-a8cd-205836a33758] DELETE 
/api/files/00000000-0000-0000-0000-000000000000 401 - 2ms 
- DELETE /api/files/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.131Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409610601tul9y9 
(f2109a80-bbda-42c7-990a-ffd9d7d5af2c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[92d89613-3880-4637-a80c-211e433c6c13] DELETE 
/api/files/00000000-0000-0000-0000-000000000000 404 - 8ms 
- DELETE /api/files/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.658Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096111499ke7y 
(d5bd392c-bbdd-4fe8-8ff5-c381670fad29)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.661Z [[32minfo[39m]: 
Processing 1 files for user 
d5bd392c-bbdd-4fe8-8ff5-c381670fad29

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.662Z [[32minfo[39m]: 
Processing file: test-upload.txt, size: 36, mimetype: 
text/plain

::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "GET /api/files/03b3bdd7-667c-41bd-90c8-5422375caa61 HTTP/1.1" 403 33 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:12 +0000] "POST /api/contacts HTTP/1.1" 404 44 "-" "-"
      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.664Z [[32minfo[39m]: File 
processed successfully
      {
        "originalName": "test-upload.txt",
        "secureFilename": 
"1766409611662_hghros1qyk_test-upload.txt",
        "size": 36,
        "mimeType": "text/plain",
        "userId": "d5bd392c-bbdd-4fe8-8ff5-c381670fad29",
        "messageId": null
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.665Z [[32minfo[39m]: File 
processed successfully: test-upload.txt

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.673Z [[32minfo[39m]: Virus 
scan queued for file 8eafa92b-11f9-4642-bcdb-e7756215ceb9

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.673Z [[32minfo[39m]: Thumbnail 
generation queued
      {
        "fileId": "8eafa92b-11f9-4642-bcdb-e7756215ceb9",
        "fileType": "document",
        "mimeType": "text/plain"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.674Z [[32minfo[39m]: File 
upload completed
      {
        "userId": "d5bd392c-bbdd-4fe8-8ff5-c381670fad29",
        "action": "file_upload",
        "fileId": "8eafa92b-11f9-4642-bcdb-e7756215ceb9",
        "filename": 
"1766409611662_hghros1qyk_test-upload.txt",
        "originalName": "test-upload.txt",
        "fileSize": 36,
        "mimeType": "text/plain"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.675Z [[32minfo[39m]: Files 
uploaded successfully
      {
        "userId": "d5bd392c-bbdd-4fe8-8ff5-c381670fad29",
        "fileCount": 1,
        "totalSize": 36
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[53baf23f-56dd-4230-9556-4635d13d8f1a] POST 
/api/files/upload 201 - 22ms - POST /api/files/upload

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.680Z [[33mwarn[39m]: Fallback 
icon not found for document, using default

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.793Z [[32minfo[39m]: Thumbnail 
generated successfully
      {
        "fileId": "8eafa92b-11f9-4642-bcdb-e7756215ceb9",
        "fileType": "document",
        "thumbnailPath": "uploads\\icons\\generic.png"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.668Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409611690zjfkbo 
(68385053-6286-41cc-9eb7-24ebb9a161a2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.671Z [[32minfo[39m]: 
Processing 1 files for user 
68385053-6286-41cc-9eb7-24ebb9a161a2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.672Z [[32minfo[39m]: 
Processing file: test-upload.txt, size: 36, mimetype: 
text/plain

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.674Z [[32minfo[39m]: File 
processed successfully
      {
        "originalName": "test-upload.txt",
        "secureFilename": 
"1766409612673_190wl822q8b_test-upload.txt",
        "size": 36,
        "mimeType": "text/plain",
        "userId": "68385053-6286-41cc-9eb7-24ebb9a161a2",
        "messageId": null
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.675Z [[32minfo[39m]: File 
processed successfully: test-upload.txt

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.686Z [[32minfo[39m]: Virus 
scan queued for file 03b3bdd7-667c-41bd-90c8-5422375caa61

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.687Z [[32minfo[39m]: Thumbnail 
generation queued
      {
        "fileId": "03b3bdd7-667c-41bd-90c8-5422375caa61",
        "fileType": "document",
        "mimeType": "text/plain"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.688Z [[32minfo[39m]: File 
upload completed
      {
        "userId": "68385053-6286-41cc-9eb7-24ebb9a161a2",
        "action": "file_upload",
        "fileId": "03b3bdd7-667c-41bd-90c8-5422375caa61",
        "filename": 
"1766409612673_190wl822q8b_test-upload.txt",
        "originalName": "test-upload.txt",
        "fileSize": 36,
        "mimeType": "text/plain"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.689Z [[32minfo[39m]: Files 
uploaded successfully
      {
        "userId": "68385053-6286-41cc-9eb7-24ebb9a161a2",
        "fileCount": 1,
        "totalSize": 36
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[bba2738d-589a-443a-91b6-875e29207d6a] POST 
/api/files/upload 201 - 29ms - POST /api/files/upload

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.696Z [[33mwarn[39m]: Fallback 
icon not found for document, using default

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.707Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409612185d8ksur 
(6c6e32e4-ea19-4b95-8ab0-d2a45092456f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.713Z [[32minfo[39m]: Thumbnail 
generated successfully
      {
        "fileId": "03b3bdd7-667c-41bd-90c8-5422375caa61",
        "fileType": "document",
        "thumbnailPath": "uploads\\icons\\generic.png"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[cbdb4002-dcb3-4f9f-8088-7d19083ca249] GET 
/api/files/03b3bdd7-667c-41bd-90c8-5422375caa61 403 - 20ms 
- GET /api/files/03b3bdd7-667c-41bd-90c8-5422375caa61

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

  ΓùÅ Files API ΓÇ║ POST /api/files/upload ΓÇ║ should 
require authentication

    read ECONNRESET



::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "GET /api/groups/00000000-0000-0000-0000-000000000000 HTTP/1.1" 403 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "GET /api/users/00000000-0000-0000-0000-000000000000 HTTP/1.1" 400 84 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "GET /api/users/not-a-uuid HTTP/1.1" 400 84 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "POST /api/contacts HTTP/1.1" 201 324 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "POST /api/contacts HTTP/1.1" 409 61 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "PUT /api/groups/00000000-0000-0000-0000-000000000000 HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:13 +0000] "PUT /api/admin/users/036dbbfc-41eb-4c89-85af-ca1de476faed/approve HTTP/1.1" 200 314 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "POST /api/calls/f4e7da6f-fd0a-4b3b-9f79-b0a63549a813/end HTTP/1.1" 500 233 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "POST /api/auth/login HTTP/1.1" 403 135 "-" "-"
FAIL tests/users.test.js (13.684 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.017Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.074Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.097Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.100Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.119Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      2025-12-22T13:20:07.952Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409607353dv5i6 
(48dc5f58-b105-4c29-a836-09ea8b213f90)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:07] 
[9e628073-89b8-4358-b30a-8e25339d8ad3] undefined undefined 
undefined - undefinedms - User profile retrieved 
successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:07] 
[9e628073-89b8-4358-b30a-8e25339d8ad3] GET /api/users/me 
200 - 33ms - GET /api/users/me

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:08] 
[71007e89-6fd0-49d1-97ea-bec69a98e63c] GET /api/users/me 
401 - 2ms - GET /api/users/me

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.652Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409608043x498o 
(a9711574-e3e6-4390-a4c9-9c1a1ad267ef)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[5569915b-0b23-43f7-967b-8e00d454636c] undefined undefined 
undefined - undefinedms - User profile retrieved 
successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[5569915b-0b23-43f7-967b-8e00d454636c] GET /api/users/me 
200 - 32ms - GET /api/users/me

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.268Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409608715wy9wms 
(b2a437f1-7387-47b3-832e-49504612a43d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.314Z [[32minfo[39m]: Audit 
service initialized successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.322Z [[32minfo[39m]: Profile 
change logged
      {
        "auditLogId": 
"fd7405b2-9d67-4f85-be33-794c88f8ae06",
        "userId": "b2a437f1-7387-47b3-832e-49504612a43d",
        "changes": [
          "firstName",
          "lastName",
          "bio"
        ],
        "sensitiveChange": false
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[c0075c58-ff70-4c84-b7a5-1c49a3cdc4df] undefined undefined 
undefined - undefinedms - User profile updated successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[c0075c58-ff70-4c84-b7a5-1c49a3cdc4df] PUT /api/users/me 
200 - 62ms - PUT /api/users/me

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:09] 
[3410e97d-a865-490f-bbbe-ed39324c4295] PUT /api/users/me 
401 - 1ms - PUT /api/users/me

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.849Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096093539da8i6 
(3ca0eedf-f3d5-4db4-ab8c-edecdfb1e58c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[5bf4c4c9-2286-4b15-afae-5576a90666e3] undefined undefined 
undefined - undefinedms - Profile update validation failed

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[5bf4c4c9-2286-4b15-afae-5576a90666e3] PUT /api/users/me 
400 - 10ms - PUT /api/users/me

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:10.396Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096098709ffc7c 
(3a9b8c55-24fd-4dc6-a392-07bb39f7d4bb)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:10] 
[524c0eff-e72b-4a47-9917-0447925201e5] undefined undefined 
undefined - undefinedms - Profile update validation failed

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:10] 
[524c0eff-e72b-4a47-9917-0447925201e5] PUT /api/users/me 
400 - 12ms - PUT /api/users/me

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:11] 
[a6034b7a-9f1f-4b07-a204-3ea2b82afb7a] GET 
/api/users/search?q=test 401 - 1ms - GET 
/api/users/search?q=test

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.615Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096111015qb9iv 
(2a9cb141-c611-4d3a-aa11-616d38268a0d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[c052ce01-550f-414e-860c-18e5929ecb27] undefined undefined 
undefined - undefinedms - User search attempted without 
query

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[c052ce01-550f-414e-860c-18e5929ecb27] GET 
/api/users/search 400 - 9ms - GET /api/users/search

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.839Z [[32minfo[39m]: 
Processing file 8eafa92b-11f9-4642-bcdb-e7756215ceb9, 
operation: virus-scan
      {
        "jobId": "5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.943Z [[33mwarn[39m]: ClamAV 
not initialized, skipping virus scan (file will be marked 
as clean)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.047Z [[32minfo[39m]: File 
processing completed for 
8eafa92b-11f9-4642-bcdb-e7756215ceb9
      {
        "jobId": "5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.116Z [[32minfo[39m]: File 
Processing job 5 completed
      {
        "result": {
          "success": true,
          "fileId": "8eafa92b-11f9-4642-bcdb-e7756215ceb9",
          "operation": "virus-scan"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.605Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409611634sd8sb 
(932d7c23-1f58-4b56-ac27-d2560dcf39c3)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[1979e4eb-c15b-4b07-9f2d-fd17db8bf9b4] undefined undefined 
undefined - undefinedms - User retrieved successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[1979e4eb-c15b-4b07-9f2d-fd17db8bf9b4] GET 
/api/users/f13fee8f-ef7e-443b-8210-7ca0142d741a 200 - 11ms 
- GET /api/users/f13fee8f-ef7e-443b-8210-7ca0142d741a

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:12] 
[73925aec-e79a-4cab-8c67-2b4f8248ef42] GET 
/api/users/00000000-0000-0000-0000-000000000000 401 - 1ms 
- GET /api/users/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.171Z [[32minfo[39m]: 
Processing file 363ad996-382d-4bec-b70d-35595b116955, 
operation: virus-scan
      {
        "jobId": "4"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.179Z [[33mwarn[39m]: ClamAV 
not initialized, skipping virus scan (file will be marked 
as clean)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.187Z [[32minfo[39m]: File 
processing completed for 
363ad996-382d-4bec-b70d-35595b116955
      {
        "jobId": "4"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.191Z [[32minfo[39m]: File 
Processing job 4 completed
      {
        "result": {
          "success": true,
          "fileId": "363ad996-382d-4bec-b70d-35595b116955",
          "operation": "virus-scan"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.201Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096126365iob3e 
(e28541e1-6bda-45ea-a95e-108d7fd7e376)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[fed2d9f7-d0be-45e9-ae4a-95d201f17131] undefined undefined 
undefined - undefinedms - Invalid UUID format in user 
lookup

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[fed2d9f7-d0be-45e9-ae4a-95d201f17131] GET 
/api/users/00000000-0000-0000-0000-000000000000 400 - 8ms 
- GET /api/users/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.691Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409613216anz7ww 
(878d44de-29f8-4ad4-8521-8ba21ee68e19)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[46f1ef15-a29c-476e-af51-c007bec20827] undefined undefined 
undefined - undefinedms - Invalid UUID format in user 
lookup

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[46f1ef15-a29c-476e-af51-c007bec20827] GET 
/api/users/not-a-uuid 400 - 8ms - GET /api/users/not-a-uuid

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:14] 
[69082fb2-3a9e-4ee2-bd1a-f643de932d2e] PUT 
/api/users/status 404 - 1ms - PUT /api/users/status

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:14] 
[d8ad3950-eaaa-4b46-9896-d6d09da767e9] PUT 
/api/users/status 404 - 2ms - PUT /api/users/status

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

  ΓùÅ Users API ΓÇ║ GET /api/users/search ΓÇ║ should 
search users by username

    SequelizeValidationError: Validation error: Username 
can only contain letters and numbers

    [0m [90m 49 |[39m     }[33m;[39m
     [90m 50 |[39m
    [31m[1m>[22m[39m[90m 51 |[39m     
[36mconst[39m user [33m=[39m [36mawait[39m 
[33mUser[39m[33m.[39mcreate(userData)[33m;[39m
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 52 |[39m     [36mthis[39m[33m.[39mcreatedRe
cords[33m.[39musers[33m.[39mpush(user)[33m;[39m
     [90m 53 |[39m     [36mreturn[39m user[33m;[39m
     [90m 54 |[39m   }[0m

      at InstanceValidator._validate 
(node_modules/sequelize/src/instance-validator.js:78:13)
      at InstanceValidator._validateAndRunHooks 
(node_modules/sequelize/src/instance-validator.js:111:7)
      at InstanceValidator.validate 
(node_modules/sequelize/src/instance-validator.js:93:12)
      at model.save 
(node_modules/sequelize/src/model.js:4077:7)
      at Function.create 
(node_modules/sequelize/src/model.js:2305:12)
      at TestFactory.createUser 
(tests/testFactory.js:51:18)
      at Object.<anonymous> (tests/users.test.js:119:34)

  ΓùÅ Users API ΓÇ║ GET /api/users/search ΓÇ║ should 
exclude current user from results

    SequelizeValidationError: Validation error: Username 
can only contain letters and numbers

    [0m [90m 49 |[39m     }[33m;[39m
     [90m 50 |[39m
    [31m[1m>[22m[39m[90m 51 |[39m     
[36mconst[39m user [33m=[39m [36mawait[39m 
[33mUser[39m[33m.[39mcreate(userData)[33m;[39m
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 52 |[39m     [36mthis[39m[33m.[39mcreatedRe
cords[33m.[39musers[33m.[39mpush(user)[33m;[39m
     [90m 53 |[39m     [36mreturn[39m user[33m;[39m
     [90m 54 |[39m   }[0m

      at InstanceValidator._validate 
(node_modules/sequelize/src/instance-validator.js:78:13)
      at InstanceValidator._validateAndRunHooks 
(node_modules/sequelize/src/instance-validator.js:111:7)
      at InstanceValidator.validate 
(node_modules/sequelize/src/instance-validator.js:93:12)
      at model.save 
(node_modules/sequelize/src/model.js:4077:7)
      at Function.create 
(node_modules/sequelize/src/model.js:2305:12)
      at TestFactory.createUser 
(tests/testFactory.js:51:18)
      at TestFactory.createAuthenticatedUser 
(tests/testFactory.js:60:18)
      at Object.<anonymous> (tests/users.test.js:152:30)

  ΓùÅ Users API ΓÇ║ GET /api/users/:id ΓÇ║ should return 
404 for non-existent user

    expected 404 "Not Found", got 400 "Bad Request"

    [0m [90m 191 |[39m                 [33m.[39m[36mg
et[39m([32m'/api/users/00000000-0000-0000-0000-0000000000
00'[39m)
     [90m 192 |[39m                 [33m.[39m[36mset[
39m([32m'Authorization'[39m[33m,[39m 
userAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 193 |[39m                 
[33m.[39mexpect([35m404[39m)[33m;[39m
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 194 |[39m
     [90m 195 |[39m             expect(response[33m.[39
mbody[33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[3
3m;[39m
     [90m 196 |[39m         })[33m;[39m[0m

      at Object.<anonymous> (tests/users.test.js:193:18)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "PUT /api/users/status HTTP/1.1" 404 57 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "PUT /api/users/status HTTP/1.1" 404 57 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "POST /api/contacts HTTP/1.1" 400 62 "-" "-"
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Users API ΓÇ║ User Status ΓÇ║ should update user 
status

    expect(received).toContain(expected) // indexOf

    Expected value: 404
    Received array: [200, 400]

    [0m [90m 218 |[39m
     [90m 219 |[39m             [90m// Accept success 
or validation based on status values[39m
    [31m[1m>[22m[39m[90m 220 |[39m             
expect([[35m200[39m[33m,[39m [35m400[39m])[33m.[39m
toContain(response[33m.[39mstatus)[33m;[39m
     [90m     |[39m                                
[31m[1m^[22m[39m
     [90m 221 |[39m         })[33m;[39m
     [90m 222 |[39m
     [90m 223 |[39m         it([32m'should require 
authentication'[39m[33m,[39m [36masync[39m () 
[33m=>[39m {[0m

      at Object.<anonymous> (tests/users.test.js:220:32)

  ΓùÅ Users API ΓÇ║ User Status ΓÇ║ should require 
authentication

    expected 401 "Unauthorized", got 404 "Not Found"

    [0m [90m 225 |[39m                 
[33m.[39mput([32m'/api/users/status'[39m)
     [90m 226 |[39m                 [33m.[39msend({ 
status[33m:[39m [32m'online'[39m })
    [31m[1m>[22m[39m[90m 227 |[39m                 
[33m.[39mexpect([35m401[39m)[33m;[39m
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 228 |[39m         })[33m;[39m
     [90m 229 |[39m     })[33m;[39m
     [90m 230 |[39m })[33m;[39m[0m

      at Object.<anonymous> (tests/users.test.js:227:18)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "DELETE /api/groups/00000000-0000-0000-0000-000000000000 HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "GET /api/calls/7d7017de-3ed0-4194-b64a-be59cc6175f2 HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:14 +0000] "POST /api/auth/login HTTP/1.1" 403 136 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:15 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:15 +0000] "POST /api/contacts HTTP/1.1" 201 324 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:15 +0000] "PUT /api/contacts/8baeddef-812c-4143-8dfd-c57e29fa64db/accept HTTP/1.1" 404 97 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:15 +0000] "PUT /api/admin/users/c269ebb1-d070-4854-a786-6afbad79414c/reject HTTP/1.1" 200 366 "-" "-"
PASS tests/notification-settings.test.js (14.875 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.165Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:04.537Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.221Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.808Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.308Z [[32minfo[39m]: 
Notification settings updated for user 
16ba9382-a1aa-43d1-9fd2-3e03c3935fdc

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.317Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.807Z [[31merror[39m]: Update 
user notification settings service error: Invalid field: 
invalidField
      {
        "stack": "Error: Invalid field: invalidField\n    
at NotificationSettingsService.validateSettingsUpdate (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:377:15)\n    at 
NotificationSettingsService.updateUserSettings (C:\\messeng
er\\backend\\src\\services\\notificationSettingsService.js:
52:12)\n    at Object.<anonymous> (C:\\messenger\\backend\\
tests\\notification-settings.test.js:177:37)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.816Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.368Z [[32minfo[39m]: 
Notification settings updated for user 
fae09cd9-af2c-4d4a-9497-a140c7d400e7

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:10.389Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:10.986Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.028Z [[32minfo[39m]: 
Notification settings retrieved for user 
testuser1766409612465

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒöö Emitting WebSocket event: 
notification-settings:updated to userId: 
6f9056b4-ea43-474c-ade9-75ef773ccba5

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:430:15)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:438:25)
      at NotificationSettingsController.updateSettings 
(src/controllers/notificationSettingsController.js:133:7)
      at Object.<anonymous> 
(tests/notification-settings.test.js:301:7)

    console.log
      Γ£à WebSocket event emitted successfully: 
notification-settings:updated

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:439:17)

    console.log
      2025-12-22T13:20:13.514Z [[32minfo[39m]: 
Notification settings updated for user 
testuser1766409613032

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒöö Emitting WebSocket event: 
notification-settings:reset to userId: 
0ffc6ba4-fe20-4706-81d5-68466a79cb68

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:430:15)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:438:25)
      at NotificationSettingsController.resetSettings 
(src/controllers/notificationSettingsController.js:198:7)
      at Object.<anonymous> 
(tests/notification-settings.test.js:321:7)

    console.log
      Γ£à WebSocket event emitted successfully: 
notification-settings:reset

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:439:17)

    console.log
      2025-12-22T13:20:13.937Z [[32minfo[39m]: 
Notification settings reset to defaults for user 
testuser1766409613516

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:14.361Z [[32minfo[39m]: 
Notification settings preview generated for user 
testuser1766409613939

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:14.741Z [[31merror[39m]: Update 
notification settings error: Validation error: Quiet hours 
start must be in HH:MM format
      {
        "name": "SequelizeValidationError",
        "errors": [
          {
            "message": "Quiet hours start must be in HH:MM 
format",
            "type": "Validation error",
            "path": "quietHoursStart",
            "value": "25:00",
            "origin": "FUNCTION",
            "instance": {
              "id": "5088863d-72c8-42ba-baa1-04fe63b51da8",
              "userId": 
"33a0f333-def6-4869-ab57-561463029936",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "quietHoursStart": "25:00",
              "quietHoursEnd": "17:00",
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "createdAt": "2025-12-22T12:20:14.733Z",
              "updatedAt": "2025-12-22T13:20:14.740Z"
            },
            "validatorKey": "isValidTime",
            "validatorName": null,
            "validatorArgs": [],
            "original": {}
          }
        ],
        "stack": "SequelizeValidationError: Validation 
error: Quiet hours start must be in HH:MM format\n    at 
InstanceValidator._validate (C:\\messenger\\backend\\node_m
odules\\sequelize\\src\\instance-validator.js:78:13)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
InstanceValidator._validateAndRunHooks (C:\\messenger\\back
end\\node_modules\\sequelize\\src\\instance-validator.js:11
1:7)\n    at InstanceValidator.validate (C:\\messenger\\bac
kend\\node_modules\\sequelize\\src\\instance-validator.js:9
3:12)\n    at model.save (C:\\messenger\\backend\\node_modu
les\\sequelize\\src\\model.js:4077:7)\n    at model.update 
(C:\\messenger\\backend\\node_modules\\sequelize\\src\\mode
l.js:4343:12)\n    at 
NotificationSettingsController.updateSettings (C:\\messenge
r\\backend\\src\\controllers\\notificationSettingsControlle
r.js:130:31)\n    at Object.<anonymous> (C:\\messenger\\bac
kend\\tests\\notification-settings.test.js:369:7)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:15.170Z [[32minfo[39m]: 
Notification settings updated for user 
776f4674-f5de-4e15-8f67-17f932277a83

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.176Z [[32minfo[39m]: 
Notification settings reset to defaults for user 
776f4674-f5de-4e15-8f67-17f932277a83

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

::ffff:127.0.0.1 - - [22/Dec/2025:13:20:15 +0000] "GET /api/calls/94dd917f-e27d-40ec-bcb7-6811b8a24012 HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:15 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:15 +0000] "POST /api/contacts HTTP/1.1" 201 324 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:15 +0000] "PUT /api/contacts/6073b6fa-d055-48df-ab7b-664699136a4f/reject HTTP/1.1" 404 97 "-" "-"
PASS tests/call.test.js (15.478 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.147Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.191Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.209Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.211Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.234Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      2025-12-22T13:20:08.651Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409607515pznn1p 
(61b375c3-0444-438d-b542-97a7041eaa04)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.751Z [[32minfo[39m]: Call 
initiated
      {
        "callId": "7c9ce194-0c2c-44c4-819a-f19240231bf6",
        "callerId": "61b375c3-0444-438d-b542-97a7041eaa04",
        "recipientId": 
"769e329d-b414-441a-b132-20d4152a8f1b",
        "callType": "video"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.757Z [[31merror[39m]: 
WebSocket server not initialized. Call 
initializeWebSocket() first.
      {
        "stack": "Error: WebSocket server not initialized. 
Call initializeWebSocket() first.\n    at getIO (C:\\messen
ger\\backend\\src\\services\\websocket.js:1191:11)\n    at 
Object.initiateCall (C:\\messenger\\backend\\src\\services\
\callService.js:99:16)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
initiateCall (C:\\messenger\\backend\\src\\controllers\\cal
lController.js:8:18)",
        "name": "Error",
        "requestId": 
"24e8497d-f08b-4f37-9e26-43142b6c0366",
        "url": "/api/calls",
        "method": "POST",
        "ip": "::ffff:127.0.0.1",
        "userId": "61b375c3-0444-438d-b542-97a7041eaa04",
        "isOperational": true
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[24e8497d-f08b-4f37-9e26-43142b6c0366] POST /api/calls 500 
- 134ms - POST /api/calls

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:09] 
[b2c07a7b-3c5d-4a43-bbbb-d79bc555ebfc] POST /api/calls 401 
- 1ms - POST /api/calls

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:10.231Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409609708ghrkzo 
(1d099fff-8531-473d-8311-3bc661180cec)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:10] 
[8cedc8da-5bdc-496d-b30f-51b3fcaa4ce5] POST /api/calls 400 
- 9ms - POST /api/calls

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.364Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409610867vyl9rk 
(712eea93-8f96-49dd-a8a0-a6304393ba97)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.381Z [[32minfo[39m]: Call 
response
      {
        "callId": "ca9b8380-a3c4-48d4-b6fe-e217e967a888",
        "recipientId": 
"712eea93-8f96-49dd-a8a0-a6304393ba97",
        "response": "accept",
        "newStatus": "connected"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.382Z [[31merror[39m]: 
WebSocket server not initialized. Call 
initializeWebSocket() first.
      {
        "stack": "Error: WebSocket server not initialized. 
Call initializeWebSocket() first.\n    at getIO (C:\\messen
ger\\backend\\src\\services\\websocket.js:1191:11)\n    at 
Object.respondToCall (C:\\messenger\\backend\\src\\services
\\callService.js:215:16)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
respondToCall (C:\\messenger\\backend\\src\\controllers\\ca
llController.js:26:18)",
        "name": "Error",
        "requestId": 
"4b55f21a-7383-4fed-a210-ab2841ca6703",
        "url": "/api/calls/respond",
        "method": "POST",
        "ip": "::ffff:127.0.0.1",
        "userId": "712eea93-8f96-49dd-a8a0-a6304393ba97",
        "isOperational": true
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[4b55f21a-7383-4fed-a210-ab2841ca6703] POST 
/api/calls/respond 500 - 23ms - POST /api/calls/respond

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:12.399Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640961190868osco 
(56bde92a-0cf5-4db4-a22d-e8bfe69f4a26)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.695Z [[31merror[39m]: Failed 
to create call message
      {
        "callId": "5ede73a8-500b-4ff1-b91f-375e52be4047",
        "error": "current transaction is aborted, commands 
ignored until end of transaction block",
        "errorName": "SequelizeDatabaseError",
        "callStatus": "rejected",
        "messageStatus": "sent"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.698Z [[31merror[39m]: current 
transaction is aborted, commands ignored until end of 
transaction block
      {
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at createCallMessage (C:
\\messenger\\backend\\src\\services\\callService.js:403:21)
\n    at Object.respondToCall (C:\\messenger\\backend\\src\
\services\\callService.js:183:21)\n    at respondToCall (C:
\\messenger\\backend\\src\\controllers\\callController.js:2
6:18)",
        "name": "SequelizeDatabaseError",
        "requestId": 
"daace63b-8f64-4fe4-9604-2177a8cf6d1f",
        "url": "/api/calls/respond",
        "method": "POST",
        "ip": "::ffff:127.0.0.1",
        "userId": "56bde92a-0cf5-4db4-a22d-e8bfe69f4a26",
        "isOperational": true
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[daace63b-8f64-4fe4-9604-2177a8cf6d1f] POST 
/api/calls/respond 500 - 304ms - POST /api/calls/respond

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.726Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409612728qn29f8 
(4657cebd-463e-4c02-a868-ae4510cddc43)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:14.007Z [[31merror[39m]: Failed 
to create call message
      {
        "callId": "f4e7da6f-fd0a-4b3b-9f79-b0a63549a813",
        "error": "current transaction is aborted, commands 
ignored until end of transaction block",
        "errorName": "SequelizeDatabaseError",
        "callStatus": "completed",
        "messageStatus": "delivered"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:14.010Z [[31merror[39m]: current 
transaction is aborted, commands ignored until end of 
transaction block
      {
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at createCallMessage (C:
\\messenger\\backend\\src\\services\\callService.js:403:21)
\n    at Object.endCall (C:\\messenger\\backend\\src\\servi
ces\\callService.js:314:25)\n    at endCall (C:\\messenger\
\backend\\src\\controllers\\callController.js:60:18)",
        "name": "SequelizeDatabaseError",
        "requestId": 
"c4d2ae1e-7f42-4391-802b-bbd5b98de287",
        "url": 
"/api/calls/f4e7da6f-fd0a-4b3b-9f79-b0a63549a813/end",
        "method": "POST",
        "ip": "::ffff:127.0.0.1",
        "userId": "4657cebd-463e-4c02-a868-ae4510cddc43",
        "isOperational": true
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:14] 
[c4d2ae1e-7f42-4391-802b-bbd5b98de287] POST 
/api/calls/f4e7da6f-fd0a-4b3b-9f79-b0a63549a813/end 500 - 
290ms - POST 
/api/calls/f4e7da6f-fd0a-4b3b-9f79-b0a63549a813/end

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:14.843Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096140306s9cbl 
(fd60f3dc-4c6d-400e-a403-42cf61f726db)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:14] 
[d3b13440-43f7-4345-a8ea-996d1087ee6b] GET 
/api/calls/7d7017de-3ed0-4194-b64a-be59cc6175f2 200 - 18ms 
- GET /api/calls/7d7017de-3ed0-4194-b64a-be59cc6175f2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:15] 
[a971fa0b-15ad-42cc-b9e2-a29c4aee41ca] GET 
/api/calls/94dd917f-e27d-40ec-bcb7-6811b8a24012 401 - 1ms 
- GET /api/calls/94dd917f-e27d-40ec-bcb7-6811b8a24012

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:16.086Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409615710a7tfdh 
(dc6358e3-7e06-44c4-bac3-9af6273f4ff8)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.092Z [[31merror[39m]: Call not 
found
      {
        "stack": "NotFoundError: Call not found\n    at 
Object.getCallDetails (C:\\messenger\\backend\\src\\service
s\\callService.js:268:11)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
getCallDetails (C:\\messenger\\backend\\src\\controllers\\c
allController.js:44:18)",
        "statusCode": 404,
        "name": "NotFoundError",
        "requestId": 
"4c72384b-8fcb-437a-873b-33bc4a62c1d4",
        "url": 
"/api/calls/00000000-0000-0000-0000-000000000000",
        "method": "GET",
        "ip": "::ffff:127.0.0.1",
        "userId": "dc6358e3-7e06-44c4-bac3-9af6273f4ff8",
        "isOperational": true
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[4c72384b-8fcb-437a-873b-33bc4a62c1d4] GET 
/api/calls/00000000-0000-0000-0000-000000000000 404 - 12ms 
- GET /api/calls/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "GET /api/calls/00000000-0000-0000-0000-000000000000 HTTP/1.1" 404 168 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "PUT /api/admin/users/b59006ef-1f45-4e44-a458-95427001e0ca/deactivate HTTP/1.1" 200 217 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "POST /api/contacts HTTP/1.1" 201 324 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "DELETE /api/contacts/ad4df3d1-98b0-4364-a79a-0518491c46e2 HTTP/1.1" 200 149 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "DELETE /api/contacts/00000000-0000-0000-0000-000000000000 HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:16 +0000] "PUT /api/admin/users/1025eaa1-af07-4f88-8d40-a69ada3f57ac/deactivate HTTP/1.1" 403 156 "-" "-"
PASS tests/contacts.test.js (16.819 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.146Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.229Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.255Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.258Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.283Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      2025-12-22T13:20:08.136Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409607560ro11z8 
(2dbdc4ee-6eca-4205-a1b7-652d3b03cd9f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[008ac592-253d-4649-b095-1b6aad03188c] GET /api/contacts 
200 - 56ms - GET /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:08] 
[2e8c620d-4093-4a6e-af65-70d3d1082d77] GET /api/contacts 
401 - 2ms - GET /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.866Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409608264ld6tzh 
(0eb82b64-d870-4afe-8acb-b9f71c63b94e)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[cfc2b665-2921-4f1d-af55-84df12b61e29] GET 
/api/contacts?status=accepted 200 - 29ms - GET 
/api/contacts?status=accepted

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.446Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409608902xhfdln 
(10f01d38-352a-437d-932f-5b966146fd6a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[166a6f2d-5a73-44df-851b-c7214492e505] GET 
/api/contacts?page=1&limit=10 200 - 16ms - GET 
/api/contacts?page=1&limit=10

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.991Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096095000nvdk9 
(7f52e1a4-e31f-4782-83be-e9a0b6fe083f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[c0dfa21a-1a31-4255-9ab5-05c43c140348] GET 
/api/contacts?status=invalid 400 - 7ms - GET 
/api/contacts?status=invalid

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.183Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409610010sodo5r 
(7191ad15-73c7-4f09-999a-1a72ec5699d0)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at src/routes/contacts.js:308:25

    console.log
      2025-12-22T13:20:11.212Z [[32minfo[39m]: Γ£à 
Contact request notification sent to user 
170e9ed0-8e99-4eb1-98ed-e108f15a8a34

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.215Z [[32minfo[39m]: Γä╣∩╕Å No 
devices registered for user 
170e9ed0-8e99-4eb1-98ed-e108f15a8a34

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[0a824b9b-08ad-4f8a-899c-2edc568a265c] POST /api/contacts 
201 - 37ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:11] 
[8842c9ca-4666-464e-a324-0af1e1f58364] POST /api/contacts 
401 - 1ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:12.222Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096117424wtap3 
(3ce6031e-5cc5-4298-8633-51354ca5066b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[207ad7c5-b875-45d1-9ee8-f75769a0cb0e] POST /api/contacts 
400 - 6ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:12.748Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409612237hq9get 
(40faf450-9060-4264-92e8-bed045a70002)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[5c767921-dc0e-4002-a688-00f8eb073357] POST /api/contacts 
404 - 13ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.750Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640961277277wmjr 
(a33ae54c-9c20-4b0e-9190-82476192432a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at src/routes/contacts.js:308:25

    console.log
      2025-12-22T13:20:13.768Z [[32minfo[39m]: Γ£à 
Contact request notification sent to user 
c7e97b80-751c-49a3-88f1-6ec55dfbb79a

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.770Z [[32minfo[39m]: Γä╣∩╕Å No 
devices registered for user 
c7e97b80-751c-49a3-88f1-6ec55dfbb79a

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[f43e2c32-8a1b-45dc-a135-a1e58a6ee540] POST /api/contacts 
201 - 24ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.780Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640961277277wmjr 
(a33ae54c-9c20-4b0e-9190-82476192432a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.786Z [[31merror[39m]: Γ¥î 
Error adding contact: Contact request already pending
      {
        "stack": "Error: Contact request already pending\n 
   at Function.Contact.sendRequest 
(C:\\messenger\\backend\\src\\models\\Contact.js:298:13)\n 
   at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\contacts.js:281:23"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[42503554-7160-4e21-83cd-f10bd4721834] POST /api/contacts 
409 - 11ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:14.194Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409613801gdkj1 
(fd7db3a4-1f95-4d5a-ba3c-918eeb3de636)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:14] 
[c6fcd55e-3c8d-4f97-ac95-9b33bedfc834] POST /api/contacts 
400 - 4ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:15.030Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096142043zkrf 
(ea5a5624-21f1-4d8d-861c-c4c064f336cf)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at src/routes/contacts.js:308:25

    console.log
      2025-12-22T13:20:15.049Z [[32minfo[39m]: Γ£à 
Contact request notification sent to user 
e5bbe070-5555-411a-ae30-136df4b3088a

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.051Z [[32minfo[39m]: Γä╣∩╕Å No 
devices registered for user 
e5bbe070-5555-411a-ae30-136df4b3088a

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:15] 
[871ea721-27bc-4ce7-8360-e465978e5376] POST /api/contacts 
201 - 26ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.061Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409614607jka6od 
(e5bbe070-5555-411a-ae30-136df4b3088a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:15] 
[f124a698-46e9-424a-b00f-037275f26198] PUT 
/api/contacts/8baeddef-812c-4143-8dfd-c57e29fa64db/accept 
404 - 6ms - PUT 
/api/contacts/8baeddef-812c-4143-8dfd-c57e29fa64db/accept

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:15.853Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409615084e0nj9 
(36d2a8ae-332f-41b0-b997-76c7745f95a2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at src/routes/contacts.js:308:25

    console.log
      2025-12-22T13:20:15.869Z [[32minfo[39m]: Γ£à 
Contact request notification sent to user 
e9228e4b-5845-42b5-8c03-501c52662da6

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.871Z [[32minfo[39m]: Γä╣∩╕Å No 
devices registered for user 
e9228e4b-5845-42b5-8c03-501c52662da6

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:15] 
[e8cdae6c-df48-4542-a4ea-0de1fc582237] POST /api/contacts 
201 - 22ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.879Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096154485htr7u 
(e9228e4b-5845-42b5-8c03-501c52662da6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:15] 
[87a05a93-de36-4b10-954f-cb3e60425a7b] PUT 
/api/contacts/6073b6fa-d055-48df-ab7b-664699136a4f/reject 
404 - 4ms - PUT 
/api/contacts/6073b6fa-d055-48df-ab7b-664699136a4f/reject

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:16.611Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096158967zzgg8 
(95f13368-ca54-4636-81f4-9aa193b057b1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at src/routes/contacts.js:308:25

    console.log
      2025-12-22T13:20:16.626Z [[32minfo[39m]: Γ£à 
Contact request notification sent to user 
d482c6f5-91ee-411b-a0a1-967f3b2682b4

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.628Z [[32minfo[39m]: Γä╣∩╕Å No 
devices registered for user 
d482c6f5-91ee-411b-a0a1-967f3b2682b4

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[e6fe90a4-c86b-495d-ae0b-701c341cbbfc] POST /api/contacts 
201 - 20ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.635Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096158967zzgg8 
(95f13368-ca54-4636-81f4-9aa193b057b1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[8cfb2e18-0437-448a-913d-1f45db9a5385] DELETE 
/api/contacts/ad4df3d1-98b0-4364-a79a-0518491c46e2 200 - 
11ms - DELETE 
/api/contacts/ad4df3d1-98b0-4364-a79a-0518491c46e2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:16] 
[532a95b5-5da6-4f4f-810f-5cb1189a9c36] DELETE 
/api/contacts/00000000-0000-0000-0000-000000000000 401 - 
0ms - DELETE 
/api/contacts/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:17.351Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096166590vxxt6 
(f5701e5a-0af7-4290-9ff5-4cebf145ce38)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:17 +0000] "POST /api/contacts HTTP/1.1" 201 324 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:17 +0000] "PUT /api/contacts/2bd08117-3638-440f-ad10-c0ef67e9cc43/block HTTP/1.1" 404 96 "-" "-"
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at src/routes/contacts.js:308:25

    console.log
      2025-12-22T13:20:17.370Z [[32minfo[39m]: Γ£à 
Contact request notification sent to user 
89af7b02-8c0d-4e8c-972e-35a68496e761

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.373Z [[32minfo[39m]: Γä╣∩╕Å No 
devices registered for user 
89af7b02-8c0d-4e8c-972e-35a68496e761

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:17] 
[3db53ce0-b2f0-4215-a29b-1d9ba4c1acd1] POST /api/contacts 
201 - 26ms - POST /api/contacts

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.384Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096166590vxxt6 
(f5701e5a-0af7-4290-9ff5-4cebf145ce38)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:17] 
[9c327484-7b2c-423b-a630-01e18880cc68] PUT 
/api/contacts/2bd08117-3638-440f-ad10-c0ef67e9cc43/block 
404 - 5ms - PUT 
/api/contacts/2bd08117-3638-440f-ad10-c0ef67e9cc43/block

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

::ffff:127.0.0.1 - - [22/Dec/2025:13:20:17 +0000] "POST /api/groups HTTP/1.1" 500 86 "-" "-"
FAIL tests/groups.test.js (17.168 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.088Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.162Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.180Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.182Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.205Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      2025-12-22T13:20:08.111Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409607516n59b0f 
(2017437c-efef-4768-a995-6b58551fd0c6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.116Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "2017437c-efef-4768-a995-6b58551fd0c6"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.130Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "602fdb8d-97b0-4c46-9fdc-6d2607f8b894"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.137Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.172Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "2017437c-efef-4768-a995-6b58551fd0c6",
        "groupId": "602fdb8d-97b0-4c46-9fdc-6d2607f8b894",
        "name": "Test Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.183Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "2017437c-efef-4768-a995-6b58551fd0c6",
        "groupData": {
          "name": "Test Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[cd85627f-0e60-40f5-84bf-8dc4517841fa] POST /api/groups 
500 - 95ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:08] 
[178d99ab-795f-45dc-83ba-70b1cc0ad859] POST /api/groups 
401 - 2ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.173Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096086055aty3z 
(b57a1647-0b2e-4bce-b396-d81b548d00bb)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[c6f8fc5d-1444-4332-b92b-696c867054d0] POST /api/groups 
400 - 20ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.703Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096092131855v 
(dae48728-9b76-4654-a3b9-88ae8b3e3696)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.704Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "dae48728-9b76-4654-a3b9-88ae8b3e3696"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.712Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "b9b8e252-75cc-4ce4-8018-c0eefeed3bf6"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.716Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.734Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "dae48728-9b76-4654-a3b9-88ae8b3e3696",
        "groupId": "b9b8e252-75cc-4ce4-8018-c0eefeed3bf6",
        "name": "AB",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.735Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "dae48728-9b76-4654-a3b9-88ae8b3e3696",
        "groupData": {
          "name": "AB",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[9b708363-fcef-427d-8ab0-417a74c1e6f4] POST /api/groups 
500 - 38ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:10.644Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096100299k9q7f 
(51f43302-fa9b-41a1-b7da-ea413d4f34d5)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.645Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "51f43302-fa9b-41a1-b7da-ea413d4f34d5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.656Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "1c3b669d-8d59-4e6d-8b4f-d8569e42d314"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.666Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.699Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "51f43302-fa9b-41a1-b7da-ea413d4f34d5",
        "groupId": "1c3b669d-8d59-4e6d-8b4f-d8569e42d314",
        "name": "My Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.700Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "51f43302-fa9b-41a1-b7da-ea413d4f34d5",
        "groupData": {
          "name": "My Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:10] 
[6aa119ea-3cf4-406f-a2d2-9eb786944f25] POST /api/groups 
500 - 63ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.721Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096100299k9q7f 
(51f43302-fa9b-41a1-b7da-ea413d4f34d5)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:10] 
[fd2e00a2-ae12-4ed8-9894-d824c5adc0c4] GET /api/groups 200 
- 30ms - GET /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:11] 
[58205ab2-7bbf-4a59-b80c-516f1877ae63] GET /api/groups 401 
- 1ms - GET /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.565Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409611051es2363 
(f69ab0c5-666d-491b-8d45-69905bc3f62b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[28314997-eae6-4441-bf25-b2236debe4fc] GET 
/api/groups?page=1&limit=10 200 - 16ms - GET 
/api/groups?page=1&limit=10

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:12.112Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409611614rny6sn 
(a24a95df-c43f-447f-b50e-904334e57b8f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.114Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "a24a95df-c43f-447f-b50e-904334e57b8f"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.120Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "de737d9d-f53e-453f-9491-8aae78086650"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.124Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.139Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "a24a95df-c43f-447f-b50e-904334e57b8f",
        "groupId": "de737d9d-f53e-453f-9491-8aae78086650",
        "name": "Detail Test Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.140Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "a24a95df-c43f-447f-b50e-904334e57b8f",
        "groupData": {
          "name": "Detail Test Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[fc4a1f20-5c94-4289-9cb3-6c2523fa1757] POST /api/groups 
500 - 34ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:12] 
[298aa258-a29e-45e8-9911-fb87fccd29b1] GET 
/api/groups/00000000-0000-0000-0000-000000000000 401 - 1ms 
- GET /api/groups/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.032Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096124382ml527 
(ef224ea4-de65-4ebd-8fa8-17c69031e4c6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[e73b3865-a9b8-4313-9841-cb4e6c425443] GET 
/api/groups/00000000-0000-0000-0000-000000000000 403 - 8ms 
- GET /api/groups/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.531Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096130504k0gdg 
(18ae43d9-bca9-4498-98c0-0279348d2b0f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.532Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "18ae43d9-bca9-4498-98c0-0279348d2b0f"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.538Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "dce7201f-1e33-471f-b16a-fc782476b548"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.540Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.554Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "18ae43d9-bca9-4498-98c0-0279348d2b0f",
        "groupId": "dce7201f-1e33-471f-b16a-fc782476b548",
        "name": "Update Test Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.555Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "18ae43d9-bca9-4498-98c0-0279348d2b0f",
        "groupData": {
          "name": "Update Test Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[a88b0bdf-b606-4264-b73c-ff5f08e441dc] POST /api/groups 
500 - 29ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:13] 
[a23ffb38-2062-4004-840c-9a830292b2ef] PUT 
/api/groups/00000000-0000-0000-0000-000000000000 401 - 1ms 
- PUT /api/groups/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:14.282Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409613855a0ymra 
(93f602bc-14b9-4e02-9d4b-dcc232968b32)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:14.283Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "93f602bc-14b9-4e02-9d4b-dcc232968b32"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:14.290Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "a50af770-a920-4252-bb56-1976f386fd27"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:14.293Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:14.306Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "93f602bc-14b9-4e02-9d4b-dcc232968b32",
        "groupId": "a50af770-a920-4252-bb56-1976f386fd27",
        "name": "Delete Test Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:14.307Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "93f602bc-14b9-4e02-9d4b-dcc232968b32",
        "groupData": {
          "name": "Delete Test Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:14] 
[65430007-50cf-4be0-bf44-f3dbd7b0acfa] POST /api/groups 
500 - 30ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:14] 
[1445398e-1b92-4168-81b3-ae598cd1f03d] DELETE 
/api/groups/00000000-0000-0000-0000-000000000000 401 - 1ms 
- DELETE /api/groups/00000000-0000-0000-0000-000000000000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:15.003Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409614597m62a4j 
(f623556f-5694-4dfb-be87-46fd8c11e75d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.004Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "f623556f-5694-4dfb-be87-46fd8c11e75d"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.009Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "fc434d1e-ef57-4b2f-b03b-aa6ff1b28083"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.013Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.025Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "f623556f-5694-4dfb-be87-46fd8c11e75d",
        "groupId": "fc434d1e-ef57-4b2f-b03b-aa6ff1b28083",
        "name": "Member Test Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.026Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "f623556f-5694-4dfb-be87-46fd8c11e75d",
        "groupData": {
          "name": "Member Test Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:15] 
[9869684c-54ea-48f5-b4d6-f0443369bac3] POST /api/groups 
500 - 27ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:15.724Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409615309s7u4db 
(9f38b5d2-1195-417a-841d-73df2e5c787b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.725Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "9f38b5d2-1195-417a-841d-73df2e5c787b"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.730Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "26f64db7-36c1-43a6-8d79-5cfbaf3f37c8"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.733Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.745Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "9f38b5d2-1195-417a-841d-73df2e5c787b",
        "groupId": "26f64db7-36c1-43a6-8d79-5cfbaf3f37c8",
        "name": "Member Test Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.746Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "9f38b5d2-1195-417a-841d-73df2e5c787b",
        "groupData": {
          "name": "Member Test Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:15] 
[ee000be4-4463-4154-9593-f4017ce3751c] POST /api/groups 
500 - 27ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:16.396Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409616025z8kk6j 
(050571b4-ad61-4145-a546-9e20992bd3ba)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.397Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "050571b4-ad61-4145-a546-9e20992bd3ba"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.401Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "ea1c443e-c3ce-431d-852d-127d443d86ff"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.403Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.416Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "050571b4-ad61-4145-a546-9e20992bd3ba",
        "groupId": "ea1c443e-c3ce-431d-852d-127d443d86ff",
        "name": "Member Test Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.416Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "050571b4-ad61-4145-a546-9e20992bd3ba",
        "groupData": {
          "name": "Member Test Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[8f1695a7-43ab-4823-84aa-33caee4f7d74] POST /api/groups 
500 - 23ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:17.386Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409616687mhrtbq 
(182ee4e5-86a0-46ca-85ed-8d124138236e)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.387Z [[32minfo[39m]: Create 
Group Debug - Phase 1:
      {
        "userId": "182ee4e5-86a0-46ca-85ed-8d124138236e"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.392Z [[32minfo[39m]: Create 
Group Debug - Phase 4 (Group Created):
      {
        "groupId": "e64ab73d-f3a2-4eb3-88a6-3a3ca5ab4742"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.394Z [[32minfo[39m]: Create 
Group Debug - Phase 5 (Creating Creator Membership)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.405Z [[32minfo[39m]: Group 
created successfully
      {
        "userId": "182ee4e5-86a0-46ca-85ed-8d124138236e",
        "groupId": "e64ab73d-f3a2-4eb3-88a6-3a3ca5ab4742",
        "name": "Leave Test Group",
        "groupType": "private",
        "initialMembersCount": 0
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.406Z [[31merror[39m]: Error 
creating group:
      {
        "error": "Transaction cannot be rolled back 
because it has been finished with state: commit",
        "stack": "Error: Transaction cannot be rolled back 
because it has been finished with state: commit\n    at 
Transaction.rollback (C:\\messenger\\backend\\node_modules\
\sequelize\\src\\transaction.js:83:13)\n    at createGroup 
(C:\\messenger\\backend\\src\\controllers\\groupsController
.js:188:44)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)",
        "userId": "182ee4e5-86a0-46ca-85ed-8d124138236e",
        "groupData": {
          "name": "Leave Test Group",
          "groupType": "private"
        }
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:17] 
[e2f3e2b2-ee6b-4170-b4fa-00b8b9f68fc5] POST /api/groups 
500 - 24ms - POST /api/groups

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:17] 
[bb6ddac1-88a9-4b5c-bd63-a3e076be1e7c] POST 
/api/groups/00000000-0000-0000-0000-000000000000/leave 401 
- 1ms - POST 
/api/groups/00000000-0000-0000-0000-000000000000/leave

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:17 +0000] "PUT /api/admin/users/f13eb94b-f119-42c6-bd88-ddeec2d8cff8/reactivate HTTP/1.1" 200 216 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:17 +0000] "POST /api/groups/00000000-0000-0000-0000-000000000000/leave HTTP/1.1" 401 87 "-" "-"

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

  ΓùÅ Groups API ΓÇ║ POST /api/groups ΓÇ║ should create a 
new group

    expected 201 "Created", got 500 "Internal Server Error"

    [0m [90m 39 |[39m                     
description[33m:[39m [32m'A test group'[39m[33m,[39m
     [90m 40 |[39m                 })
    [31m[1m>[22m[39m[90m 41 |[39m                 
[33m.[39mexpect([35m201[39m)[33m;[39m
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 42 |[39m
     [90m 43 |[39m             expect(response[33m.[39m
body[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m
;[39m
     [90m 44 |[39m             expect(response[33m.[39m
body[33m.[39mdata[33m.[39mname)[33m.[39mtoBe([32m'Te
st Group'[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/groups.test.js:41:18)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Groups API ΓÇ║ POST /api/groups ΓÇ║ should validate 
name length

    expected 400 "Bad Request", got 500 "Internal Server 
Error"

    [0m [90m 71 |[39m                 [33m.[39m[36mse
t[39m([32m'Authorization'[39m[33m,[39m 
userAuth[33m.[39mauthHeader)
     [90m 72 |[39m                 [33m.[39msend({ 
name[33m:[39m [32m'AB'[39m }) [90m// Too short[39m
    [31m[1m>[22m[39m[90m 73 |[39m                 
[33m.[39mexpect([35m400[39m)[33m;[39m
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 74 |[39m
     [90m 75 |[39m             expect(response[33m.[39m
body[33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[33
m;[39m
     [90m 76 |[39m         })[33m;[39m[0m

      at Object.<anonymous> (tests/groups.test.js:73:18)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Groups API ΓÇ║ GET /api/groups ΓÇ║ should get user 
groups

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 93 |[39m
     [90m 94 |[39m             expect(response[33m.[39m
body[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m
;[39m
    [31m[1m>[22m[39m[90m 95 |[39m             expect(
[33mArray[39m[33m.[39misArray(response[33m.[39mbody[
33m.[39mdata))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                       
                [31m[1m^[22m[39m
     [90m 96 |[39m         })[33m;[39m
     [90m 97 |[39m
     [90m 98 |[39m         it([32m'should require 
authentication'[39m[33m,[39m [36masync[39m () 
[33m=>[39m {[0m

      at Object.<anonymous> (tests/groups.test.js:95:55)

  ΓùÅ Groups API ΓÇ║ GET /api/groups ΓÇ║ should support 
pagination

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 110 |[39m                 
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m 111 |[39m
    [31m[1m>[22m[39m[90m 112 |[39m             expect
(response[33m.[39mbody[33m.[39mpagination)[33m.[39mto
BeDefined()[33m;[39m
     [90m     |[39m                                      
        [31m[1m^[22m[39m
     [90m 113 |[39m         })[33m;[39m
     [90m 114 |[39m     })[33m;[39m
     [90m 115 |[39m[0m

      at Object.<anonymous> (tests/groups.test.js:112:46)

  ΓùÅ Groups API ΓÇ║ GET /api/groups/:id ΓÇ║ should return 
404 for non-existent group

    expected 404 "Not Found", got 403 "Forbidden"

    [0m [90m 148 |[39m                 [33m.[39m[36mg
et[39m([32m'/api/groups/00000000-0000-0000-0000-000000000
000'[39m)
     [90m 149 |[39m                 [33m.[39m[36mset[
39m([32m'Authorization'[39m[33m,[39m 
userAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 150 |[39m                 
[33m.[39mexpect([35m404[39m)[33m;[39m
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 151 |[39m         })[33m;[39m
     [90m 152 |[39m     })[33m;[39m
     [90m 153 |[39m[0m

      at Object.<anonymous> (tests/groups.test.js:150:18)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

::ffff:127.0.0.1 - - [22/Dec/2025:13:20:17 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:18 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:18 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:18 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:18 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:18 +0000] "GET /api/admin/audit-logs HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:18 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "GET /api/admin/audit-logs?action=user_approve HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "POST /api/auth/login HTTP/1.1" 423 107 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "GET /api/admin/audit-logs?startDate=2025-12-22T13:20:19.371Z&endDate=2025-12-22T13:20:19.371Z HTTP/1.1" 400 56 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "POST /api/auth/logout HTTP/1.1" 200 46 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "POST /api/auth/logout HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "GET /api/admin/reports HTTP/1.1" 200 141 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "POST /api/auth/refresh HTTP/1.1" 200 995 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "GET /api/notifications HTTP/1.1" 200 908 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:19 +0000] "POST /api/auth/refresh HTTP/1.1" 401 95 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "GET /api/admin/reports?status=pending HTTP/1.1" 200 141 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "POST /api/auth/forgot-password HTTP/1.1" 200 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "POST /api/auth/forgot-password HTTP/1.1" 200 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "GET /api/notifications?read=false HTTP/1.1" 200 549 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "POST /api/auth/forgot-password HTTP/1.1" 400 175 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "GET /api/notifications?type=message HTTP/1.1" 200 549 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "POST /api/auth/reset-password HTTP/1.1" 200 93 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "GET /api/notifications?page=1&limit=1 HTTP/1.1" 200 548 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:20 +0000] "GET /api/notifications HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "PUT /api/admin/reports/c5b23e29-5fc4-4472-93cf-bc83d9984582/resolve HTTP/1.1" 400 55 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 321 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "GET /api/notifications?limit=150 HTTP/1.1" 400 207 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "GET /api/admin/announcements HTTP/1.1" 200 26 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 321 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "GET /api/notifications/unread-count HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "POST /api/admin/announcements HTTP/1.1" 400 51 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 416 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:21 +0000] "PUT /api/notifications/d84716d1-3a11-4535-999f-099c9ca4cecc/read HTTP/1.1" 200 444 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:22 +0000] "POST /api/admin/announcements HTTP/1.1" 400 49 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:22 +0000] "PUT /api/notifications/cd37c3e3-12ba-45c4-b74c-2d45b31bbef2/read HTTP/1.1" 200 450 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:22 +0000] "PUT /api/notifications/550e8400-e29b-41d4-a716-446655440000/read HTTP/1.1" 404 111 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:22 +0000] "PUT /api/admin/announcements/00d3fd27-59ba-4748-9f47-6b81b88cd406 HTTP/1.1" 400 55 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:23 +0000] "PUT /api/notifications/invalid-id/read HTTP/1.1" 400 216 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:23 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 200 99 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:23 +0000] "DELETE /api/admin/announcements/84a4afbf-45c5-43f8-933a-91a5a916c2d4 HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:23 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 200 112 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:23 +0000] "GET /api/admin/export/audit-logs/csv HTTP/1.1" 500 54 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:24 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 400 204 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:24 +0000] "GET /api/admin/export/reports/csv HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:24 +0000] "DELETE /api/notifications/0051580d-9fc0-402a-8916-38797dc82ea1 HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:24 +0000] "GET /api/admin/export/statistics/csv HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:24 +0000] "DELETE /api/notifications/550e8400-e29b-41d4-a716-446655440000 HTTP/1.1" 404 111 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "GET /api/admin/settings HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "DELETE /api/notifications/invalid-id HTTP/1.1" 400 216 "-" "-"
PASS tests/auth.test.js (24.885 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.157Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.265Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.298Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.303Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.335Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      2025-12-22T13:20:07.609Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[0f43b71a-506f-417f-a39b-6464f4a3b832] POST 
/api/auth/register 201 - 561ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.776Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[ed484bf7-e67d-48b0-8a90-3aa2ef73a17f] POST 
/api/auth/register 409 - 14ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.347Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[ec0dcaeb-daac-43ec-916b-0a453a90d791] POST 
/api/auth/register 409 - 8ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.371Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[3f1b8a6d-6b3c-46d5-8d88-fd156c82f2a0] POST 
/api/auth/register 400 - 4ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.387Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[e9223e86-63ba-4608-b4b0-82e791ada887] POST 
/api/auth/register 400 - 3ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.400Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[f74bd894-70de-4f17-9ec0-8cad3019a7e9] POST 
/api/auth/register 400 - 2ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.412Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[5b5a9db3-ccbf-4fcf-b239-f9eae5023e8f] POST 
/api/auth/register 400 - 3ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.920Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.459Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at login (C
:\\messenger\\backend\\src\\controllers\\authController.js:
236:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.460Z [[32minfo[39m]: User 
logged in: logintest (login@example.com)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.500Z [[32minfo[39m]: Audit 
service initialized successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.516Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"87bf7658-0058-4764-a7c3-d1bcd58e9b72",
        "userId": "11ac756a-0628-400f-9b16-317793021de7",
        "action": "user_login",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:10] 
[5482ed12-12fa-40f0-bcc1-cab96e7c6cf3] POST 
/api/auth/login 200 - 602ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.100Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.609Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at login (C
:\\messenger\\backend\\src\\controllers\\authController.js:
236:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.609Z [[32minfo[39m]: User 
logged in: logintest (login@example.com)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.614Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"b7e08322-a633-400a-8dc8-3780de31ae73",
        "userId": "a94c7e81-2c35-494c-be42-2d2c09ab6485",
        "action": "user_login",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[3cc942a6-6a33-406a-ac21-504df13474c6] POST 
/api/auth/login 200 - 517ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:12.111Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.601Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"4d95bf31-314a-405b-9caa-04c8cd2657ad",
        "userId": "e52cd301-a71b-457e-876a-40ea651bceb4",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[69247f91-7f7c-4a6c-b028-18373fade326] POST 
/api/auth/login 401 - 492ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.180Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.198Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"c76084c0-db94-4ed2-8889-2c53bcb54605",
        "userId": null,
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[0ac6d2f9-778a-49b3-94c5-696b9b602183] POST 
/api/auth/login 401 - 19ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:14.079Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:14] 
[c055863a-478c-423d-bc8d-07e91702d1d6] POST 
/api/auth/login 403 - 5ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:14.925Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:14] 
[0980f9e1-e99f-4540-b85d-385b601a40b5] POST 
/api/auth/login 403 - 6ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:15.735Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.095Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"23157f9a-0361-42ee-b4a9-8bfdd2108dbf",
        "userId": "de4585df-5d85-4efc-b096-5e9506c21db7",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[5b66dac2-6eb1-4976-a206-a2a29db23ef4] POST 
/api/auth/login 401 - 361ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.103Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.452Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"b9b28079-1061-4e88-bb6e-b2b94cf50210",
        "userId": "de4585df-5d85-4efc-b096-5e9506c21db7",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[3d5b38a6-9d61-4019-afee-bbfff42395b1] POST 
/api/auth/login 401 - 351ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.458Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.809Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"f120b932-fd3c-45df-91bd-846fad2b4b1b",
        "userId": "de4585df-5d85-4efc-b096-5e9506c21db7",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[bc41c5c7-a0d9-4e7e-bb93-345b6af46020] POST 
/api/auth/login 401 - 353ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:17.534Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.857Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"5f1d68b0-6388-49bd-add9-a8d76f6c056e",
        "userId": "59a0eae2-0ff3-4ee3-907b-bdb2766b40be",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:17] 
[fa5a1c51-f4e7-4b92-a125-564b2a172c24] POST 
/api/auth/login 401 - 324ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.863Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.176Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"0d610373-91b1-4625-b326-9a66c64080b6",
        "userId": "59a0eae2-0ff3-4ee3-907b-bdb2766b40be",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:18] 
[115bdd37-9ba5-49f4-99d1-527c97da053d] POST 
/api/auth/login 401 - 314ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.181Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.488Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"47b2eaec-c8c8-4401-98af-59e294fc6f97",
        "userId": "59a0eae2-0ff3-4ee3-907b-bdb2766b40be",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:18] 
[0e4feab0-2e44-40b8-b065-616e0affda46] POST 
/api/auth/login 401 - 308ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.494Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.804Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"ae0f2f9b-2dd2-4ff1-9427-72945ae9f07f",
        "userId": "59a0eae2-0ff3-4ee3-907b-bdb2766b40be",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:18] 
[a0539734-f82d-42b1-864e-29156bfb25fd] POST 
/api/auth/login 401 - 311ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.809Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.129Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"7364254a-421e-4cb2-9cae-e303da29e15a",
        "userId": "59a0eae2-0ff3-4ee3-907b-bdb2766b40be",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:19] 
[84c37968-ca29-46e5-b064-89a4cfaa2ded] POST 
/api/auth/login 401 - 321ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.138Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:19] 
[35ae6266-aa7d-4f92-a156-71d61b6bbfff] POST 
/api/auth/login 423 - 3ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:19.466Z [[32minfo[39m]: 
Authentication successful for user: logoutuser 
(95718f22-3c26-42df-8824-04f2e0e025eb)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.472Z [[31merror[39m]: Failed 
to remove session from Redis: Redis client not 
initialized. Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.removeSessionFromRedis (C:\\messenger\\backend\
\src\\controllers\\authController.js:1159:21)\n    at 
logout (C:\\messenger\\backend\\src\\controllers\\authContr
oller.js:429:30)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.472Z [[32minfo[39m]: User 
logged out: logoutuser
      {
        "userId": "95718f22-3c26-42df-8824-04f2e0e025eb"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.476Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"8f6bc6f6-0ecf-44d1-96b6-6c19702308d2",
        "userId": "95718f22-3c26-42df-8824-04f2e0e025eb",
        "action": "user_logout",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:19] 
[a07f6a02-c920-4bd5-a0b7-5bcad7be393f] POST 
/api/auth/logout 200 - 16ms - POST /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:19] 
[253db8fa-8c08-4880-814e-7948fb152763] POST 
/api/auth/logout 401 - 1ms - POST /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:19.808Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at 
refreshToken (C:\\messenger\\backend\\src\\controllers\\aut
hController.js:356:30)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.809Z [[32minfo[39m]: Token 
refreshed for user: refreshtest

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:19] 
[d5870038-0b16-46e7-bf2b-c123bdb686b4] POST 
/api/auth/refresh 200 - 8ms - POST /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:19] 
[88213137-67f5-4223-9b5f-7e1df6f97817] POST 
/api/auth/refresh 401 - 3ms - POST /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:20.142Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:20.151Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendPasswordReset (C:\\messenger\\backend\\src
\\services\\emailService.js:153:17)\n    at forgotPassword 
(C:\\messenger\\backend\\src\\controllers\\authController.j
s:651:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:20.152Z [[31merror[39m]: Failed 
to send password reset email: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendPasswordReset (C:\\messenger\\backend\\src
\\services\\emailService.js:153:17)\n    at forgotPassword 
(C:\\messenger\\backend\\src\\controllers\\authController.j
s:651:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:20] 
[07c94a29-207c-4d8e-b866-3bbba129b6be] POST 
/api/auth/forgot-password 200 - 11ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:20.168Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:20] 
[e486b068-6931-4c4a-91aa-29766871c7f1] POST 
/api/auth/forgot-password 200 - 5ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:20.186Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:20] 
[85eb37d0-6ccd-45d9-ad5a-92e961453116] POST 
/api/auth/forgot-password 400 - 1ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:20.563Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:20.898Z [[31merror[39m]: Failed 
to add password to history:

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:20] 
[8bfdfa3c-cf74-4b99-b9f0-c2198d9bd697] POST 
/api/auth/reset-password 200 - 365ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.250Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[5c34a8a0-6b4e-4c26-beca-bcfebef5eefc] POST 
/api/auth/reset-password 400 - 1ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.564Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[6521253a-ed77-495b-9521-9280d360430f] POST 
/api/auth/reset-password 400 - 1ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.884Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[3bc754e0-a52a-4c77-b47c-a1381e5b708e] POST 
/api/auth/reset-password 400 - 1ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:22.214Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.217Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.219Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.221Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.224Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.227Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.229Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.232Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.235Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:22.239Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.427Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"5e2aa896-b6e0-422c-8457-051e9cf4bd46",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[1628814b-c550-4f79-8f6d-730b238e14f6] POST 
/api/auth/login 401 - 3199ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.449Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"21a7d4ef-6e87-4cf1-8a9b-86c62dd5dc2d",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[fe6a73dd-5d70-4639-8d00-3a74d132f9df] POST 
/api/auth/login 401 - 3237ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.454Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"84fc7c5d-45e8-4306-a2c1-0795ac620a43",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[f6a8e4c0-7614-4976-8792-7849bae1d005] POST 
/api/auth/login 401 - 3216ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.456Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"51f87555-e496-4981-86c1-789b0744a5e0",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[ea53ab72-c113-414d-b642-7f57a2c99359] POST 
/api/auth/login 401 - 3241ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.458Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"6613641a-6aee-4f4d-83c7-a7526f94c764",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[860c7ad1-7614-4ea4-9501-3fb6d485f52f] POST 
/api/auth/login 401 - 3240ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.459Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"d0a9c68b-81fd-4bbd-80c7-a15ce64e3dba",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[5573e039-9b29-48f0-bcc9-0f43bbefd9ee] POST 
/api/auth/login 401 - 3233ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.461Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"8768ded6-bc6d-4cd0-814b-e477f8f0e4b9",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[06b5c262-9891-4495-9242-4a065596ae1e] POST 
/api/auth/login 401 - 3238ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.463Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"71601741-4419-4840-bd50-fa50ca8e7e60",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[7dbf8efb-a339-4f39-a63e-c0a8e191fadb] POST 
/api/auth/login 401 - 3242ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.465Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"2c598569-7264-414e-8f4d-e17e48c8706d",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[1acc2a89-5483-4973-bd81-6558e023e44f] POST 
/api/auth/login 401 - 3233ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.467Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"90320925-7bf3-4dbf-8d2b-8fde7ec26216",
        "userId": "e04f877b-14ea-4d44-91e3-7101f9252f87",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[fa1eb848-82ae-4b0e-beee-b70fd72967b9] POST 
/api/auth/login 401 - 3232ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/notifications HTTP/1.1" 201 489 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "PUT /api/admin/settings HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:25 +0000] "POST /api/notifications HTTP/1.1" 400 466 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:26 +0000] "PUT /api/admin/users/00000000-0000-0000-0000-000000000000/approve HTTP/1.1" 404 42 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:26 +0000] "POST /api/notifications HTTP/1.1" 400 204 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:26 +0000] "POST /api/notifications HTTP/1.1" 400 209 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:26 +0000] "PUT /api/admin/users/3448e751-61b4-4fa0-ac70-70780fedf7f1/approve HTTP/1.1" 400 57 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "POST /api/admin/announcements HTTP/1.1" 400 64 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "POST /api/notifications/cleanup HTTP/1.1" 200 89 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/users?limit=100 HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "POST /api/notifications/cleanup HTTP/1.1" 403 84 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:27 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
PASS tests/admin-api.test.js (27.374 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.072Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.146Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.163Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.164Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.189Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      [2025-12-22 14:20:07] 
[8a3f3534-2d33-4e13-81a0-0cdc3cfb149e] GET 
/api/admin/users 401 - 8ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.068Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409607522qzzwvg 
(be0a059e-a3da-4bb2-8275-7348fe371110)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[0ebe5e81-a68b-464a-8702-c92acafaad82] GET 
/api/admin/users 403 - 20ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:08.674Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409608132espy9g 
(17afb86e-0bd5-438d-9f89-74a0b05eeb85)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:08.708Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"ee1d633a-56df-45ce-b40b-4ac67790a8f9",
        "adminId": "17afb86e-0bd5-438d-9f89-74a0b05eeb85",
        "totalUsers": 282,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:08] 
[ee1d633a-56df-45ce-b40b-4ac67790a8f9] GET 
/api/admin/users 200 - 52ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.264Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409608745vl099h 
(e1e521c0-ee8a-4aef-9333-a8421e09a66e)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.282Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"c76455a6-0d3b-4c22-b4bc-17d8e130410f",
        "adminId": "e1e521c0-ee8a-4aef-9333-a8421e09a66e",
        "totalUsers": 281,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[c76455a6-0d3b-4c22-b4bc-17d8e130410f] GET 
/api/admin/users 200 - 24ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:09.832Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409609338dvba 
(ee95a7fb-d7e4-40db-9308-883a09a3a3d2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:09.843Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"921e9b73-9a4c-49f6-b1c4-f205889a1ec5",
        "adminId": "ee95a7fb-d7e4-40db-9308-883a09a3a3d2",
        "totalUsers": 282,
        "page": 1,
        "limit": 3,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:09] 
[921e9b73-9a4c-49f6-b1c4-f205889a1ec5] GET 
/api/admin/users?page=1&limit=3 200 - 18ms - GET 
/api/admin/users?page=1&limit=3

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:10.395Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409609865y5yfr 
(08ac04f5-21c1-4eb6-8488-0dead46327f1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:10.415Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"3c9f5181-38fe-4c9e-9dce-921cf9974e4a",
        "adminId": "08ac04f5-21c1-4eb6-8488-0dead46327f1",
        "totalUsers": 79,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:10] 
[3c9f5181-38fe-4c9e-9dce-921cf9974e4a] GET 
/api/admin/users?role=admin 200 - 31ms - GET 
/api/admin/users?role=admin

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.044Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409610447hh8j5 
(4e9befdb-b9a6-4a86-aa04-bbd0ddff3cd4)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.052Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"a0cf1c94-e217-47d1-b941-4d08b76f2689",
        "adminId": "4e9befdb-b9a6-4a86-aa04-bbd0ddff3cd4",
        "totalUsers": 0,
        "page": 1,
        "limit": 20,
        "status": "pending",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[a0cf1c94-e217-47d1-b941-4d08b76f2689] GET 
/api/admin/users?status=pending 200 - 15ms - GET 
/api/admin/users?status=pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:11.566Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409611069yrt53sj 
(ed043f1a-f21c-4c05-8562-8aed8cb085a6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:11.571Z [[32minfo[39m]: Pending 
users retrieved successfully
      {
        "requestId": 
"705653f0-fe74-42f8-85cb-928090ee1361",
        "adminId": "ed043f1a-f21c-4c05-8562-8aed8cb085a6",
        "totalUsers": 0,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:11] 
[705653f0-fe74-42f8-85cb-928090ee1361] GET 
/api/admin/users/pending 200 - 11ms - GET 
/api/admin/users/pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:12.571Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096115896fmtbn 
(13509372-3a9b-407d-b676-e32eb62d45c8)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.613Z [[32minfo[39m]: Audit 
service initialized successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.620Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"a35f2c15-2aec-4597-862d-33329ca89602",
        "adminId": "13509372-3a9b-407d-b676-e32eb62d45c8",
        "action": "user_approve",
        "resource": "user",
        "resourceId": 
"3347af7a-3048-48a7-995d-fc637e2084d5",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.626Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserApprovalEmail (C:\\messenger\\backend\
\src\\services\\emailService.js:201:17)\n    at 
AdminController.approveUser (C:\\messenger\\backend\\src\\c
ontrollers\\adminController.js:257:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:160:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.627Z [[31merror[39m]: Failed 
to send approval email
      {
        "requestId": 
"3d3beee2-48b9-4c4d-8a0d-cfb3d0731101",
        "userId": "3347af7a-3048-48a7-995d-fc637e2084d5",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:12.628Z [[32minfo[39m]: User 
approved successfully
      {
        "requestId": 
"3d3beee2-48b9-4c4d-8a0d-cfb3d0731101",
        "userId": "3347af7a-3048-48a7-995d-fc637e2084d5",
        "approvedBy": 
"13509372-3a9b-407d-b676-e32eb62d45c8",
        "adminNotes": "Approved after manual review",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:12] 
[3d3beee2-48b9-4c4d-8a0d-cfb3d0731101] PUT /api/admin/users
/3347af7a-3048-48a7-995d-fc637e2084d5/approve 200 - 63ms - 
PUT /api/admin/users/3347af7a-3048-48a7-995d-fc637e2084d5/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:13.914Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096130147gi7i 
(11d25414-fc3e-4115-9480-bfa5f926795b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.924Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"6f50707f-841d-4ff2-9ca7-ec5bc10e204b",
        "adminId": "11d25414-fc3e-4115-9480-bfa5f926795b",
        "action": "user_approve",
        "resource": "user",
        "resourceId": 
"036dbbfc-41eb-4c89-85af-ca1de476faed",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.927Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserApprovalEmail (C:\\messenger\\backend\
\src\\services\\emailService.js:201:17)\n    at 
AdminController.approveUser (C:\\messenger\\backend\\src\\c
ontrollers\\adminController.js:257:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:160:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.928Z [[31merror[39m]: Failed 
to send approval email
      {
        "requestId": 
"b211ed84-76bc-477f-8dc9-2f760f8dbb54",
        "userId": "036dbbfc-41eb-4c89-85af-ca1de476faed",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:13.929Z [[32minfo[39m]: User 
approved successfully
      {
        "requestId": 
"b211ed84-76bc-477f-8dc9-2f760f8dbb54",
        "userId": "036dbbfc-41eb-4c89-85af-ca1de476faed",
        "approvedBy": 
"11d25414-fc3e-4115-9480-bfa5f926795b",
        "adminNotes": "Test approval log",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:13] 
[b211ed84-76bc-477f-8dc9-2f760f8dbb54] PUT /api/admin/users
/036dbbfc-41eb-4c89-85af-ca1de476faed/approve 200 - 19ms - 
PUT /api/admin/users/036dbbfc-41eb-4c89-85af-ca1de476faed/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:15.063Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409614219xhm5m3 
(d736721e-6f2a-4769-a06a-c9b7ffed798c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.077Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"a71a4c5e-d1f3-411b-b3cc-74d64b69186a",
        "adminId": "d736721e-6f2a-4769-a06a-c9b7ffed798c",
        "action": "user_reject",
        "resource": "user",
        "resourceId": 
"c269ebb1-d070-4854-a786-6afbad79414c",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.082Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserRejectionEmail (C:\\messenger\\backend
\\src\\services\\emailService.js:222:17)\n    at 
AdminController.rejectUser (C:\\messenger\\backend\\src\\co
ntrollers\\adminController.js:527:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:215:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.083Z [[31merror[39m]: Failed 
to send rejection email
      {
        "requestId": 
"1cd7bf06-3135-4526-8d9b-0ca9652acebb",
        "userId": "c269ebb1-d070-4854-a786-6afbad79414c",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:15.083Z [[32minfo[39m]: User 
rejected successfully
      {
        "requestId": 
"1cd7bf06-3135-4526-8d9b-0ca9652acebb",
        "userId": "c269ebb1-d070-4854-a786-6afbad79414c",
        "rejectedBy": 
"d736721e-6f2a-4769-a06a-c9b7ffed798c",
        "reason": "Incomplete profile information",
        "adminNotes": "User did not provide required 
information",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:15] 
[1cd7bf06-3135-4526-8d9b-0ca9652acebb] PUT /api/admin/users
/c269ebb1-d070-4854-a786-6afbad79414c/reject 200 - 25ms - 
PUT /api/admin/users/c269ebb1-d070-4854-a786-6afbad79414c/r
eject

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:16.157Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409615367vfjtnp 
(572086a6-53b8-496e-86db-0cb63f221e24)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.170Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"81d8a3fb-c124-42e3-b75a-e5c3642583de",
        "adminId": "572086a6-53b8-496e-86db-0cb63f221e24",
        "action": "user_deactivate",
        "resource": "user",
        "resourceId": 
"b59006ef-1f45-4e44-a458-95427001e0ca",
        "severity": "high",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.174Z [[31merror[39m]: Failed 
to send deactivation email
      {
        "requestId": 
"f70a4fd6-399c-4b4d-a6f3-9c4fa671681a",
        "userId": "b59006ef-1f45-4e44-a458-95427001e0ca",
        "error": "emailService.sendUserDeactivationEmail 
is not a function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.175Z [[32minfo[39m]: User 
deactivated successfully
      {
        "requestId": 
"f70a4fd6-399c-4b4d-a6f3-9c4fa671681a",
        "userId": "b59006ef-1f45-4e44-a458-95427001e0ca",
        "deactivatedBy": 
"572086a6-53b8-496e-86db-0cb63f221e24",
        "reason": "Policy violation",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[f70a4fd6-399c-4b4d-a6f3-9c4fa671681a] PUT /api/admin/users
/b59006ef-1f45-4e44-a458-95427001e0ca/deactivate 200 - 
23ms - PUT /api/admin/users/b59006ef-1f45-4e44-a458-9542700
1e0ca/deactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:16.919Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640961619786wv5f 
(dd72464e-e20b-40ba-8992-549be66fc182)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:16.926Z [[33mwarn[39m]: Attempt 
to deactivate last admin
      {
        "requestId": 
"f756bbae-47fb-4119-8b58-8ed3b7be70bf",
        "adminId": "dd72464e-e20b-40ba-8992-549be66fc182",
        "targetUserId": 
"1025eaa1-af07-4f88-8d40-a69ada3f57ac"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:16] 
[f756bbae-47fb-4119-8b58-8ed3b7be70bf] PUT /api/admin/users
/1025eaa1-af07-4f88-8d40-a69ada3f57ac/deactivate 403 - 
11ms - PUT /api/admin/users/1025eaa1-af07-4f88-8d40-a69ada3
f57ac/deactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:17.624Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409616940fefvy18 
(a2f79dac-b607-4234-9339-5b37d07a6a0d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.636Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"9b7c50ba-6848-40d5-bfd1-efb1d43e65cb",
        "adminId": "a2f79dac-b607-4234-9339-5b37d07a6a0d",
        "action": "user_reactivate",
        "resource": "user",
        "resourceId": 
"f13eb94b-f119-42c6-bd88-ddeec2d8cff8",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.638Z [[31merror[39m]: Failed 
to send reactivation email
      {
        "requestId": 
"63e89566-342d-4ff3-b7f8-e00750c3144c",
        "userId": "f13eb94b-f119-42c6-bd88-ddeec2d8cff8",
        "error": "emailService.sendUserReactivationEmail 
is not a function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:17.639Z [[32minfo[39m]: User 
reactivated successfully
      {
        "requestId": 
"63e89566-342d-4ff3-b7f8-e00750c3144c",
        "userId": "f13eb94b-f119-42c6-bd88-ddeec2d8cff8",
        "reactivatedBy": 
"a2f79dac-b607-4234-9339-5b37d07a6a0d",
        "adminNotes": "User has been reviewed and 
reactivated",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:17] 
[63e89566-342d-4ff3-b7f8-e00750c3144c] PUT /api/admin/users
/f13eb94b-f119-42c6-bd88-ddeec2d8cff8/reactivate 200 - 
18ms - PUT /api/admin/users/f13eb94b-f119-42c6-bd88-ddeec2d
8cff8/reactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:17.983Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409617654egf3f 
(1ed1004b-2888-4f50-a34c-01c5398d1269)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.019Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"37d83db9-8cd3-41fb-a141-0ee01840b8c6",
        "adminId": "1ed1004b-2888-4f50-a34c-01c5398d1269",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:18] 
[37d83db9-8cd3-41fb-a141-0ee01840b8c6] GET 
/api/admin/stats 200 - 40ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:18.338Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640961802979gyq 
(6f51ca2f-c939-4414-97c4-ad911d0f6d84)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.359Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"956af212-1557-41b2-b6f7-2402a628c687",
        "adminId": "6f51ca2f-c939-4414-97c4-ad911d0f6d84",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:18] 
[956af212-1557-41b2-b6f7-2402a628c687] GET 
/api/admin/stats 200 - 25ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:18.682Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096183715rzk4 
(ef76cb54-db0a-4ed4-9e18-9947e025d97c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:18.695Z [[32minfo[39m]: Audit 
logs retrieved successfully
      {
        "requestId": 
"ad7978d8-0c43-4293-b7a4-41c91306038d",
        "adminId": "ef76cb54-db0a-4ed4-9e18-9947e025d97c",
        "totalLogs": 634,
        "filters": {},
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:18] 
[ad7978d8-0c43-4293-b7a4-41c91306038d] GET 
/api/admin/audit-logs 200 - 17ms - GET 
/api/admin/audit-logs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:19.031Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409618710gy6ry 
(f9f92ae2-9482-43f9-a47a-eecee7258c33)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.039Z [[32minfo[39m]: Audit 
logs retrieved successfully
      {
        "requestId": 
"0f0a47f8-551e-4a00-bacc-3f6ca17dd19c",
        "adminId": "f9f92ae2-9482-43f9-a47a-eecee7258c33",
        "totalLogs": 49,
        "filters": {
          "action": "user_approve"
        },
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:19] 
[0f0a47f8-551e-4a00-bacc-3f6ca17dd19c] GET 
/api/admin/audit-logs?action=user_approve 200 - 14ms - GET 
/api/admin/audit-logs?action=user_approve

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:19.375Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409619054vd39 
(a51de68d-298f-4427-8432-0b75c529af64)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:19] 
[3e9b3751-64bb-4dad-919b-5e61679906c0] GET /api/admin/audit
-logs?startDate=2025-12-22T13:20:19.371Z&endDate=2025-12-22
T13:20:19.371Z 400 - 5ms - GET /api/admin/audit-logs?startD
ate=2025-12-22T13:20:19.371Z&endDate=2025-12-22T13:20:19.37
1Z

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:19.697Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409619387eu9f8 
(a5962975-ae1c-4f60-b9a7-cef7c44ea97b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.705Z [[32minfo[39m]: Reports 
retrieved successfully
      {
        "requestId": 
"a5c349a0-b725-4613-8d0e-1fe9d9d4543a",
        "adminId": "a5962975-ae1c-4f60-b9a7-cef7c44ea97b",
        "totalReports": 0,
        "filters": {},
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:19] 
[a5c349a0-b725-4613-8d0e-1fe9d9d4543a] GET 
/api/admin/reports 200 - 11ms - GET /api/admin/reports

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:20.038Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409619716hifm0o 
(743773a5-a98c-48c9-bdea-b34d3afe32f3)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:20.044Z [[32minfo[39m]: Reports 
retrieved successfully
      {
        "requestId": 
"82ef04fa-c1d0-4108-8ddb-7416d778f20c",
        "adminId": "743773a5-a98c-48c9-bdea-b34d3afe32f3",
        "totalReports": 0,
        "filters": {
          "status": "pending"
        },
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:20] 
[82ef04fa-c1d0-4108-8ddb-7416d778f20c] GET 
/api/admin/reports?status=pending 200 - 10ms - GET 
/api/admin/reports?status=pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.080Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409620053qxjt5k 
(cf5276a3-7f28-42ad-b984-0634ceafb189)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[eaca451e-67e0-43ab-8e5c-d6bf5fde9c7a] PUT /api/admin/repor
ts/c5b23e29-5fc4-4472-93cf-bc83d9984582/resolve 400 - 8ms 
- PUT /api/admin/reports/c5b23e29-5fc4-4472-93cf-bc83d99845
82/resolve

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.407Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409621102mderf 
(8e59e821-138c-44b0-86ff-ad139003b16c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[a96b54ea-a6d0-4eac-ab49-4b4623d7d253] GET 
/api/admin/announcements 200 - 4ms - GET 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.741Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096214177znk 
(27ab54bf-a12a-4ef5-9931-44a6b3c51965)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[189c1ede-e0af-40c3-b4c4-1b2f733bf864] POST 
/api/admin/announcements 400 - 6ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:22.065Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409621752wnpqm 
(5da01ee4-c435-481e-91b8-5c046bfa14ec)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:22] 
[8fe192c5-1c59-4d12-b4a1-4052b6549001] POST 
/api/admin/announcements 400 - 6ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:22.776Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640962207692upt 
(e1f4e7e4-a8f0-4372-b0f3-289926ecc6ea)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:22] 
[973f78bd-30ce-46a8-a0a6-6be55a92d7c8] PUT /api/admin/annou
ncements/00d3fd27-59ba-4748-9f47-6b81b88cd406 400 - 6ms - 
PUT /api/admin/announcements/00d3fd27-59ba-4748-9f47-6b81b8
8cd406

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:23.441Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409622790uvqa6o 
(2fb921e7-4c51-474c-a4dd-a5a610690dfc)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:23.448Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"6ae402b4-9c4b-4250-bf2c-6a6aeef1e97a",
        "adminId": "2fb921e7-4c51-474c-a4dd-a5a610690dfc",
        "action": "announcement_delete",
        "resource": "announcement",
        "resourceId": 
"84a4afbf-45c5-43f8-933a-91a5a916c2d4",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:23.451Z [[32minfo[39m]: 
Announcement deleted successfully
      {
        "requestId": 
"5414b734-f09c-4eca-9cd0-847da3e6eaa5",
        "adminId": "2fb921e7-4c51-474c-a4dd-a5a610690dfc",
        "announcementId": 
"84a4afbf-45c5-43f8-933a-91a5a916c2d4",
        "title": "Test Announcement to Delete",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:23] 
[5414b734-f09c-4eca-9cd0-847da3e6eaa5] DELETE /api/admin/an
nouncements/84a4afbf-45c5-43f8-933a-91a5a916c2d4 200 - 
14ms - DELETE /api/admin/announcements/84a4afbf-45c5-43f8-9
33a-91a5a916c2d4

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:23.833Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096234669a3epj 
(fd400fa0-4172-4b64-ae29-20cf71d844da)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:23.835Z [[31merror[39m]: Failed 
to load export service
      {
        "requestId": 
"210a1304-5cb5-4363-ab79-1c1c56e52611",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:23] 
[210a1304-5cb5-4363-ab79-1c1c56e52611] GET 
/api/admin/export/audit-logs/csv 500 - 8ms - GET 
/api/admin/export/audit-logs/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:24.185Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409623846uitsv7 
(fb60731c-5bc7-4de1-b469-6ad35daf12c6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:24.188Z [[31merror[39m]: Error 
exporting reports to CSV
      {
        "requestId": 
"23e79157-c36c-4fa1-acf3-c0919c2d2244",
        "adminId": "fb60731c-5bc7-4de1-b469-6ad35daf12c6",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'",
        "stack": "Error: Cannot find module 
'./exportService.js' from 
'src/controllers/adminController.js'\n    at 
Resolver._throwModNotFoundError (C:\\messenger\\backend\\no
de_modules\\jest-resolve\\build\\resolver.js:427:11)\n    
at Resolver.resolveModuleAsync (C:\\messenger\\backend\\nod
e_modules\\jest-resolve\\build\\resolver.js:374:10)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
Resolver.getModuleIDAsync (C:\\messenger\\backend\\node_mod
ules\\jest-resolve\\build\\resolver.js:558:26)\n    at 
Runtime._shouldMockModule (C:\\messenger\\backend\\node_mod
ules\\jest-runtime\\build\\index.js:1776:22)\n    at 
Runtime.resolveModule (C:\\messenger\\backend\\node_modules
\\jest-runtime\\build\\index.js:667:7)\n    at 
importModuleDynamically (C:\\messenger\\backend\\node_modul
es\\jest-runtime\\build\\index.js:524:30)\n    at 
importModuleDynamicallyWrapper 
(node:internal/vm/module:443:15)\n    at 
AdminController.exportReportsCSV (C:\\messenger\\backend\\s
rc\\controllers\\adminController.js:1997:29)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:860:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:24] 
[23e79157-c36c-4fa1-acf3-c0919c2d2244] GET 
/api/admin/export/reports/csv 500 - 22ms - GET 
/api/admin/export/reports/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:24.562Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409624223aeuqq 
(75a27203-e6da-48d7-b9f7-f425bfc52a82)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:24.563Z [[31merror[39m]: Error 
exporting statistics to CSV
      {
        "requestId": 
"9a95c66a-0000-4839-8fab-ba4bb876d8d1",
        "adminId": "75a27203-e6da-48d7-b9f7-f425bfc52a82",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'",
        "stack": "Error: Cannot find module 
'./exportService.js' from 
'src/controllers/adminController.js'\n    at 
Resolver._throwModNotFoundError (C:\\messenger\\backend\\no
de_modules\\jest-resolve\\build\\resolver.js:427:11)\n    
at Resolver.resolveModuleAsync (C:\\messenger\\backend\\nod
e_modules\\jest-resolve\\build\\resolver.js:374:10)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
Resolver.getModuleIDAsync (C:\\messenger\\backend\\node_mod
ules\\jest-resolve\\build\\resolver.js:558:26)\n    at 
Runtime._shouldMockModule (C:\\messenger\\backend\\node_mod
ules\\jest-runtime\\build\\index.js:1776:22)\n    at 
Runtime.resolveModule (C:\\messenger\\backend\\node_modules
\\jest-runtime\\build\\index.js:667:7)\n    at 
importModuleDynamically (C:\\messenger\\backend\\node_modul
es\\jest-runtime\\build\\index.js:524:30)\n    at 
importModuleDynamicallyWrapper 
(node:internal/vm/module:443:15)\n    at 
AdminController.exportStatisticsCSV (C:\\messenger\\backend
\\src\\controllers\\adminController.js:2084:29)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:936:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:24] 
[9a95c66a-0000-4839-8fab-ba4bb876d8d1] GET 
/api/admin/export/statistics/csv 500 - 5ms - GET 
/api/admin/export/statistics/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:24.892Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096245731d2ku 
(e1e9c125-d5bd-42f6-9127-c3e8c26dc6f7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.178Z [[31merror[39m]: Error 
retrieving system settings
      {
        "requestId": 
"2e605ef5-4af1-4c69-8340-6487eabef573",
        "adminId": "e1e9c125-d5bd-42f6-9127-c3e8c26dc6f7",
        "error": "column \"key\" does not exist",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.select (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:1001:12)\n    at Function.findAll (C:\\messenger\\bac
kend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    
at AdminController.getSystemSettings (C:\\messenger\\backen
d\\src\\controllers\\adminController.js:2243:26)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:1055:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[2e605ef5-4af1-4c69-8340-6487eabef573] GET 
/api/admin/settings 500 - 289ms - GET /api/admin/settings

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:25.500Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409625188yln741p 
(bea3a3ec-dea2-4d99-b618-0ca5d77bb8cd)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.781Z [[31merror[39m]: Error 
updating system settings
      {
        "requestId": 
"05078bdd-8e62-4a99-9c0b-252d0f0e50a5",
        "adminId": "bea3a3ec-dea2-4d99-b618-0ca5d77bb8cd",
        "error": "current transaction is aborted, commands 
ignored until end of transaction block",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at processTimers (node:internal/timers:520:9)\n    at 
PostgresQueryInterface.bulkInsert (C:\\messenger\\backend\\
node_modules\\sequelize\\src\\dialects\\abstract\\query-int
erface.js:881:21)\n    at recursiveBulkCreate (C:\\messenge
r\\backend\\node_modules\\sequelize\\src\\model.js:2851:25)
\n    at Function.bulkCreate (C:\\messenger\\backend\\node_
modules\\sequelize\\src\\model.js:2977:12)\n    at 
AdminController.updateSystemSettings (C:\\messenger\\backen
d\\src\\controllers\\adminController.js:2378:7)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:1149:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[05078bdd-8e62-4a99-9c0b-252d0f0e50a5] PUT 
/api/admin/settings 500 - 285ms - PUT /api/admin/settings

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:26.094Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640962579030q48v 
(1891cc8a-f5f9-4068-8955-1d046eb8205b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:26.098Z [[33mwarn[39m]: User not 
found for approval
      {
        "requestId": 
"53ef9ba3-c968-4f28-8cbc-570134543f6a",
        "userId": "00000000-0000-0000-0000-000000000000",
        "adminId": "1891cc8a-f5f9-4068-8955-1d046eb8205b",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:26] 
[53ef9ba3-c968-4f28-8cbc-570134543f6a] PUT /api/admin/users
/00000000-0000-0000-0000-000000000000/approve 404 - 8ms - 
PUT /api/admin/users/00000000-0000-0000-0000-000000000000/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:26.715Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096261086z33wz 
(3690eccc-4fd5-4602-be45-5474c8894528)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:26.719Z [[33mwarn[39m]: User 
approval attempted on non-pending user
      {
        "requestId": 
"9491c598-6a6c-43d4-b226-8b26a9713f64",
        "userId": "3448e751-61b4-4fa0-ac70-70780fedf7f1",
        "currentStatus": "approved",
        "adminId": "3690eccc-4fd5-4602-be45-5474c8894528",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:26] 
[9491c598-6a6c-43d4-b226-8b26a9713f64] PUT /api/admin/users
/3448e751-61b4-4fa0-ac70-70780fedf7f1/approve 400 - 8ms - 
PUT /api/admin/users/3448e751-61b4-4fa0-ac70-70780fedf7f1/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:27.051Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096267312aek5e 
(de01148f-a2ac-4d86-8d18-ebfd7c5ef8fc)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[b8853647-ca96-4522-bf86-44c4a980e9b8] POST 
/api/admin/announcements 400 - 7ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:27.373Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627062hkx1n 
(cbc37878-df1e-4171-ac86-ee0f76cdcd2e)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.386Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"1463d552-7931-4ce7-a02d-4740b00fa007",
        "adminId": "cbc37878-df1e-4171-ac86-ee0f76cdcd2e",
        "totalUsers": 300,
        "page": 1,
        "limit": 100,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[1463d552-7931-4ce7-a02d-4740b00fa007] GET 
/api/admin/users?limit=100 200 - 19ms - GET 
/api/admin/users?limit=100

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:27.746Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.748Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.751Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.752Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.755Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.757Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.761Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.762Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.766Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.767Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096274010md45p 
(4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.855Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"963c2bbe-41ae-4e3d-81be-c2ad6b1a70e6",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[963c2bbe-41ae-4e3d-81be-c2ad6b1a70e6] GET 
/api/admin/stats 200 - 122ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.861Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"a2d84287-36df-4535-bffa-332c7091a769",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[a2d84287-36df-4535-bffa-332c7091a769] GET 
/api/admin/stats 200 - 119ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.886Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"6e14c750-9ac4-4858-9642-69d8b04cf17a",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[6e14c750-9ac4-4858-9642-69d8b04cf17a] GET 
/api/admin/stats 200 - 160ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.891Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"c8fd596a-e6e7-45c4-8535-b1b0645b26fd",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[c8fd596a-e6e7-45c4-8535-b1b0645b26fd] GET 
/api/admin/stats 200 - 165ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.896Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"7ca1fefe-74d2-49b9-9ce0-eec064f1c410",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[7ca1fefe-74d2-49b9-9ce0-eec064f1c410] GET 
/api/admin/stats 200 - 166ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.901Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"2a6e069b-0690-41ec-ba43-4608ae573cca",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[2a6e069b-0690-41ec-ba43-4608ae573cca] GET 
/api/admin/stats 200 - 168ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.905Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"0e4405b9-4211-42b2-8893-4a8593419194",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[0e4405b9-4211-42b2-8893-4a8593419194] GET 
/api/admin/stats 200 - 177ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.909Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"5d0714ac-8857-40bb-9da1-57e3e316f9f8",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[5d0714ac-8857-40bb-9da1-57e3e316f9f8] GET 
/api/admin/stats 200 - 174ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.914Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"2255100c-d873-4abc-bece-4e8bcd344a67",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[2255100c-d873-4abc-bece-4e8bcd344a67] GET 
/api/admin/stats 200 - 176ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.918Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"20e77b19-0380-45a2-9e3f-d559a00db19b",
        "adminId": "4dc0ba50-96e6-481a-86bb-fcd6e2d5b3e1",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[20e77b19-0380-45a2-9e3f-d559a00db19b] GET 
/api/admin/stats 200 - 178ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

::ffff:127.0.0.1 - - [22/Dec/2025:13:20:28 +0000] "POST /api/notifications HTTP/1.1" 201 460 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:28 +0000] "GET /api/notifications HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:28 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:28 +0000] "PUT /api/notifications/c3150f22-df8e-49b3-a94c-9118467fcd5b/read HTTP/1.1" 200 454 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:28 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:28 +0000] "DELETE /api/notifications/c3150f22-df8e-49b3-a94c-9118467fcd5b HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:28 +0000] "GET /api/notifications HTTP/1.1" 200 908 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:28 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:13:20:29 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
PASS tests/notification.test.js (28.925 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T13:20:04.050Z [[33mwarn[39m]: Firebase 
Admin SDK not initialized. Push notifications will not 
work. Please configure Firebase credentials in environment 
variables or service account file.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:06.439Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:06.441Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.154Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:07.190Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:17.158Z [[32minfo[39m]: 
Notification created: 96768efd-4baf-4f85-9ba3-52c17d3f35f4 
for user 815c69a4-1805-4165-989b-74e027b16efc

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:17.843Z [[32minfo[39m]: 
Notification d1e6c0a5-7a24-43a3-8d08-5dd46877407e marked 
as read by user f0944ab4-8000-4d2e-bf43-e06e74dbacb7

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:18.174Z [[32minfo[39m]: 
Notification created: c95a069c-a470-464a-874e-6a3a8f3f3c4f 
for user 419d7057-1715-499f-b405-24f6349ded83

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:18.492Z [[32minfo[39m]: 
Notification 972e82a1-a538-4907-8f41-7caf13ee40fd marked 
as read by user cef78139-c3fe-4fdf-b07c-1016653fcff6

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:18.817Z [[32minfo[39m]: All 
notifications marked as read for user 
add1ed95-d65d-4a49-b274-2df16ce38f42. Affected: 2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:19.152Z [[32minfo[39m]: 
Notification ac5f55ba-2ee8-4699-a78c-79485f37f57e deleted 
by user 85d7723b-e5c9-4ce4-a952-840c2c6e12d0

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:19.808Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409619473u2ic68 
(49c395e4-e947-4b63-ae03-645823bfdafb)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:19.816Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766409619473u2ic68: 2 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:19] 
[b7f4154d-68ba-4dd2-bc61-c5d7e6aff58c] GET 
/api/notifications 200 - 18ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:20.167Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640961983648zt1l 
(64dd9aad-c241-4cc4-ae6e-a34b87d56b4b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:20.175Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser176640961983648zt1l: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:20] 
[325cd1b9-d5cc-45db-8250-ecc04c99b6b9] GET 
/api/notifications?read=false 200 - 12ms - GET 
/api/notifications?read=false

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:20.587Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409620187hbqgnb 
(6bd7b643-3bd7-4247-88c6-2ee1cb558918)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:20.591Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766409620187hbqgnb: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:20] 
[c2c91a61-6c7e-48fa-ab0b-17b6d4d98765] GET 
/api/notifications?type=message 200 - 8ms - GET 
/api/notifications?type=message

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:20.928Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409620601f723yp 
(a63bc4f9-f85b-4137-a847-55c33d11706f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:20.933Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766409620601f723yp: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:20] 
[e07ab2a8-8f27-49f3-80c2-3b7176f2f1d8] GET 
/api/notifications?page=1&limit=1 200 - 8ms - GET 
/api/notifications?page=1&limit=1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:20] 
[68e6aba9-6b93-4461-aa57-b86e4aa2677c] GET 
/api/notifications 401 - 1ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.273Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409620950j786b8 
(9eea6832-36af-43a6-a465-00ff758cfbc9)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[ae779345-926b-49d9-9f82-46e454a9836c] GET 
/api/notifications?limit=150 400 - 4ms - GET 
/api/notifications?limit=150

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.599Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409621283ptahzr 
(06896392-702f-49d1-bfce-cb0ddf3d6a2b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:21.602Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766409621283ptahzr: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[5c383ca3-acd1-41f1-8c95-c6a4a1b2b3ac] GET 
/api/notifications/unread-count 200 - 6ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      [2025-12-22 14:20:21] 
[f3d2fc56-0c3a-408c-bf5b-5a23b5dd147b] GET 
/api/notifications/unread-count 401 - 0ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:21.943Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640962161677mtaq 
(fa8f23c1-6760-437b-847d-8cc33f5456ba)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:21.967Z [[32minfo[39m]: 
Notification d84716d1-3a11-4535-999f-099c9ca4cecc marked 
as read by user fa8f23c1-6760-437b-847d-8cc33f5456ba

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:161:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:166:7)

    console.log
      2025-12-22T13:20:21.972Z [[32minfo[39m]: 
Notification d84716d1-3a11-4535-999f-099c9ca4cecc marked 
as read by user testuser176640962161677mtaq

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:21] 
[7e9b9ecc-b547-400d-a0bf-2700ffa4cefd] PUT /api/notificatio
ns/d84716d1-3a11-4535-999f-099c9ca4cecc/read 200 - 32ms - 
PUT /api/notifications/d84716d1-3a11-4535-999f-099c9ca4cecc
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:22.320Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409621984nkqyqh 
(0ab4ed38-623b-4fa2-ad36-f558bbe8e81c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:22] 
[13a3b915-9c47-41b3-b595-584ec4e4e737] PUT /api/notificatio
ns/cd37c3e3-12ba-45c4-b74c-2d45b31bbef2/read 200 - 12ms - 
PUT /api/notifications/cd37c3e3-12ba-45c4-b74c-2d45b31bbef2
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:22.711Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409622377kpyox 
(0b747e1e-3c24-47b0-b97e-7c3d99de5dc7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:22] 
[52cdda26-f729-466d-bf5b-48eb9c5b9d7a] PUT /api/notificatio
ns/550e8400-e29b-41d4-a716-446655440000/read 404 - 8ms - 
PUT /api/notifications/550e8400-e29b-41d4-a716-446655440000
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:23.056Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409622724gkhyfg 
(3ee12c54-6488-4403-a261-05bfffefcc1f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:23] 
[08396391-a217-406f-9c2e-58e7a65bd63d] PUT 
/api/notifications/invalid-id/read 400 - 4ms - PUT 
/api/notifications/invalid-id/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:23.391Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096230674o48ql 
(eacea915-4389-4d7c-8e76-c0f086e37ac9)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:23.396Z [[32minfo[39m]: All 
notifications marked as read for user 
eacea915-4389-4d7c-8e76-c0f086e37ac9. Affected: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAllAsRead 
(src/controllers/notificationController.js:225:7)

    console.log
      2025-12-22T13:20:23.399Z [[32minfo[39m]: All 
notifications marked as read for user 
testuser17664096230674o48ql. Affected rows: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:23] 
[c5a6bad3-0097-4591-bd4f-3ece6f6d4699] PUT 
/api/notifications/mark-all-read 200 - 11ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:23.786Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096234091e4p8 
(f61aa979-8241-41a4-bc6b-314f41269b97)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:23.793Z [[32minfo[39m]: All 
notifications marked as read for user 
f61aa979-8241-41a4-bc6b-314f41269b97. Affected: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAllAsRead 
(src/controllers/notificationController.js:225:7)

    console.log
      2025-12-22T13:20:23.798Z [[32minfo[39m]: All 
notifications marked as read for user 
testuser17664096234091e4p8. Affected rows: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:23] 
[76c2ac4e-db20-440e-9cbb-f82e35489bdc] PUT 
/api/notifications/mark-all-read 200 - 16ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:24.129Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409623807zqksu 
(5921ba5f-6107-4dca-836f-2bbe1c0d8120)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:24] 
[b3758516-cad4-4134-86d9-5a5b5edf113f] PUT 
/api/notifications/mark-all-read 400 - 3ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:24.510Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176640962414085ech 
(440e3909-eb1c-4427-b909-a0d6703b0a05)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:24.520Z [[32minfo[39m]: 
Notification 0051580d-9fc0-402a-8916-38797dc82ea1 deleted 
by user 440e3909-eb1c-4427-b909-a0d6703b0a05

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:302:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:309:9)

    console.log
      2025-12-22T13:20:24.524Z [[32minfo[39m]: 
Notification 0051580d-9fc0-402a-8916-38797dc82ea1 deleted 
by user testuser176640962414085ech

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:24] 
[10633f7d-8929-4dff-bee8-303e7de301c1] DELETE 
/api/notifications/0051580d-9fc0-402a-8916-38797dc82ea1 
200 - 18ms - DELETE 
/api/notifications/0051580d-9fc0-402a-8916-38797dc82ea1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:24.861Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409624536cw8pn 
(a9379978-5365-4351-b363-7299f00901b7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:24] 
[3877b2ac-c242-49bd-ac33-e5c1114f5e56] DELETE 
/api/notifications/550e8400-e29b-41d4-a716-446655440000 
404 - 7ms - DELETE 
/api/notifications/550e8400-e29b-41d4-a716-446655440000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:25.180Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409624874rvn8ym 
(76eef10f-ced2-49bf-bf63-43b0de80a46d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[efd63b81-c0bc-4fd7-a37f-9f704b7ac940] DELETE 
/api/notifications/invalid-id 400 - 4ms - DELETE 
/api/notifications/invalid-id

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:25.498Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409625189ct6m7q 
(3509485d-e306-4703-b5a3-f60a4dfca928)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:25.507Z [[32minfo[39m]: 
Notification created: cd253ecc-dff7-4183-a9b3-a2c5ddf982ce 
for user 3509485d-e306-4703-b5a3-f60a4dfca928

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:25.510Z [[32minfo[39m]: 
Notification created: cd253ecc-dff7-4183-a9b3-a2c5ddf982ce 
for user 3509485d-e306-4703-b5a3-f60a4dfca928

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[1365d7e4-ef26-44ef-8555-62520b4e4b34] POST 
/api/notifications 201 - 14ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:25.835Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409625519avqf9 
(7959a316-2d49-4537-80ae-0a3800a5de43)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:25] 
[ca07f965-4087-4c39-a672-e74bf2b03cb9] POST 
/api/notifications 400 - 3ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:26.142Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409625845wch4x 
(9b0b869f-32d5-4415-8ebb-bf0449c458ae)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:26] 
[734a9dd7-e364-4cd9-add6-18543c036083] POST 
/api/notifications 400 - 3ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:26.442Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409626151j6pflo 
(247bf7d8-01e3-4b9b-b524-f5bf167f2e91)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:26] 
[a2e3fe0f-feef-4b37-a829-20b91d260c0a] POST 
/api/notifications 400 - 4ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:27.374Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627060kt5ns 
(56300e46-2f43-42d8-80db-b6bfc3367a41)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:27.378Z [[32minfo[39m]: Expired 
notifications cleaned up: 1 deleted

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[5f371f76-b846-4f3c-9228-c0b3850526eb] POST 
/api/notifications/cleanup 200 - 8ms - POST 
/api/notifications/cleanup

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:27.718Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17664096273973jhed5 
(eb28654f-7e77-45c6-b438-71305069c26f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:27] 
[c59e2358-6589-46ca-89c3-574b3899832d] POST 
/api/notifications/cleanup 403 - 4ms - POST 
/api/notifications/cleanup

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:28.091Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627729ymbwxc 
(4fba1847-8eff-4853-bcd2-192c45b65214)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.100Z [[32minfo[39m]: 
Notification created: c3150f22-df8e-49b3-a94c-9118467fcd5b 
for user 4fba1847-8eff-4853-bcd2-192c45b65214

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:28.103Z [[32minfo[39m]: 
Notification created: c3150f22-df8e-49b3-a94c-9118467fcd5b 
for user 4fba1847-8eff-4853-bcd2-192c45b65214

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:28] 
[93391ef6-5afb-4f42-a5f5-528ed25e86fb] POST 
/api/notifications 201 - 15ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.111Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627729ymbwxc 
(4fba1847-8eff-4853-bcd2-192c45b65214)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.116Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766409627729ymbwxc: 3 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:28] 
[97bca3ca-72d2-40ed-b9be-3d252b7ef12e] GET 
/api/notifications 200 - 10ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.128Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627729ymbwxc 
(4fba1847-8eff-4853-bcd2-192c45b65214)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.130Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766409627729ymbwxc: 2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:28] 
[7ddbeafd-3494-4392-9b70-2ca8a2f8c20e] GET 
/api/notifications/unread-count 200 - 6ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.138Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627729ymbwxc 
(4fba1847-8eff-4853-bcd2-192c45b65214)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.146Z [[32minfo[39m]: 
Notification c3150f22-df8e-49b3-a94c-9118467fcd5b marked 
as read by user 4fba1847-8eff-4853-bcd2-192c45b65214

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:161:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:166:7)

    console.log
      2025-12-22T13:20:28.149Z [[32minfo[39m]: 
Notification c3150f22-df8e-49b3-a94c-9118467fcd5b marked 
as read by user testuser1766409627729ymbwxc

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:28] 
[62409ebd-eecb-4074-b30a-0203b1d854e4] PUT /api/notificatio
ns/c3150f22-df8e-49b3-a94c-9118467fcd5b/read 200 - 15ms - 
PUT /api/notifications/c3150f22-df8e-49b3-a94c-9118467fcd5b
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.157Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627729ymbwxc 
(4fba1847-8eff-4853-bcd2-192c45b65214)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.160Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766409627729ymbwxc: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:28] 
[0a0e12ef-7da6-4077-b0e2-0987f3016a1e] GET 
/api/notifications/unread-count 200 - 7ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.168Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627729ymbwxc 
(4fba1847-8eff-4853-bcd2-192c45b65214)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.178Z [[32minfo[39m]: 
Notification c3150f22-df8e-49b3-a94c-9118467fcd5b deleted 
by user 4fba1847-8eff-4853-bcd2-192c45b65214

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:302:7)

    console.log
      2025-12-22T13:20:28.180Z [[32minfo[39m]: 
Notification c3150f22-df8e-49b3-a94c-9118467fcd5b deleted 
by user testuser1766409627729ymbwxc

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:28] 
[f626948b-230c-4f7b-956d-6f44400ea01b] DELETE 
/api/notifications/c3150f22-df8e-49b3-a94c-9118467fcd5b 
200 - 16ms - DELETE 
/api/notifications/c3150f22-df8e-49b3-a94c-9118467fcd5b

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.188Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409627729ymbwxc 
(4fba1847-8eff-4853-bcd2-192c45b65214)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.193Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766409627729ymbwxc: 2 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:28] 
[de043a20-97a3-4583-9fc5-97008d4299c3] GET 
/api/notifications 200 - 10ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

    console.log
      2025-12-22T13:20:28.646Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.647Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.651Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.654Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.655Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.659Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.660Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.662Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.664Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.667Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.669Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.671Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.673Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.674Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.676Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.677Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.679Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.681Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.683Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.685Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.686Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.688Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.690Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.692Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.694Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.700Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.702Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.708Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.710Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.713Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.716Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.718Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.720Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.723Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.724Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.727Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.729Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.731Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.732Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.737Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.739Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.742Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.744Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.746Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.748Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.750Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.752Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.753Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.754Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.756Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.757Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.759Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.760Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.761Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.763Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.765Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.766Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.768Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.769Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.772Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766409628204w9tqbl 
(8233667c-bffb-4f10-964e-e6060d75d54c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:28.896Z [[32minfo[39m]: 
Notification created: c441b687-ad8d-4cb9-b2e6-e975b67f882a 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:28.899Z [[32minfo[39m]: 
Notification created: c441b687-ad8d-4cb9-b2e6-e975b67f882a 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:28] 
[f25db198-3418-49e8-b199-caa6cb28ec76] POST 
/api/notifications 201 - 323ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.104Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "de000872-9764-439d-b42e-a9658498176b",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.776Z",
              "createdAt": "2025-12-22T13:20:28.776Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "de000872-9764-439d-b42e-a9658498176b",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.776 +00:00",
            "2025-12-22 13:20:28.776 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "de000872-9764-439d-b42e-a9658498176b",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.776 +00:00",
            "2025-12-22 13:20:28.776 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.105Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "de000872-9764-439d-b42e-a9658498176b",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.776Z",
              "createdAt": "2025-12-22T13:20:28.776Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "de000872-9764-439d-b42e-a9658498176b",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.776 +00:00",
            "2025-12-22 13:20:28.776 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "de000872-9764-439d-b42e-a9658498176b",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.776 +00:00",
            "2025-12-22 13:20:28.776 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.107Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "12b30fa0-91d4-4cf3-b578-20a068e99818",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.775Z",
              "createdAt": "2025-12-22T13:20:28.775Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "12b30fa0-91d4-4cf3-b578-20a068e99818",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.775 +00:00",
            "2025-12-22 13:20:28.775 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "12b30fa0-91d4-4cf3-b578-20a068e99818",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.775 +00:00",
            "2025-12-22 13:20:28.775 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.108Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "12b30fa0-91d4-4cf3-b578-20a068e99818",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.775Z",
              "createdAt": "2025-12-22T13:20:28.775Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "12b30fa0-91d4-4cf3-b578-20a068e99818",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.775 +00:00",
            "2025-12-22 13:20:28.775 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "12b30fa0-91d4-4cf3-b578-20a068e99818",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.775 +00:00",
            "2025-12-22 13:20:28.775 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.111Z [[32minfo[39m]: 
Notification created: f9fadcc6-806d-47ae-b345-03dbd5422c44 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.114Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "c39300a1-35f6-4276-923a-64e8c9e3a2a8",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.774Z",
              "createdAt": "2025-12-22T13:20:28.774Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c39300a1-35f6-4276-923a-64e8c9e3a2a8",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.774 +00:00",
            "2025-12-22 13:20:28.774 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c39300a1-35f6-4276-923a-64e8c9e3a2a8",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.774 +00:00",
            "2025-12-22 13:20:28.774 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.115Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "c39300a1-35f6-4276-923a-64e8c9e3a2a8",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.774Z",
              "createdAt": "2025-12-22T13:20:28.774Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c39300a1-35f6-4276-923a-64e8c9e3a2a8",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.774 +00:00",
            "2025-12-22 13:20:28.774 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c39300a1-35f6-4276-923a-64e8c9e3a2a8",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.774 +00:00",
            "2025-12-22 13:20:28.774 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.117Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "41913eb6-c0cc-43d2-8f87-050b3fe0bbe0",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.777Z",
              "createdAt": "2025-12-22T13:20:28.777Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "41913eb6-c0cc-43d2-8f87-050b3fe0bbe0",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.777 +00:00",
            "2025-12-22 13:20:28.777 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "41913eb6-c0cc-43d2-8f87-050b3fe0bbe0",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.777 +00:00",
            "2025-12-22 13:20:28.777 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.118Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "41913eb6-c0cc-43d2-8f87-050b3fe0bbe0",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.777Z",
              "createdAt": "2025-12-22T13:20:28.777Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "41913eb6-c0cc-43d2-8f87-050b3fe0bbe0",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.777 +00:00",
            "2025-12-22 13:20:28.777 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "41913eb6-c0cc-43d2-8f87-050b3fe0bbe0",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.777 +00:00",
            "2025-12-22 13:20:28.777 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.120Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "8ce8da8d-5c4c-4674-a7c4-667f7d24348c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.777Z",
              "createdAt": "2025-12-22T13:20:28.777Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8ce8da8d-5c4c-4674-a7c4-667f7d24348c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.777 +00:00",
            "2025-12-22 13:20:28.777 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8ce8da8d-5c4c-4674-a7c4-667f7d24348c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.777 +00:00",
            "2025-12-22 13:20:28.777 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.121Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "8ce8da8d-5c4c-4674-a7c4-667f7d24348c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.777Z",
              "createdAt": "2025-12-22T13:20:28.777Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8ce8da8d-5c4c-4674-a7c4-667f7d24348c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.777 +00:00",
            "2025-12-22 13:20:28.777 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8ce8da8d-5c4c-4674-a7c4-667f7d24348c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.777 +00:00",
            "2025-12-22 13:20:28.777 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.124Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "640b4078-c2bd-4ab5-b710-f9cb4c6bafe1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.778Z",
              "createdAt": "2025-12-22T13:20:28.778Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "640b4078-c2bd-4ab5-b710-f9cb4c6bafe1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.778 +00:00",
            "2025-12-22 13:20:28.778 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "640b4078-c2bd-4ab5-b710-f9cb4c6bafe1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.778 +00:00",
            "2025-12-22 13:20:28.778 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.124Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "640b4078-c2bd-4ab5-b710-f9cb4c6bafe1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.778Z",
              "createdAt": "2025-12-22T13:20:28.778Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "640b4078-c2bd-4ab5-b710-f9cb4c6bafe1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.778 +00:00",
            "2025-12-22 13:20:28.778 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "640b4078-c2bd-4ab5-b710-f9cb4c6bafe1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.778 +00:00",
            "2025-12-22 13:20:28.778 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.127Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "62c1e539-5e9d-4e69-8313-a376c9f1513e",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.779Z",
              "createdAt": "2025-12-22T13:20:28.779Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "62c1e539-5e9d-4e69-8313-a376c9f1513e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.779 +00:00",
            "2025-12-22 13:20:28.779 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "62c1e539-5e9d-4e69-8313-a376c9f1513e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.779 +00:00",
            "2025-12-22 13:20:28.779 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.127Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "62c1e539-5e9d-4e69-8313-a376c9f1513e",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.779Z",
              "createdAt": "2025-12-22T13:20:28.779Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "62c1e539-5e9d-4e69-8313-a376c9f1513e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.779 +00:00",
            "2025-12-22 13:20:28.779 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "62c1e539-5e9d-4e69-8313-a376c9f1513e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.779 +00:00",
            "2025-12-22 13:20:28.779 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.129Z [[32minfo[39m]: 
Notification created: f9fadcc6-806d-47ae-b345-03dbd5422c44 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[8f9ed5a1-dacb-462c-b453-bb2a2f4261b8] POST 
/api/notifications 201 - 549ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.132Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "57eab190-955c-496f-9223-8b26c9969d8c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.780Z",
              "createdAt": "2025-12-22T13:20:28.780Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "57eab190-955c-496f-9223-8b26c9969d8c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.780 +00:00",
            "2025-12-22 13:20:28.780 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "57eab190-955c-496f-9223-8b26c9969d8c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.780 +00:00",
            "2025-12-22 13:20:28.780 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.133Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "57eab190-955c-496f-9223-8b26c9969d8c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.780Z",
              "createdAt": "2025-12-22T13:20:28.780Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "57eab190-955c-496f-9223-8b26c9969d8c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.780 +00:00",
            "2025-12-22 13:20:28.780 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "57eab190-955c-496f-9223-8b26c9969d8c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.780 +00:00",
            "2025-12-22 13:20:28.780 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.134Z [[32minfo[39m]: 
Notification created: 34192ec6-86da-491a-8792-5a07c6ad1a84 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.136Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "89ed94de-fb88-46a3-8f98-974c59c107d7",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.782Z",
              "createdAt": "2025-12-22T13:20:28.782Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "89ed94de-fb88-46a3-8f98-974c59c107d7",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.782 +00:00",
            "2025-12-22 13:20:28.782 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "89ed94de-fb88-46a3-8f98-974c59c107d7",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.782 +00:00",
            "2025-12-22 13:20:28.782 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.137Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "89ed94de-fb88-46a3-8f98-974c59c107d7",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.782Z",
              "createdAt": "2025-12-22T13:20:28.782Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "89ed94de-fb88-46a3-8f98-974c59c107d7",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.782 +00:00",
            "2025-12-22 13:20:28.782 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "89ed94de-fb88-46a3-8f98-974c59c107d7",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.782 +00:00",
            "2025-12-22 13:20:28.782 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.140Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7ab153ce-ade6-4e46-aaba-ca4d4db56be2",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.781Z",
              "createdAt": "2025-12-22T13:20:28.781Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7ab153ce-ade6-4e46-aaba-ca4d4db56be2",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.781 +00:00",
            "2025-12-22 13:20:28.781 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7ab153ce-ade6-4e46-aaba-ca4d4db56be2",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.781 +00:00",
            "2025-12-22 13:20:28.781 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.141Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7ab153ce-ade6-4e46-aaba-ca4d4db56be2",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.781Z",
              "createdAt": "2025-12-22T13:20:28.781Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7ab153ce-ade6-4e46-aaba-ca4d4db56be2",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.781 +00:00",
            "2025-12-22 13:20:28.781 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7ab153ce-ade6-4e46-aaba-ca4d4db56be2",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.781 +00:00",
            "2025-12-22 13:20:28.781 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.143Z [[32minfo[39m]: 
Notification created: 1616c3a7-4ed5-4a60-8b43-e8bd2fdf094f 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.144Z [[32minfo[39m]: 
Notification created: 96ea6a29-b897-4c43-a2aa-81e14245606a 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.145Z [[32minfo[39m]: 
Notification created: 61604352-4f57-4ddd-87b0-261901d1fc2c 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.147Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "23f8b58e-e0d4-466c-8a78-0d6ba6f157fa",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.783Z",
              "createdAt": "2025-12-22T13:20:28.783Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "23f8b58e-e0d4-466c-8a78-0d6ba6f157fa",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.783 +00:00",
            "2025-12-22 13:20:28.783 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "23f8b58e-e0d4-466c-8a78-0d6ba6f157fa",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.783 +00:00",
            "2025-12-22 13:20:28.783 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.148Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "23f8b58e-e0d4-466c-8a78-0d6ba6f157fa",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.783Z",
              "createdAt": "2025-12-22T13:20:28.783Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "23f8b58e-e0d4-466c-8a78-0d6ba6f157fa",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.783 +00:00",
            "2025-12-22 13:20:28.783 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "23f8b58e-e0d4-466c-8a78-0d6ba6f157fa",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.783 +00:00",
            "2025-12-22 13:20:28.783 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.151Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "619b014f-072d-4391-8a7a-49b587694e91",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.784Z",
              "createdAt": "2025-12-22T13:20:28.784Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "619b014f-072d-4391-8a7a-49b587694e91",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.784 +00:00",
            "2025-12-22 13:20:28.784 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "619b014f-072d-4391-8a7a-49b587694e91",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.784 +00:00",
            "2025-12-22 13:20:28.784 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.152Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "619b014f-072d-4391-8a7a-49b587694e91",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.784Z",
              "createdAt": "2025-12-22T13:20:28.784Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "619b014f-072d-4391-8a7a-49b587694e91",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.784 +00:00",
            "2025-12-22 13:20:28.784 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "619b014f-072d-4391-8a7a-49b587694e91",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.784 +00:00",
            "2025-12-22 13:20:28.784 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.156Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "b706ba5d-7054-40d0-bfaf-2945b1f2c808",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.785Z",
              "createdAt": "2025-12-22T13:20:28.785Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b706ba5d-7054-40d0-bfaf-2945b1f2c808",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.785 +00:00",
            "2025-12-22 13:20:28.785 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b706ba5d-7054-40d0-bfaf-2945b1f2c808",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.785 +00:00",
            "2025-12-22 13:20:28.785 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.156Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "b706ba5d-7054-40d0-bfaf-2945b1f2c808",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.785Z",
              "createdAt": "2025-12-22T13:20:28.785Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b706ba5d-7054-40d0-bfaf-2945b1f2c808",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.785 +00:00",
            "2025-12-22 13:20:28.785 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b706ba5d-7054-40d0-bfaf-2945b1f2c808",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.785 +00:00",
            "2025-12-22 13:20:28.785 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.158Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7016f978-e23f-4ccf-84c2-9e0c9deaa9a1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.787Z",
              "createdAt": "2025-12-22T13:20:28.787Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7016f978-e23f-4ccf-84c2-9e0c9deaa9a1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.787 +00:00",
            "2025-12-22 13:20:28.787 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7016f978-e23f-4ccf-84c2-9e0c9deaa9a1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.787 +00:00",
            "2025-12-22 13:20:28.787 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.159Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7016f978-e23f-4ccf-84c2-9e0c9deaa9a1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.787Z",
              "createdAt": "2025-12-22T13:20:28.787Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7016f978-e23f-4ccf-84c2-9e0c9deaa9a1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.787 +00:00",
            "2025-12-22 13:20:28.787 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7016f978-e23f-4ccf-84c2-9e0c9deaa9a1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.787 +00:00",
            "2025-12-22 13:20:28.787 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.160Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "c76e9018-f243-49ee-a0c9-d7e0d57848eb",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.788Z",
              "createdAt": "2025-12-22T13:20:28.788Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c76e9018-f243-49ee-a0c9-d7e0d57848eb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.788 +00:00",
            "2025-12-22 13:20:28.788 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c76e9018-f243-49ee-a0c9-d7e0d57848eb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.788 +00:00",
            "2025-12-22 13:20:28.788 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.161Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "c76e9018-f243-49ee-a0c9-d7e0d57848eb",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.788Z",
              "createdAt": "2025-12-22T13:20:28.788Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c76e9018-f243-49ee-a0c9-d7e0d57848eb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.788 +00:00",
            "2025-12-22 13:20:28.788 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c76e9018-f243-49ee-a0c9-d7e0d57848eb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.788 +00:00",
            "2025-12-22 13:20:28.788 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.162Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "30bdd2b3-7f8d-423c-ace6-ec56043bec26",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.789Z",
              "createdAt": "2025-12-22T13:20:28.789Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "30bdd2b3-7f8d-423c-ace6-ec56043bec26",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.789 +00:00",
            "2025-12-22 13:20:28.789 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "30bdd2b3-7f8d-423c-ace6-ec56043bec26",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.789 +00:00",
            "2025-12-22 13:20:28.789 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.163Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "30bdd2b3-7f8d-423c-ace6-ec56043bec26",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.789Z",
              "createdAt": "2025-12-22T13:20:28.789Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "30bdd2b3-7f8d-423c-ace6-ec56043bec26",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.789 +00:00",
            "2025-12-22 13:20:28.789 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "30bdd2b3-7f8d-423c-ace6-ec56043bec26",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.789 +00:00",
            "2025-12-22 13:20:28.789 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.165Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "15bbb2da-3dc2-4288-b183-e6deccd43dc3",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.790Z",
              "createdAt": "2025-12-22T13:20:28.790Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "15bbb2da-3dc2-4288-b183-e6deccd43dc3",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.790 +00:00",
            "2025-12-22 13:20:28.790 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "15bbb2da-3dc2-4288-b183-e6deccd43dc3",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.790 +00:00",
            "2025-12-22 13:20:28.790 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.166Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "15bbb2da-3dc2-4288-b183-e6deccd43dc3",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.790Z",
              "createdAt": "2025-12-22T13:20:28.790Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "15bbb2da-3dc2-4288-b183-e6deccd43dc3",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.790 +00:00",
            "2025-12-22 13:20:28.790 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "15bbb2da-3dc2-4288-b183-e6deccd43dc3",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.790 +00:00",
            "2025-12-22 13:20:28.790 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.167Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "50a1ead6-46bb-4ec3-83bf-f210917267e4",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.791Z",
              "createdAt": "2025-12-22T13:20:28.791Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "50a1ead6-46bb-4ec3-83bf-f210917267e4",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.791 +00:00",
            "2025-12-22 13:20:28.791 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "50a1ead6-46bb-4ec3-83bf-f210917267e4",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.791 +00:00",
            "2025-12-22 13:20:28.791 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.168Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "50a1ead6-46bb-4ec3-83bf-f210917267e4",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.791Z",
              "createdAt": "2025-12-22T13:20:28.791Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "50a1ead6-46bb-4ec3-83bf-f210917267e4",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.791 +00:00",
            "2025-12-22 13:20:28.791 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "50a1ead6-46bb-4ec3-83bf-f210917267e4",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.791 +00:00",
            "2025-12-22 13:20:28.791 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.170Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "298c101f-b27e-4b6d-9f81-33a2675d1d59",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.791Z",
              "createdAt": "2025-12-22T13:20:28.791Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "298c101f-b27e-4b6d-9f81-33a2675d1d59",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.791 +00:00",
            "2025-12-22 13:20:28.791 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "298c101f-b27e-4b6d-9f81-33a2675d1d59",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.791 +00:00",
            "2025-12-22 13:20:28.791 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.170Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "298c101f-b27e-4b6d-9f81-33a2675d1d59",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.791Z",
              "createdAt": "2025-12-22T13:20:28.791Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "298c101f-b27e-4b6d-9f81-33a2675d1d59",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.791 +00:00",
            "2025-12-22 13:20:28.791 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "298c101f-b27e-4b6d-9f81-33a2675d1d59",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.791 +00:00",
            "2025-12-22 13:20:28.791 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.172Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "6107b360-fdd5-4c1a-9676-aef2396d914c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.792Z",
              "createdAt": "2025-12-22T13:20:28.792Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6107b360-fdd5-4c1a-9676-aef2396d914c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.792 +00:00",
            "2025-12-22 13:20:28.792 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6107b360-fdd5-4c1a-9676-aef2396d914c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.792 +00:00",
            "2025-12-22 13:20:28.792 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.172Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "6107b360-fdd5-4c1a-9676-aef2396d914c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.792Z",
              "createdAt": "2025-12-22T13:20:28.792Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6107b360-fdd5-4c1a-9676-aef2396d914c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.792 +00:00",
            "2025-12-22 13:20:28.792 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6107b360-fdd5-4c1a-9676-aef2396d914c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.792 +00:00",
            "2025-12-22 13:20:28.792 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.174Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "05569298-a0b6-4dbe-b4e4-ab04917d3284",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.793Z",
              "createdAt": "2025-12-22T13:20:28.793Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "05569298-a0b6-4dbe-b4e4-ab04917d3284",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.793 +00:00",
            "2025-12-22 13:20:28.793 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "05569298-a0b6-4dbe-b4e4-ab04917d3284",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.793 +00:00",
            "2025-12-22 13:20:28.793 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.174Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "05569298-a0b6-4dbe-b4e4-ab04917d3284",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.793Z",
              "createdAt": "2025-12-22T13:20:28.793Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "05569298-a0b6-4dbe-b4e4-ab04917d3284",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.793 +00:00",
            "2025-12-22 13:20:28.793 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "05569298-a0b6-4dbe-b4e4-ab04917d3284",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.793 +00:00",
            "2025-12-22 13:20:28.793 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.176Z [[32minfo[39m]: 
Notification created: 34192ec6-86da-491a-8792-5a07c6ad1a84 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[d09cd9ae-8ba7-42bc-81a5-1d17aa97bcc1] POST 
/api/notifications 201 - 594ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.178Z [[32minfo[39m]: 
Notification created: 96ea6a29-b897-4c43-a2aa-81e14245606a 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[abad382d-cc2b-4ce2-b177-1878df640d2d] POST 
/api/notifications 201 - 590ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.180Z [[32minfo[39m]: 
Notification created: 61604352-4f57-4ddd-87b0-261901d1fc2c 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[f305845e-e9fd-4188-9254-a54fb0fe7cb5] POST 
/api/notifications 201 - 594ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.183Z [[32minfo[39m]: 
Notification created: 95ebf09a-40a9-46ed-80ed-551be9146f43 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.184Z [[32minfo[39m]: 
Notification created: 7ce83fd2-61ed-4d4c-b247-89a5c09c4dcc 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.186Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "e0609e84-4fa6-4529-8578-e1e6247b79cf",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.785Z",
              "createdAt": "2025-12-22T13:20:28.785Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e0609e84-4fa6-4529-8578-e1e6247b79cf",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.785 +00:00",
            "2025-12-22 13:20:28.785 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e0609e84-4fa6-4529-8578-e1e6247b79cf",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.785 +00:00",
            "2025-12-22 13:20:28.785 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.187Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "e0609e84-4fa6-4529-8578-e1e6247b79cf",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.785Z",
              "createdAt": "2025-12-22T13:20:28.785Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e0609e84-4fa6-4529-8578-e1e6247b79cf",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.785 +00:00",
            "2025-12-22 13:20:28.785 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e0609e84-4fa6-4529-8578-e1e6247b79cf",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.785 +00:00",
            "2025-12-22 13:20:28.785 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.188Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "2f659913-6f2b-43d2-ad3a-b1a94b7dad8d",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.789Z",
              "createdAt": "2025-12-22T13:20:28.789Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2f659913-6f2b-43d2-ad3a-b1a94b7dad8d",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.789 +00:00",
            "2025-12-22 13:20:28.789 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2f659913-6f2b-43d2-ad3a-b1a94b7dad8d",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.789 +00:00",
            "2025-12-22 13:20:28.789 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.189Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "2f659913-6f2b-43d2-ad3a-b1a94b7dad8d",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.789Z",
              "createdAt": "2025-12-22T13:20:28.789Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2f659913-6f2b-43d2-ad3a-b1a94b7dad8d",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.789 +00:00",
            "2025-12-22 13:20:28.789 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2f659913-6f2b-43d2-ad3a-b1a94b7dad8d",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.789 +00:00",
            "2025-12-22 13:20:28.789 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.190Z [[32minfo[39m]: 
Notification created: 5e2f7c9a-87df-457a-943f-bd8c0239d67f 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.192Z [[32minfo[39m]: 
Notification created: e2c786c2-33d4-4d16-91b6-02c15af27f4e 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.193Z [[32minfo[39m]: 
Notification created: 44f5b472-0b02-4ed6-b5e1-ab9856b82b8b 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.194Z [[32minfo[39m]: 
Notification created: 1616c3a7-4ed5-4a60-8b43-e8bd2fdf094f 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[24f18403-b983-433e-bec1-6faeee210722] POST 
/api/notifications 201 - 616ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.197Z [[32minfo[39m]: 
Notification created: e8dbc3aa-1e87-4e28-b295-2701c905888f 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.201Z [[32minfo[39m]: 
Notification created: 80672676-0b40-4c8e-9c79-41c4f5e7f701 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.206Z [[32minfo[39m]: 
Notification created: d8f178f4-5c06-4acb-9885-410978228a36 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.208Z [[32minfo[39m]: 
Notification created: d23fefbf-9c5d-4ffd-9a03-de18f7307da3 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.210Z [[32minfo[39m]: 
Notification created: ae128ed1-ca83-4940-a28b-10c2f71322a5 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.211Z [[32minfo[39m]: 
Notification created: b8066dc4-e6f4-488f-aae8-2a971dbf1853 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.213Z [[32minfo[39m]: 
Notification created: bb5798a2-47ba-4b36-866b-4543a8bd57e8 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.216Z [[32minfo[39m]: 
Notification created: 4ee1fbaa-e355-4c64-b64c-bbdd0bdf59ec 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.217Z [[32minfo[39m]: 
Notification created: 1aee0adb-3cac-4bef-b47d-7f30c1844e8b 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.219Z [[32minfo[39m]: 
Notification created: 5faefdef-3771-4e49-ab08-fc5e2f0afea4 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.220Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "b92c75d2-ac35-4ed9-8cd2-6a51c435fbae",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.796Z",
              "createdAt": "2025-12-22T13:20:28.796Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b92c75d2-ac35-4ed9-8cd2-6a51c435fbae",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.796 +00:00",
            "2025-12-22 13:20:28.796 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b92c75d2-ac35-4ed9-8cd2-6a51c435fbae",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.796 +00:00",
            "2025-12-22 13:20:28.796 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.221Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "b92c75d2-ac35-4ed9-8cd2-6a51c435fbae",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.796Z",
              "createdAt": "2025-12-22T13:20:28.796Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b92c75d2-ac35-4ed9-8cd2-6a51c435fbae",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.796 +00:00",
            "2025-12-22 13:20:28.796 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b92c75d2-ac35-4ed9-8cd2-6a51c435fbae",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.796 +00:00",
            "2025-12-22 13:20:28.796 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.223Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "30454ed9-0863-4ab2-a832-ed4248686721",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.798Z",
              "createdAt": "2025-12-22T13:20:28.798Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "30454ed9-0863-4ab2-a832-ed4248686721",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.798 +00:00",
            "2025-12-22 13:20:28.798 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "30454ed9-0863-4ab2-a832-ed4248686721",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.798 +00:00",
            "2025-12-22 13:20:28.798 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.223Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "30454ed9-0863-4ab2-a832-ed4248686721",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.798Z",
              "createdAt": "2025-12-22T13:20:28.798Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "30454ed9-0863-4ab2-a832-ed4248686721",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.798 +00:00",
            "2025-12-22 13:20:28.798 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "30454ed9-0863-4ab2-a832-ed4248686721",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.798 +00:00",
            "2025-12-22 13:20:28.798 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.225Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "e3039e1b-7855-4297-9f34-9e13c2e42cb0",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.803Z",
              "createdAt": "2025-12-22T13:20:28.803Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e3039e1b-7855-4297-9f34-9e13c2e42cb0",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.803 +00:00",
            "2025-12-22 13:20:28.803 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e3039e1b-7855-4297-9f34-9e13c2e42cb0",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.803 +00:00",
            "2025-12-22 13:20:28.803 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.226Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "e3039e1b-7855-4297-9f34-9e13c2e42cb0",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.803Z",
              "createdAt": "2025-12-22T13:20:28.803Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e3039e1b-7855-4297-9f34-9e13c2e42cb0",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.803 +00:00",
            "2025-12-22 13:20:28.803 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e3039e1b-7855-4297-9f34-9e13c2e42cb0",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.803 +00:00",
            "2025-12-22 13:20:28.803 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.228Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "5f86f4c4-3fa0-4c36-a4cb-591d43a38e84",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.801Z",
              "createdAt": "2025-12-22T13:20:28.801Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5f86f4c4-3fa0-4c36-a4cb-591d43a38e84",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.801 +00:00",
            "2025-12-22 13:20:28.801 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5f86f4c4-3fa0-4c36-a4cb-591d43a38e84",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.801 +00:00",
            "2025-12-22 13:20:28.801 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.228Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "5f86f4c4-3fa0-4c36-a4cb-591d43a38e84",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.801Z",
              "createdAt": "2025-12-22T13:20:28.801Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5f86f4c4-3fa0-4c36-a4cb-591d43a38e84",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.801 +00:00",
            "2025-12-22 13:20:28.801 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5f86f4c4-3fa0-4c36-a4cb-591d43a38e84",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.801 +00:00",
            "2025-12-22 13:20:28.801 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.230Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "cabfe04d-a0f9-49d1-93d8-c7b8e4f8f401",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.802Z",
              "createdAt": "2025-12-22T13:20:28.802Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cabfe04d-a0f9-49d1-93d8-c7b8e4f8f401",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.802 +00:00",
            "2025-12-22 13:20:28.802 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cabfe04d-a0f9-49d1-93d8-c7b8e4f8f401",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.802 +00:00",
            "2025-12-22 13:20:28.802 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.231Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "cabfe04d-a0f9-49d1-93d8-c7b8e4f8f401",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.802Z",
              "createdAt": "2025-12-22T13:20:28.802Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cabfe04d-a0f9-49d1-93d8-c7b8e4f8f401",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.802 +00:00",
            "2025-12-22 13:20:28.802 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cabfe04d-a0f9-49d1-93d8-c7b8e4f8f401",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.802 +00:00",
            "2025-12-22 13:20:28.802 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.233Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "bf0eb641-aadb-49e1-90d3-1c939748f310",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.804Z",
              "createdAt": "2025-12-22T13:20:28.804Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bf0eb641-aadb-49e1-90d3-1c939748f310",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.804 +00:00",
            "2025-12-22 13:20:28.804 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bf0eb641-aadb-49e1-90d3-1c939748f310",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.804 +00:00",
            "2025-12-22 13:20:28.804 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.233Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "bf0eb641-aadb-49e1-90d3-1c939748f310",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.804Z",
              "createdAt": "2025-12-22T13:20:28.804Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bf0eb641-aadb-49e1-90d3-1c939748f310",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.804 +00:00",
            "2025-12-22 13:20:28.804 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bf0eb641-aadb-49e1-90d3-1c939748f310",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.804 +00:00",
            "2025-12-22 13:20:28.804 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.235Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "c69e35bd-4b1f-4692-b5c2-a4f811559dde",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.805Z",
              "createdAt": "2025-12-22T13:20:28.805Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c69e35bd-4b1f-4692-b5c2-a4f811559dde",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.805 +00:00",
            "2025-12-22 13:20:28.805 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c69e35bd-4b1f-4692-b5c2-a4f811559dde",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.805 +00:00",
            "2025-12-22 13:20:28.805 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.236Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "c69e35bd-4b1f-4692-b5c2-a4f811559dde",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.805Z",
              "createdAt": "2025-12-22T13:20:28.805Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c69e35bd-4b1f-4692-b5c2-a4f811559dde",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.805 +00:00",
            "2025-12-22 13:20:28.805 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c69e35bd-4b1f-4692-b5c2-a4f811559dde",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.805 +00:00",
            "2025-12-22 13:20:28.805 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.238Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "21581361-2e5b-44b5-ad18-27857ab5cac9",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.806Z",
              "createdAt": "2025-12-22T13:20:28.806Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "21581361-2e5b-44b5-ad18-27857ab5cac9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.806 +00:00",
            "2025-12-22 13:20:28.806 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "21581361-2e5b-44b5-ad18-27857ab5cac9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.806 +00:00",
            "2025-12-22 13:20:28.806 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.239Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "21581361-2e5b-44b5-ad18-27857ab5cac9",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.806Z",
              "createdAt": "2025-12-22T13:20:28.806Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "21581361-2e5b-44b5-ad18-27857ab5cac9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.806 +00:00",
            "2025-12-22 13:20:28.806 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "21581361-2e5b-44b5-ad18-27857ab5cac9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.806 +00:00",
            "2025-12-22 13:20:28.806 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.242Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "ad2692ea-1192-4374-8250-ccc4f9becb57",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.807Z",
              "createdAt": "2025-12-22T13:20:28.807Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ad2692ea-1192-4374-8250-ccc4f9becb57",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.807 +00:00",
            "2025-12-22 13:20:28.807 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ad2692ea-1192-4374-8250-ccc4f9becb57",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.807 +00:00",
            "2025-12-22 13:20:28.807 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.243Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "ad2692ea-1192-4374-8250-ccc4f9becb57",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.807Z",
              "createdAt": "2025-12-22T13:20:28.807Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ad2692ea-1192-4374-8250-ccc4f9becb57",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.807 +00:00",
            "2025-12-22 13:20:28.807 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ad2692ea-1192-4374-8250-ccc4f9becb57",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.807 +00:00",
            "2025-12-22 13:20:28.807 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.245Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "22568869-55c9-4b5e-85b2-3e69be0c9d87",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.808Z",
              "createdAt": "2025-12-22T13:20:28.808Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "22568869-55c9-4b5e-85b2-3e69be0c9d87",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.808 +00:00",
            "2025-12-22 13:20:28.808 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "22568869-55c9-4b5e-85b2-3e69be0c9d87",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.808 +00:00",
            "2025-12-22 13:20:28.808 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.246Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "22568869-55c9-4b5e-85b2-3e69be0c9d87",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.808Z",
              "createdAt": "2025-12-22T13:20:28.808Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "22568869-55c9-4b5e-85b2-3e69be0c9d87",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.808 +00:00",
            "2025-12-22 13:20:28.808 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "22568869-55c9-4b5e-85b2-3e69be0c9d87",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.808 +00:00",
            "2025-12-22 13:20:28.808 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.247Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "5c216754-c0f9-4d30-b3ee-c53c2d082d02",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.810Z",
              "createdAt": "2025-12-22T13:20:28.810Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5c216754-c0f9-4d30-b3ee-c53c2d082d02",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.810 +00:00",
            "2025-12-22 13:20:28.810 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5c216754-c0f9-4d30-b3ee-c53c2d082d02",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.810 +00:00",
            "2025-12-22 13:20:28.810 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.248Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "5c216754-c0f9-4d30-b3ee-c53c2d082d02",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.810Z",
              "createdAt": "2025-12-22T13:20:28.810Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5c216754-c0f9-4d30-b3ee-c53c2d082d02",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.810 +00:00",
            "2025-12-22 13:20:28.810 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5c216754-c0f9-4d30-b3ee-c53c2d082d02",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.810 +00:00",
            "2025-12-22 13:20:28.810 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.250Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "fe85a150-a41a-4b48-9319-b85d9d15a78c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.811Z",
              "createdAt": "2025-12-22T13:20:28.811Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe85a150-a41a-4b48-9319-b85d9d15a78c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.811 +00:00",
            "2025-12-22 13:20:28.811 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe85a150-a41a-4b48-9319-b85d9d15a78c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.811 +00:00",
            "2025-12-22 13:20:28.811 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.250Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "fe85a150-a41a-4b48-9319-b85d9d15a78c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.811Z",
              "createdAt": "2025-12-22T13:20:28.811Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe85a150-a41a-4b48-9319-b85d9d15a78c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.811 +00:00",
            "2025-12-22 13:20:28.811 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe85a150-a41a-4b48-9319-b85d9d15a78c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.811 +00:00",
            "2025-12-22 13:20:28.811 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.252Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "3b7dc8e0-eda0-43c9-b8f0-cf82925beffb",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.812Z",
              "createdAt": "2025-12-22T13:20:28.812Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3b7dc8e0-eda0-43c9-b8f0-cf82925beffb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.812 +00:00",
            "2025-12-22 13:20:28.812 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3b7dc8e0-eda0-43c9-b8f0-cf82925beffb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.812 +00:00",
            "2025-12-22 13:20:28.812 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.253Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "3b7dc8e0-eda0-43c9-b8f0-cf82925beffb",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.812Z",
              "createdAt": "2025-12-22T13:20:28.812Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3b7dc8e0-eda0-43c9-b8f0-cf82925beffb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.812 +00:00",
            "2025-12-22 13:20:28.812 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3b7dc8e0-eda0-43c9-b8f0-cf82925beffb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.812 +00:00",
            "2025-12-22 13:20:28.812 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.255Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7d21aa34-96f1-46be-8959-7b565b3099ac",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.813Z",
              "createdAt": "2025-12-22T13:20:28.813Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7d21aa34-96f1-46be-8959-7b565b3099ac",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.813 +00:00",
            "2025-12-22 13:20:28.813 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7d21aa34-96f1-46be-8959-7b565b3099ac",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.813 +00:00",
            "2025-12-22 13:20:28.813 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.255Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7d21aa34-96f1-46be-8959-7b565b3099ac",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.813Z",
              "createdAt": "2025-12-22T13:20:28.813Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7d21aa34-96f1-46be-8959-7b565b3099ac",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.813 +00:00",
            "2025-12-22 13:20:28.813 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7d21aa34-96f1-46be-8959-7b565b3099ac",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.813 +00:00",
            "2025-12-22 13:20:28.813 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.257Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "c19c90e5-9baf-4cfd-91a1-a1f811ed3d4c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.814Z",
              "createdAt": "2025-12-22T13:20:28.814Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c19c90e5-9baf-4cfd-91a1-a1f811ed3d4c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.814 +00:00",
            "2025-12-22 13:20:28.814 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c19c90e5-9baf-4cfd-91a1-a1f811ed3d4c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.814 +00:00",
            "2025-12-22 13:20:28.814 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.257Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "c19c90e5-9baf-4cfd-91a1-a1f811ed3d4c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.814Z",
              "createdAt": "2025-12-22T13:20:28.814Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c19c90e5-9baf-4cfd-91a1-a1f811ed3d4c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.814 +00:00",
            "2025-12-22 13:20:28.814 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c19c90e5-9baf-4cfd-91a1-a1f811ed3d4c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.814 +00:00",
            "2025-12-22 13:20:28.814 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.260Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "438175e1-2d1d-4e83-a237-55059aa1a1f9",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.815Z",
              "createdAt": "2025-12-22T13:20:28.815Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "438175e1-2d1d-4e83-a237-55059aa1a1f9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.815 +00:00",
            "2025-12-22 13:20:28.815 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "438175e1-2d1d-4e83-a237-55059aa1a1f9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.815 +00:00",
            "2025-12-22 13:20:28.815 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.260Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "438175e1-2d1d-4e83-a237-55059aa1a1f9",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.815Z",
              "createdAt": "2025-12-22T13:20:28.815Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "438175e1-2d1d-4e83-a237-55059aa1a1f9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.815 +00:00",
            "2025-12-22 13:20:28.815 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "438175e1-2d1d-4e83-a237-55059aa1a1f9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.815 +00:00",
            "2025-12-22 13:20:28.815 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.262Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "28ea8009-e099-41fa-87ea-e13728a857e1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.816Z",
              "createdAt": "2025-12-22T13:20:28.816Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "28ea8009-e099-41fa-87ea-e13728a857e1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.816 +00:00",
            "2025-12-22 13:20:28.816 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "28ea8009-e099-41fa-87ea-e13728a857e1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.816 +00:00",
            "2025-12-22 13:20:28.816 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.263Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "28ea8009-e099-41fa-87ea-e13728a857e1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.816Z",
              "createdAt": "2025-12-22T13:20:28.816Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "28ea8009-e099-41fa-87ea-e13728a857e1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.816 +00:00",
            "2025-12-22 13:20:28.816 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "28ea8009-e099-41fa-87ea-e13728a857e1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.816 +00:00",
            "2025-12-22 13:20:28.816 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.265Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "adcd02da-6fa6-41bf-90a0-0512c5bebd93",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.817Z",
              "createdAt": "2025-12-22T13:20:28.817Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "adcd02da-6fa6-41bf-90a0-0512c5bebd93",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.817 +00:00",
            "2025-12-22 13:20:28.817 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "adcd02da-6fa6-41bf-90a0-0512c5bebd93",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.817 +00:00",
            "2025-12-22 13:20:28.817 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.265Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "adcd02da-6fa6-41bf-90a0-0512c5bebd93",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.817Z",
              "createdAt": "2025-12-22T13:20:28.817Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "adcd02da-6fa6-41bf-90a0-0512c5bebd93",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.817 +00:00",
            "2025-12-22 13:20:28.817 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "adcd02da-6fa6-41bf-90a0-0512c5bebd93",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.817 +00:00",
            "2025-12-22 13:20:28.817 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.267Z [[32minfo[39m]: 
Notification created: fdabc1eb-87a8-40ae-ae84-510da23f4e59 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.270Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7082aec1-d0bc-40eb-9a61-decfb22c9e90",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.795Z",
              "createdAt": "2025-12-22T13:20:28.795Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7082aec1-d0bc-40eb-9a61-decfb22c9e90",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.795 +00:00",
            "2025-12-22 13:20:28.795 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7082aec1-d0bc-40eb-9a61-decfb22c9e90",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.795 +00:00",
            "2025-12-22 13:20:28.795 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.270Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7082aec1-d0bc-40eb-9a61-decfb22c9e90",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.795Z",
              "createdAt": "2025-12-22T13:20:28.795Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7082aec1-d0bc-40eb-9a61-decfb22c9e90",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.795 +00:00",
            "2025-12-22 13:20:28.795 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7082aec1-d0bc-40eb-9a61-decfb22c9e90",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.795 +00:00",
            "2025-12-22 13:20:28.795 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.272Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "bf02c77a-fc5a-485d-9f04-85a7f7031bb9",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.794Z",
              "createdAt": "2025-12-22T13:20:28.794Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bf02c77a-fc5a-485d-9f04-85a7f7031bb9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.794 +00:00",
            "2025-12-22 13:20:28.794 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bf02c77a-fc5a-485d-9f04-85a7f7031bb9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.794 +00:00",
            "2025-12-22 13:20:28.794 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.273Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "bf02c77a-fc5a-485d-9f04-85a7f7031bb9",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.794Z",
              "createdAt": "2025-12-22T13:20:28.794Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bf02c77a-fc5a-485d-9f04-85a7f7031bb9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.794 +00:00",
            "2025-12-22 13:20:28.794 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bf02c77a-fc5a-485d-9f04-85a7f7031bb9",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.794 +00:00",
            "2025-12-22 13:20:28.794 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.275Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "6f1f983a-eaf8-4d8b-9eb1-4fb9982dc854",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.797Z",
              "createdAt": "2025-12-22T13:20:28.797Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6f1f983a-eaf8-4d8b-9eb1-4fb9982dc854",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.797 +00:00",
            "2025-12-22 13:20:28.797 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6f1f983a-eaf8-4d8b-9eb1-4fb9982dc854",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.797 +00:00",
            "2025-12-22 13:20:28.797 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.275Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "6f1f983a-eaf8-4d8b-9eb1-4fb9982dc854",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.797Z",
              "createdAt": "2025-12-22T13:20:28.797Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6f1f983a-eaf8-4d8b-9eb1-4fb9982dc854",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.797 +00:00",
            "2025-12-22 13:20:28.797 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6f1f983a-eaf8-4d8b-9eb1-4fb9982dc854",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.797 +00:00",
            "2025-12-22 13:20:28.797 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.277Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7c4d8b69-cce1-4937-a129-df56cf8e3bfb",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.797Z",
              "createdAt": "2025-12-22T13:20:28.797Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7c4d8b69-cce1-4937-a129-df56cf8e3bfb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.797 +00:00",
            "2025-12-22 13:20:28.797 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7c4d8b69-cce1-4937-a129-df56cf8e3bfb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.797 +00:00",
            "2025-12-22 13:20:28.797 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.278Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "7c4d8b69-cce1-4937-a129-df56cf8e3bfb",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.797Z",
              "createdAt": "2025-12-22T13:20:28.797Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7c4d8b69-cce1-4937-a129-df56cf8e3bfb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.797 +00:00",
            "2025-12-22 13:20:28.797 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "7c4d8b69-cce1-4937-a129-df56cf8e3bfb",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.797 +00:00",
            "2025-12-22 13:20:28.797 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.279Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "4de1957e-1a57-4755-b339-33dcfaab559d",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.799Z",
              "createdAt": "2025-12-22T13:20:28.799Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4de1957e-1a57-4755-b339-33dcfaab559d",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.799 +00:00",
            "2025-12-22 13:20:28.799 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4de1957e-1a57-4755-b339-33dcfaab559d",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.799 +00:00",
            "2025-12-22 13:20:28.799 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.280Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "4de1957e-1a57-4755-b339-33dcfaab559d",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.799Z",
              "createdAt": "2025-12-22T13:20:28.799Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4de1957e-1a57-4755-b339-33dcfaab559d",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.799 +00:00",
            "2025-12-22 13:20:28.799 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4de1957e-1a57-4755-b339-33dcfaab559d",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.799 +00:00",
            "2025-12-22 13:20:28.799 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.282Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "ccbf0c2f-9082-4b6b-9c71-5640d070e20c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.800Z",
              "createdAt": "2025-12-22T13:20:28.800Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ccbf0c2f-9082-4b6b-9c71-5640d070e20c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.800 +00:00",
            "2025-12-22 13:20:28.800 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ccbf0c2f-9082-4b6b-9c71-5640d070e20c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.800 +00:00",
            "2025-12-22 13:20:28.800 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.282Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "ccbf0c2f-9082-4b6b-9c71-5640d070e20c",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.800Z",
              "createdAt": "2025-12-22T13:20:28.800Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ccbf0c2f-9082-4b6b-9c71-5640d070e20c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.800 +00:00",
            "2025-12-22 13:20:28.800 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ccbf0c2f-9082-4b6b-9c71-5640d070e20c",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.800 +00:00",
            "2025-12-22 13:20:28.800 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.284Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "adef0db0-6c86-411a-b085-4608f9f5a02b",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.801Z",
              "createdAt": "2025-12-22T13:20:28.801Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "adef0db0-6c86-411a-b085-4608f9f5a02b",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.801 +00:00",
            "2025-12-22 13:20:28.801 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "adef0db0-6c86-411a-b085-4608f9f5a02b",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.801 +00:00",
            "2025-12-22 13:20:28.801 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.285Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "adef0db0-6c86-411a-b085-4608f9f5a02b",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.801Z",
              "createdAt": "2025-12-22T13:20:28.801Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "adef0db0-6c86-411a-b085-4608f9f5a02b",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.801 +00:00",
            "2025-12-22 13:20:28.801 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "adef0db0-6c86-411a-b085-4608f9f5a02b",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.801 +00:00",
            "2025-12-22 13:20:28.801 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.287Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "2edc34da-f868-446f-b66b-142bd9a93cb1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.818Z",
              "createdAt": "2025-12-22T13:20:28.818Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2edc34da-f868-446f-b66b-142bd9a93cb1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.818 +00:00",
            "2025-12-22 13:20:28.818 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2edc34da-f868-446f-b66b-142bd9a93cb1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.818 +00:00",
            "2025-12-22 13:20:28.818 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.287Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "2edc34da-f868-446f-b66b-142bd9a93cb1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.818Z",
              "createdAt": "2025-12-22T13:20:28.818Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2edc34da-f868-446f-b66b-142bd9a93cb1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.818 +00:00",
            "2025-12-22 13:20:28.818 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2edc34da-f868-446f-b66b-142bd9a93cb1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.818 +00:00",
            "2025-12-22 13:20:28.818 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.289Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "fe807ef1-5ec6-4abc-830e-6c39ef0b508e",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.819Z",
              "createdAt": "2025-12-22T13:20:28.819Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe807ef1-5ec6-4abc-830e-6c39ef0b508e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.819 +00:00",
            "2025-12-22 13:20:28.819 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe807ef1-5ec6-4abc-830e-6c39ef0b508e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.819 +00:00",
            "2025-12-22 13:20:28.819 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.289Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "fe807ef1-5ec6-4abc-830e-6c39ef0b508e",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.819Z",
              "createdAt": "2025-12-22T13:20:28.819Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe807ef1-5ec6-4abc-830e-6c39ef0b508e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.819 +00:00",
            "2025-12-22 13:20:28.819 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "fe807ef1-5ec6-4abc-830e-6c39ef0b508e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.819 +00:00",
            "2025-12-22 13:20:28.819 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.291Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "a01ee0af-d0a6-4472-9d6c-17573907ba49",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.821Z",
              "createdAt": "2025-12-22T13:20:28.821Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a01ee0af-d0a6-4472-9d6c-17573907ba49",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.821 +00:00",
            "2025-12-22 13:20:28.821 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a01ee0af-d0a6-4472-9d6c-17573907ba49",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.821 +00:00",
            "2025-12-22 13:20:28.821 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.292Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "a01ee0af-d0a6-4472-9d6c-17573907ba49",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.821Z",
              "createdAt": "2025-12-22T13:20:28.821Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a01ee0af-d0a6-4472-9d6c-17573907ba49",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.821 +00:00",
            "2025-12-22 13:20:28.821 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a01ee0af-d0a6-4472-9d6c-17573907ba49",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.821 +00:00",
            "2025-12-22 13:20:28.821 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.294Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "4b2a652f-888f-44b1-ba85-5a49737e70d1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.821Z",
              "createdAt": "2025-12-22T13:20:28.821Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4b2a652f-888f-44b1-ba85-5a49737e70d1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.821 +00:00",
            "2025-12-22 13:20:28.821 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4b2a652f-888f-44b1-ba85-5a49737e70d1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.821 +00:00",
            "2025-12-22 13:20:28.821 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.294Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "4b2a652f-888f-44b1-ba85-5a49737e70d1",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.821Z",
              "createdAt": "2025-12-22T13:20:28.821Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4b2a652f-888f-44b1-ba85-5a49737e70d1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.821 +00:00",
            "2025-12-22 13:20:28.821 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4b2a652f-888f-44b1-ba85-5a49737e70d1",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.821 +00:00",
            "2025-12-22 13:20:28.821 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.296Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "1f925f88-fef6-4a18-824d-ffa9192b2077",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.823Z",
              "createdAt": "2025-12-22T13:20:28.823Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1f925f88-fef6-4a18-824d-ffa9192b2077",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.823 +00:00",
            "2025-12-22 13:20:28.823 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1f925f88-fef6-4a18-824d-ffa9192b2077",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.823 +00:00",
            "2025-12-22 13:20:28.823 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.296Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "1f925f88-fef6-4a18-824d-ffa9192b2077",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.823Z",
              "createdAt": "2025-12-22T13:20:28.823Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1f925f88-fef6-4a18-824d-ffa9192b2077",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.823 +00:00",
            "2025-12-22 13:20:28.823 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1f925f88-fef6-4a18-824d-ffa9192b2077",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.823 +00:00",
            "2025-12-22 13:20:28.823 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.298Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "ecc39fae-8ea7-4cdc-9120-53011b143229",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.824Z",
              "createdAt": "2025-12-22T13:20:28.824Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ecc39fae-8ea7-4cdc-9120-53011b143229",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.824 +00:00",
            "2025-12-22 13:20:28.824 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ecc39fae-8ea7-4cdc-9120-53011b143229",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.824 +00:00",
            "2025-12-22 13:20:28.824 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.299Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "ecc39fae-8ea7-4cdc-9120-53011b143229",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.824Z",
              "createdAt": "2025-12-22T13:20:28.824Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ecc39fae-8ea7-4cdc-9120-53011b143229",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.824 +00:00",
            "2025-12-22 13:20:28.824 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ecc39fae-8ea7-4cdc-9120-53011b143229",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.824 +00:00",
            "2025-12-22 13:20:28.824 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.301Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "ef12b730-c080-447e-b7f6-88c0c3b3c890",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.825Z",
              "createdAt": "2025-12-22T13:20:28.825Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef12b730-c080-447e-b7f6-88c0c3b3c890",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.825 +00:00",
            "2025-12-22 13:20:28.825 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef12b730-c080-447e-b7f6-88c0c3b3c890",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.825 +00:00",
            "2025-12-22 13:20:28.825 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.301Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "ef12b730-c080-447e-b7f6-88c0c3b3c890",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.825Z",
              "createdAt": "2025-12-22T13:20:28.825Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef12b730-c080-447e-b7f6-88c0c3b3c890",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.825 +00:00",
            "2025-12-22 13:20:28.825 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef12b730-c080-447e-b7f6-88c0c3b3c890",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.825 +00:00",
            "2025-12-22 13:20:28.825 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.303Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "6d270c9e-ede3-4e18-8c52-d3884b8dae54",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.826Z",
              "createdAt": "2025-12-22T13:20:28.826Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6d270c9e-ede3-4e18-8c52-d3884b8dae54",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.826 +00:00",
            "2025-12-22 13:20:28.826 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6d270c9e-ede3-4e18-8c52-d3884b8dae54",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.826 +00:00",
            "2025-12-22 13:20:28.826 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.303Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "6d270c9e-ede3-4e18-8c52-d3884b8dae54",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.826Z",
              "createdAt": "2025-12-22T13:20:28.826Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6d270c9e-ede3-4e18-8c52-d3884b8dae54",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.826 +00:00",
            "2025-12-22 13:20:28.826 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6d270c9e-ede3-4e18-8c52-d3884b8dae54",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.826 +00:00",
            "2025-12-22 13:20:28.826 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.305Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "47baa1f0-e736-4aeb-b34a-5f5e6a3b364a",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.827Z",
              "createdAt": "2025-12-22T13:20:28.827Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "47baa1f0-e736-4aeb-b34a-5f5e6a3b364a",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.827 +00:00",
            "2025-12-22 13:20:28.827 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "47baa1f0-e736-4aeb-b34a-5f5e6a3b364a",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.827 +00:00",
            "2025-12-22 13:20:28.827 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.306Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "47baa1f0-e736-4aeb-b34a-5f5e6a3b364a",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.827Z",
              "createdAt": "2025-12-22T13:20:28.827Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "47baa1f0-e736-4aeb-b34a-5f5e6a3b364a",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.827 +00:00",
            "2025-12-22 13:20:28.827 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "47baa1f0-e736-4aeb-b34a-5f5e6a3b364a",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.827 +00:00",
            "2025-12-22 13:20:28.827 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.307Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "1fe70607-7171-4f81-8280-0a5752fdea8e",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.828Z",
              "createdAt": "2025-12-22T13:20:28.828Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1fe70607-7171-4f81-8280-0a5752fdea8e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.828 +00:00",
            "2025-12-22 13:20:28.828 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1fe70607-7171-4f81-8280-0a5752fdea8e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.828 +00:00",
            "2025-12-22 13:20:28.828 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.308Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "1fe70607-7171-4f81-8280-0a5752fdea8e",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.828Z",
              "createdAt": "2025-12-22T13:20:28.828Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1fe70607-7171-4f81-8280-0a5752fdea8e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.828 +00:00",
            "2025-12-22 13:20:28.828 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1fe70607-7171-4f81-8280-0a5752fdea8e",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.828 +00:00",
            "2025-12-22 13:20:28.828 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.309Z [[32minfo[39m]: 
Notification created: e2c786c2-33d4-4d16-91b6-02c15af27f4e 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[7487bda9-d695-44b6-93ac-c8d4de148daa] POST 
/api/notifications 201 - 713ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.311Z [[32minfo[39m]: 
Notification created: 44f5b472-0b02-4ed6-b5e1-ab9856b82b8b 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[4274f2a6-84ad-4eef-8c74-c9e922d7c24b] POST 
/api/notifications 201 - 718ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.313Z [[32minfo[39m]: 
Notification created: e8dbc3aa-1e87-4e28-b295-2701c905888f 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[cbd864db-5dde-4515-b519-9ba31cb3ee17] POST 
/api/notifications 201 - 715ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.315Z [[32minfo[39m]: 
Notification created: 80672676-0b40-4c8e-9c79-41c4f5e7f701 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[946a72c5-3dd9-4322-b6a4-1c605e671eed] POST 
/api/notifications 201 - 715ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.316Z [[32minfo[39m]: 
Notification created: d8f178f4-5c06-4acb-9885-410978228a36 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[4f2fc5b9-bc72-440e-b5fe-c8b03c98a40e] POST 
/api/notifications 201 - 717ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.319Z [[32minfo[39m]: 
Notification created: d23fefbf-9c5d-4ffd-9a03-de18f7307da3 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[b358ef46-74d3-4a12-bf25-11a6af5ef365] POST 
/api/notifications 201 - 717ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.321Z [[32minfo[39m]: 
Notification created: ae128ed1-ca83-4940-a28b-10c2f71322a5 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[f9b88046-0e65-4104-96f6-e1b691db4bbd] POST 
/api/notifications 201 - 717ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.323Z [[32minfo[39m]: 
Notification created: b8066dc4-e6f4-488f-aae8-2a971dbf1853 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[f0d14ce9-95f4-4311-b964-08620100db64] POST 
/api/notifications 201 - 718ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.324Z [[32minfo[39m]: 
Notification created: bb5798a2-47ba-4b36-866b-4543a8bd57e8 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[386cc2bd-562a-47a3-a770-5a9b71ac0c6d] POST 
/api/notifications 201 - 719ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.326Z [[32minfo[39m]: 
Notification created: 4ee1fbaa-e355-4c64-b64c-bbdd0bdf59ec 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[7252dd6e-3c4e-4990-b523-b16a6fcb3278] POST 
/api/notifications 201 - 718ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.327Z [[32minfo[39m]: 
Notification created: 1aee0adb-3cac-4bef-b47d-7f30c1844e8b 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[b0485db3-5434-4ce4-b4c7-c93964d09c35] POST 
/api/notifications 201 - 719ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.329Z [[32minfo[39m]: 
Notification created: 5faefdef-3771-4e49-ab08-fc5e2f0afea4 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[f2fe3a86-9e76-4fa7-8b35-9a2749590b4f] POST 
/api/notifications 201 - 721ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.331Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "439abefb-3f7f-4823-ad00-4fce1a3e05b3",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.820Z",
              "createdAt": "2025-12-22T13:20:28.820Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "439abefb-3f7f-4823-ad00-4fce1a3e05b3",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.820 +00:00",
            "2025-12-22 13:20:28.820 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "439abefb-3f7f-4823-ad00-4fce1a3e05b3",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.820 +00:00",
            "2025-12-22 13:20:28.820 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.332Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
            "origin": "DB",
            "instance": {
              "id": "439abefb-3f7f-4823-ad00-4fce1a3e05b3",
              "userId": 
"8233667c-bffb-4f10-964e-e6060d75d54c",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T13:20:28.820Z",
              "createdAt": "2025-12-22T13:20:28.820Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "439abefb-3f7f-4823-ad00-4fce1a3e05b3",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.820 +00:00",
            "2025-12-22 13:20:28.820 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(8233667c-bffb-4f10-964e-e6060d75d54c) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "439abefb-3f7f-4823-ad00-4fce1a3e05b3",
            "8233667c-bffb-4f10-964e-e6060d75d54c",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 13:20:28.820 +00:00",
            "2025-12-22 13:20:28.820 +00:00"
          ]
        },
        "fields": {
          "user_id": "8233667c-bffb-4f10-964e-e6060d75d54c"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.335Z [[32minfo[39m]: 
Notification created: 95ebf09a-40a9-46ed-80ed-551be9146f43 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[6577055d-eb00-48d3-9c57-d5d88df47e4f] POST 
/api/notifications 201 - 747ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.337Z [[32minfo[39m]: 
Notification created: 7ce83fd2-61ed-4d4c-b247-89a5c09c4dcc 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[d4757d06-20fe-4961-8f9d-9b6700b640e3] POST 
/api/notifications 201 - 746ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.338Z [[32minfo[39m]: 
Notification created: ea965c7d-3aaf-4ce6-b932-8b87bb0d1296 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.340Z [[32minfo[39m]: 
Notification created: 3cc347da-0ee6-47e2-98a5-54924c812409 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.341Z [[32minfo[39m]: 
Notification created: 5e2f7c9a-87df-457a-943f-bd8c0239d67f 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[51a84f2f-84c3-4363-b308-f6b0d2242bdd] POST 
/api/notifications 201 - 746ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.346Z [[32minfo[39m]: 
Notification created: 10bf5eed-328a-4b35-be93-e883805d3abe 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.348Z [[32minfo[39m]: 
Notification created: 8c86c837-dfe6-49dc-a849-f81298eca139 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.350Z [[32minfo[39m]: 
Notification created: 68919216-8074-4ba2-b9d4-85b122cb89a6 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.352Z [[32minfo[39m]: 
Notification created: 04f3a5cf-a725-491c-9557-80dff3a324be 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.355Z [[32minfo[39m]: 
Notification created: ab8b59e1-d916-456a-948d-622809206a31 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.357Z [[32minfo[39m]: 
Notification created: ccd022cf-458f-4e89-8d9b-570122bd1cad 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.358Z [[32minfo[39m]: 
Notification created: be3c02df-0a99-48b8-9580-26996a60e3af 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.360Z [[32minfo[39m]: 
Notification created: 4ece4d8b-56dd-4364-9f5b-7a75f30054db 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.361Z [[32minfo[39m]: 
Notification created: 934fca23-c4f4-46e8-afa5-3483077ed314 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.363Z [[32minfo[39m]: 
Notification created: fb373845-ffff-4394-8a24-cb34faa82568 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.364Z [[32minfo[39m]: 
Notification created: a3890a7b-612f-4337-9e9a-a014e71d4f1c 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.366Z [[32minfo[39m]: 
Notification created: 6bf5046d-d76d-4fe7-8ddf-fc79a290c03a 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.367Z [[32minfo[39m]: 
Notification created: 28bd13b5-8eab-4cb3-bb5c-41a9e0018a02 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.368Z [[32minfo[39m]: 
Notification created: 6bf77188-c8fc-4824-8b4b-2d3120e516f6 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.370Z [[32minfo[39m]: 
Notification created: 9554d852-2cd1-453c-b82a-3f324e5ff67f 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.371Z [[32minfo[39m]: 
Notification created: 1c027419-4cb2-4acd-9252-941b8056d146 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.373Z [[32minfo[39m]: 
Notification created: 0261a888-b4e8-498e-9a98-d3011d4bf778 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.374Z [[32minfo[39m]: 
Notification created: 429a02d8-2b0e-46d7-9a93-1673390a4383 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.375Z [[32minfo[39m]: 
Notification created: fdabc1eb-87a8-40ae-ae84-510da23f4e59 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[59c1c23d-753b-4eff-9e95-96f8c998844a] POST 
/api/notifications 201 - 766ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.377Z [[32minfo[39m]: 
Notification created: 225fb302-028c-4c0d-9991-b5bccb8248a9 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.379Z [[32minfo[39m]: 
Notification created: 8e125fe4-0fdd-41a3-b527-711ef1c02a79 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.381Z [[32minfo[39m]: 
Notification created: c90fed30-acb5-48dc-9c33-6e786f72d143 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.382Z [[32minfo[39m]: 
Notification created: a6bfc86b-ffed-42fe-9c02-1e2bb9e3a539 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.383Z [[32minfo[39m]: 
Notification created: 27134695-f2e2-4b3b-868b-750b7b47ba57 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.385Z [[32minfo[39m]: 
Notification created: bd39c27c-74ca-436b-a147-4d5029583578 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.386Z [[32minfo[39m]: 
Notification created: dfcc908c-bf06-4d32-b0aa-d40feffad0d8 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.387Z [[32minfo[39m]: 
Notification created: 3d5f8306-b36e-4694-bea1-fa39861c3f54 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.388Z [[32minfo[39m]: 
Notification created: c6859db8-7374-463b-aa75-39e7c599810c 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.389Z [[32minfo[39m]: 
Notification created: 30114f97-c308-4d1e-b15e-5dcc13589925 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.391Z [[32minfo[39m]: 
Notification created: b2eb974a-2c4e-46a4-83f7-198311fad471 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.392Z [[32minfo[39m]: 
Notification created: 028a368a-95c0-479b-9675-203ba9b55632 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.393Z [[32minfo[39m]: 
Notification created: ea965c7d-3aaf-4ce6-b932-8b87bb0d1296 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[cea39d9c-c18d-4c3d-8330-0867e92124ea] POST 
/api/notifications 201 - 792ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.395Z [[32minfo[39m]: 
Notification created: 10bf5eed-328a-4b35-be93-e883805d3abe 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[bef92a37-be98-4291-b938-1469d9c6a3d2] POST 
/api/notifications 201 - 783ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.397Z [[32minfo[39m]: 
Notification created: 8c86c837-dfe6-49dc-a849-f81298eca139 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[33e9fb6f-a12a-4183-ac6c-25babf2b7873] POST 
/api/notifications 201 - 780ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.398Z [[32minfo[39m]: 
Notification created: 68919216-8074-4ba2-b9d4-85b122cb89a6 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[fef1ff87-508a-4494-a198-771817d75595] POST 
/api/notifications 201 - 778ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.400Z [[32minfo[39m]: 
Notification created: 04f3a5cf-a725-491c-9557-80dff3a324be 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[49737818-530e-46ac-9edf-ab9666b0d7ee] POST 
/api/notifications 201 - 781ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.401Z [[32minfo[39m]: 
Notification created: ab8b59e1-d916-456a-948d-622809206a31 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[e7c88da2-cc92-4972-85e8-2892d10112da] POST 
/api/notifications 201 - 782ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.403Z [[32minfo[39m]: 
Notification created: ccd022cf-458f-4e89-8d9b-570122bd1cad 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[061e0905-80f7-482e-a325-05b3371dc711] POST 
/api/notifications 201 - 780ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.404Z [[32minfo[39m]: 
Notification created: be3c02df-0a99-48b8-9580-26996a60e3af 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[30c50715-53c2-461a-8b82-c08bca00d466] POST 
/api/notifications 201 - 781ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.406Z [[32minfo[39m]: 
Notification created: 4ece4d8b-56dd-4364-9f5b-7a75f30054db 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[cceaa156-f0aa-4e88-91c0-7de8e90dbd89] POST 
/api/notifications 201 - 784ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.407Z [[32minfo[39m]: 
Notification created: 934fca23-c4f4-46e8-afa5-3483077ed314 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[3a727fb4-536d-4640-8c86-69206bb1d49e] POST 
/api/notifications 201 - 783ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.409Z [[32minfo[39m]: 
Notification created: fb373845-ffff-4394-8a24-cb34faa82568 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[5d9261e8-ec5a-4c03-a968-710d5d7dbd81] POST 
/api/notifications 201 - 784ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.410Z [[32minfo[39m]: 
Notification created: a3890a7b-612f-4337-9e9a-a014e71d4f1c 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[fc0b72b0-d9d0-4616-b08c-d521bca5f420] POST 
/api/notifications 201 - 777ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.412Z [[32minfo[39m]: 
Notification created: 6bf5046d-d76d-4fe7-8ddf-fc79a290c03a 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.413Z [[32minfo[39m]: 
Notification created: 28bd13b5-8eab-4cb3-bb5c-41a9e0018a02 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.414Z [[32minfo[39m]: 
Notification created: 6bf77188-c8fc-4824-8b4b-2d3120e516f6 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.416Z [[32minfo[39m]: 
Notification created: 9554d852-2cd1-453c-b82a-3f324e5ff67f 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.417Z [[32minfo[39m]: 
Notification created: 1c027419-4cb2-4acd-9252-941b8056d146 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.419Z [[32minfo[39m]: 
Notification created: 0261a888-b4e8-498e-9a98-d3011d4bf778 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.420Z [[32minfo[39m]: 
Notification created: 429a02d8-2b0e-46d7-9a93-1673390a4383 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.421Z [[32minfo[39m]: 
Notification created: 225fb302-028c-4c0d-9991-b5bccb8248a9 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.423Z [[32minfo[39m]: 
Notification created: 8e125fe4-0fdd-41a3-b527-711ef1c02a79 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.424Z [[32minfo[39m]: 
Notification created: c90fed30-acb5-48dc-9c33-6e786f72d143 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.425Z [[32minfo[39m]: 
Notification created: a6bfc86b-ffed-42fe-9c02-1e2bb9e3a539 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.426Z [[32minfo[39m]: 
Notification created: 27134695-f2e2-4b3b-868b-750b7b47ba57 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.428Z [[32minfo[39m]: 
Notification created: bd39c27c-74ca-436b-a147-4d5029583578 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.429Z [[32minfo[39m]: 
Notification created: dfcc908c-bf06-4d32-b0aa-d40feffad0d8 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.430Z [[32minfo[39m]: 
Notification created: 3d5f8306-b36e-4694-bea1-fa39861c3f54 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T13:20:29.431Z [[32minfo[39m]: 
Notification created: 09d8d4e8-37b7-4ee9-b6ef-25710b199e85 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.433Z [[32minfo[39m]: 
Notification created: 5dce0503-efe9-40e6-bb97-52cdd03c420e 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.435Z [[32minfo[39m]: 
Notification created: e1cf575b-bf37-4ddf-abef-82d0016ec132 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.436Z [[32minfo[39m]: 
Notification created: 8437ed13-3e90-43f0-b75f-971fa8a3491a 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.437Z [[32minfo[39m]: 
Notification created: e6c07b1e-991c-4015-b127-60be29a0d0e3 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T13:20:29.438Z [[32minfo[39m]: 
Notification created: f3e3c5d1-0b1d-4c8a-abb5-5ed42a9759a6 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.439Z [[32minfo[39m]: 
Notification created: 3cc347da-0ee6-47e2-98a5-54924c812409 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.451Z [[32minfo[39m]: 
Notification created: c6859db8-7374-463b-aa75-39e7c599810c 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.452Z [[32minfo[39m]: 
Notification created: 30114f97-c308-4d1e-b15e-5dcc13589925 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.453Z [[32minfo[39m]: 
Notification created: b2eb974a-2c4e-46a4-83f7-198311fad471 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.454Z [[32minfo[39m]: 
Notification created: 028a368a-95c0-479b-9675-203ba9b55632 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.455Z [[32minfo[39m]: 
Notification created: 09d8d4e8-37b7-4ee9-b6ef-25710b199e85 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.455Z [[32minfo[39m]: 
Notification created: 5dce0503-efe9-40e6-bb97-52cdd03c420e 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.456Z [[32minfo[39m]: 
Notification created: e1cf575b-bf37-4ddf-abef-82d0016ec132 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.457Z [[32minfo[39m]: 
Notification created: 8437ed13-3e90-43f0-b75f-971fa8a3491a 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.458Z [[32minfo[39m]: 
Notification created: e6c07b1e-991c-4015-b127-60be29a0d0e3 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T13:20:29.459Z [[32minfo[39m]: 
Notification created: f3e3c5d1-0b1d-4c8a-abb5-5ed42a9759a6 
for user 8233667c-bffb-4f10-964e-e6060d75d54c

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[95fd7480-5a65-4a4d-83e5-4c0918c93eb2] POST 
/api/notifications 201 - 778ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[27b39454-d0fb-4fc4-bcc2-2f5bb3c2a01e] POST 
/api/notifications 201 - 788ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[b5cb8608-b0e4-435a-8391-cb82e4b9d52a] POST 
/api/notifications 201 - 788ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[ff76e7cb-ef97-4bee-8f93-dea245ad25a7] POST 
/api/notifications 201 - 786ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[cc90037c-ba45-4b94-aeaa-63fc9a5feecf] POST 
/api/notifications 201 - 789ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[d0fca239-c933-44b3-9dfd-a44cb73ce13d] POST 
/api/notifications 201 - 791ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[128924e2-b8d9-4886-99de-f521c58772e1] POST 
/api/notifications 201 - 789ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[ba25d9ad-6899-48d8-97d2-1ae576a12460] POST 
/api/notifications 201 - 815ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[650a64a3-48be-4571-8c26-02c801e79b76] POST 
/api/notifications 201 - 811ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[e2f04709-d072-491b-91dc-3e39b0b8fec1] POST 
/api/notifications 201 - 779ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[956c27b4-89d9-4c09-af7a-4e667e7e06e4] POST 
/api/notifications 201 - 813ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[2e8d9ed1-8013-42e8-b386-dc59cb166ef1] POST 
/api/notifications 201 - 812ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[f384ce53-8300-44d1-a20f-9551cb8abafb] POST 
/api/notifications 201 - 810ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[adaf3b32-6715-4660-ad96-beb00e142250] POST 
/api/notifications 201 - 814ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[97b85210-f3c7-471f-858b-ed4225b57647] POST 
/api/notifications 201 - 812ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[558d4a39-3970-48a5-b24d-478c7e787d23] POST 
/api/notifications 201 - 836ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[308b54c9-4657-4a27-8741-4e373c9089cf] POST 
/api/notifications 201 - 820ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[5afd831a-7d09-4691-ad1c-4c25bdebf1fd] POST 
/api/notifications 201 - 819ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[dfe998b2-43e1-4d88-af69-0d3a2e97e62c] POST 
/api/notifications 201 - 816ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[f04eda3b-ae0d-408b-b455-6e51bb40e1e9] POST 
/api/notifications 201 - 818ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[2ce16e13-191b-4ae4-940f-7537fee27ebb] POST 
/api/notifications 201 - 817ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[cd281eaf-ddec-4fe7-bb79-a7fdd94cf0d5] POST 
/api/notifications 201 - 817ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[4d001f2c-8896-4881-807b-4bcbedfae026] POST 
/api/notifications 201 - 817ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[a73cdec9-2c54-45b9-919e-1269a36ca05c] POST 
/api/notifications 201 - 817ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[e759d29c-68d0-4a58-aee7-092714bb132b] POST 
/api/notifications 201 - 815ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 14:20:29] 
[5db32822-2b35-4fce-9ceb-c73678ae69b9] POST 
/api/notifications 201 - 823ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:253:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:302:15)

A worker process has failed to exit gracefully and has 
been force exited. This is likely caused by tests leaking 
due to improper teardown. Try running with 
--detectOpenHandles to find leaks. Active timers can also 
cause this, ensure that .unref() was called on them.

Test Suites: 3 failed, 7 passed, 10 total
Tests:       11 failed, 198 passed, 209 total
Snapshots:   0 total
Time:        32.144 s
Ran all test suites.
Force exiting Jest: Have you considered using 
`--detectOpenHandles` to detect async operations that kept 
running after all tests finished?
