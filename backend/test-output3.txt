
> messenger-backend@1.0.0 test
> cross-env NODE_ENV=test DB_HOST=127.0.0.1 NODE_OPTIONS=--experimental-vm-modules jest

node.exe : (node:33772) ExperimentalWarning: VM Modules is 
an experimental feature and might change at any time
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program 
Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ((node:33772)  
   Ex...nge at any time:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
(Use `node --trace-warnings ...` to show where the warning 
was created)
PASS tests/debug_env.test.js
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T09:58:31.190Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      NODE_ENV: test

      at Object.<anonymous> (tests/debug_env.test.js:5:13)

    console.log
      DB_HOST: 127.0.0.1

      at Object.<anonymous> (tests/debug_env.test.js:6:13)

    console.log
      DATABASE_URL: postgresql://messenger:messenger_passwo
rd@127.0.0.1:5432/messenger

      at Object.<anonymous> (tests/debug_env.test.js:7:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

(node:22552) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:35468) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:1720) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
(node:35240) ExperimentalWarning: VM Modules is an 
experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning 
was created)
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:33 +0000] "GET /api/admin/users HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:34 +0000] "POST /api/auth/register HTTP/1.1" 201 356 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:34 +0000] "GET /api/admin/users HTTP/1.1" 403 117 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:34 +0000] "POST /api/auth/register HTTP/1.1" 409 88 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:34 +0000] "GET /api/admin/users HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:34 +0000] "POST /api/auth/register HTTP/1.1" 409 86 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:35 +0000] "POST /api/auth/register HTTP/1.1" 400 210 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:35 +0000] "POST /api/auth/register HTTP/1.1" 400 342 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:35 +0000] "POST /api/auth/register HTTP/1.1" 400 175 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:35 +0000] "POST /api/auth/register HTTP/1.1" 400 185 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:35 +0000] "GET /api/admin/users HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:35 +0000] "GET /api/admin/users?page=1&limit=3 HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:35 +0000] "POST /api/auth/login HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:36 +0000] "GET /api/admin/users?role=admin HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:36 +0000] "GET /api/admin/users?status=pending HTTP/1.1" 200 148 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:36 +0000] "POST /api/auth/login HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:36 +0000] "GET /api/admin/users/pending HTTP/1.1" 200 137 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:37 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:37 +0000] "PUT /api/admin/users/0baba58b-b7c6-4d4a-998f-5813edd75bff/approve HTTP/1.1" 200 314 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:38 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:38 +0000] "POST /api/auth/login HTTP/1.1" 403 135 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:39 +0000] "PUT /api/admin/users/446e02d3-a975-4e6e-af41-714b4dc3bdb7/approve HTTP/1.1" 200 314 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:39 +0000] "POST /api/auth/login HTTP/1.1" 403 136 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:40 +0000] "PUT /api/admin/users/65443ed2-1dcc-4bb0-aa60-98f661951156/reject HTTP/1.1" 200 366 "-" "-"
FAIL tests/notification-settings.test.js (12.453 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T09:58:31.226Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:31.539Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:34.448Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:34.883Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:35.287Z [[32minfo[39m]: 
Notification settings updated for user 
f8895248-d4ea-4679-8843-1e176bcea4ee

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.295Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:35.734Z [[31merror[39m]: Update 
user notification settings service error: Invalid field: 
invalidField
      {
        "stack": "Error: Invalid field: invalidField\n    
at NotificationSettingsService.validateSettingsUpdate (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:377:15)\n    at 
NotificationSettingsService.updateUserSettings (C:\\messeng
er\\backend\\src\\services\\notificationSettingsService.js:
52:12)\n    at Object.<anonymous> (C:\\messenger\\backend\\
tests\\notification-settings.test.js:174:37)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.741Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:36.181Z [[32minfo[39m]: 
Notification settings updated for user 
ce219004-3ad7-40f0-b9e5-47eaffc5e8ae

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:36.191Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:36.604Z [[32minfo[39m]: 
Notification settings cache cleared

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:38.321Z [[32minfo[39m]: 
Notification settings retrieved for user 
testuser1766397517897

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒöö Emitting WebSocket event: 
notification-settings:updated to userId: 
c51ab607-1a09-4b04-8650-b3549a2429c7

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:430:15)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:438:25)
      at NotificationSettingsController.updateSettings 
(src/controllers/notificationSettingsController.js:133:7)
      at Object.<anonymous> 
(tests/notification-settings.test.js:298:7)

    console.log
      Γ£à WebSocket event emitted successfully: 
notification-settings:updated

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:439:17)

    console.log
      2025-12-22T09:58:38.760Z [[32minfo[39m]: 
Notification settings updated for user 
testuser1766397518325

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒöö Emitting WebSocket event: 
notification-settings:reset to userId: 
6ba62e4d-9dda-488e-b2d8-cc055e4307d4

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:430:15)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:438:25)
      at NotificationSettingsController.resetSettings 
(src/controllers/notificationSettingsController.js:198:7)
      at Object.<anonymous> 
(tests/notification-settings.test.js:318:7)

    console.log
      Γ£à WebSocket event emitted successfully: 
notification-settings:reset

      at NotificationSettingsController.emitSettingsUpdate 
(src/controllers/notificationSettingsController.js:439:17)

    console.log
      2025-12-22T09:58:39.171Z [[32minfo[39m]: 
Notification settings reset to defaults for user 
testuser1766397518762

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:39.556Z [[32minfo[39m]: 
Notification settings preview generated for user 
testuser1766397519173

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:40.004Z [[31merror[39m]: Update 
notification settings error: Validation error: Quiet hours 
start must be in HH:MM format
      {
        "name": "SequelizeValidationError",
        "errors": [
          {
            "message": "Quiet hours start must be in HH:MM 
format",
            "type": "Validation error",
            "path": "quietHoursStart",
            "value": "25:00",
            "origin": "FUNCTION",
            "instance": {
              "id": "fb975b0e-e595-40a4-a6fc-406d3e139570",
              "userId": 
"f4e8fcdc-88b4-40dd-8389-b1721ca5bacc",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "quietHoursStart": "25:00",
              "quietHoursEnd": "17:00",
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "createdAt": "2025-12-22T08:58:39.995Z",
              "updatedAt": "2025-12-22T09:58:40.003Z"
            },
            "validatorKey": "isValidTime",
            "validatorName": null,
            "validatorArgs": [],
            "original": {}
          }
        ],
        "stack": "SequelizeValidationError: Validation 
error: Quiet hours start must be in HH:MM format\n    at 
InstanceValidator._validate (C:\\messenger\\backend\\node_m
odules\\sequelize\\src\\instance-validator.js:78:13)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
InstanceValidator._validateAndRunHooks (C:\\messenger\\back
end\\node_modules\\sequelize\\src\\instance-validator.js:11
1:7)\n    at InstanceValidator.validate (C:\\messenger\\bac
kend\\node_modules\\sequelize\\src\\instance-validator.js:9
3:12)\n    at model.save (C:\\messenger\\backend\\node_modu
les\\sequelize\\src\\model.js:4077:7)\n    at model.update 
(C:\\messenger\\backend\\node_modules\\sequelize\\src\\mode
l.js:4343:12)\n    at 
NotificationSettingsController.updateSettings (C:\\messenge
r\\backend\\src\\controllers\\notificationSettingsControlle
r.js:130:31)\n    at Object.<anonymous> (C:\\messenger\\bac
kend\\tests\\notification-settings.test.js:366:7)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:40.417Z [[32minfo[39m]: 
Notification settings updated for user 
1ba1a8d5-a9db-480f-ad31-7ee396a021b4

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:40.428Z [[32minfo[39m]: 
Notification settings reset to defaults for user 
1ba1a8d5-a9db-480f-ad31-7ee396a021b4

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

  ΓùÅ NotificationSettings ΓÇ║ Model ΓÇ║ should check if 
user should receive notification correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 109 |[39m
     [90m 110 |[39m       [90m// Should receive message 
notification[39m
    [31m[1m>[22m[39m[90m 111 |[39m       expect(setti
ngs[33m.[39mshouldReceiveNotification([32m'message'[39m
[33m,[39m [32m'inApp'[39m))[33m.[39mtoBe([36mtrue[3
9m)[33m;[39m
     [90m     |[39m                                      
                                [31m[1m^[22m[39m
     [90m 112 |[39m
     [90m 113 |[39m       [90m// Should not receive 
call notification[39m
     [90m 114 |[39m       expect(settings[33m.[39mshoul
dReceiveNotification([32m'call'[39m[33m,[39m [32m'inAp
p'[39m))[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/notification-settings.test.js:111:70)

::ffff:127.0.0.1 - - [22/Dec/2025:09:58:41 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:41 +0000] "PUT /api/admin/users/bdd67195-02db-4372-ab92-d0c9837ccb89/deactivate HTTP/1.1" 200 218 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:41 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:41 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:42 +0000] "PUT /api/admin/users/58eb280d-f878-425b-8a2c-fa41651d7816/deactivate HTTP/1.1" 403 156 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:43 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:43 +0000] "PUT /api/admin/users/2daf3a72-3ef0-4a12-a8e5-ae6aca096f73/reactivate HTTP/1.1" 200 215 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:43 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:43 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:44 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:44 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:44 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:44 +0000] "GET /api/admin/audit-logs HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:44 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:44 +0000] "POST /api/auth/login HTTP/1.1" 423 107 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:45 +0000] "GET /api/admin/audit-logs?action=user_approve HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:45 +0000] "POST /api/auth/logout HTTP/1.1" 200 46 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:45 +0000] "POST /api/auth/logout HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:45 +0000] "GET /api/admin/audit-logs?startDate=2025-12-22T09:58:45.567Z&endDate=2025-12-22T09:58:45.567Z HTTP/1.1" 400 56 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:45 +0000] "POST /api/auth/refresh HTTP/1.1" 200 995 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:45 +0000] "POST /api/auth/refresh HTTP/1.1" 401 95 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:45 +0000] "GET /api/notifications HTTP/1.1" 200 908 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:46 +0000] "GET /api/admin/reports HTTP/1.1" 200 141 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:46 +0000] "POST /api/auth/forgot-password HTTP/1.1" 200 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:46 +0000] "POST /api/auth/forgot-password HTTP/1.1" 200 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:46 +0000] "POST /api/auth/forgot-password HTTP/1.1" 400 175 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:46 +0000] "GET /api/notifications?read=false HTTP/1.1" 200 549 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:46 +0000] "GET /api/admin/reports?status=pending HTTP/1.1" 200 141 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:46 +0000] "GET /api/notifications?type=message HTTP/1.1" 200 549 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:47 +0000] "POST /api/auth/reset-password HTTP/1.1" 200 93 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:47 +0000] "GET /api/notifications?page=1&limit=1 HTTP/1.1" 200 548 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:47 +0000] "GET /api/notifications HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:47 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 321 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:47 +0000] "PUT /api/admin/reports/fa25e0b8-b304-4fd9-8b23-70fbd19a9151/resolve HTTP/1.1" 400 55 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:47 +0000] "GET /api/notifications?limit=150 HTTP/1.1" 400 207 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:47 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 321 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:48 +0000] "GET /api/admin/announcements HTTP/1.1" 200 26 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:48 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:48 +0000] "GET /api/notifications/unread-count HTTP/1.1" 401 87 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:48 +0000] "POST /api/auth/reset-password HTTP/1.1" 400 416 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:48 +0000] "POST /api/admin/announcements HTTP/1.1" 400 51 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:48 +0000] "PUT /api/notifications/23cf3b25-9e0f-4a4e-8f58-5b33ee355ca7/read HTTP/1.1" 200 444 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:48 +0000] "POST /api/admin/announcements HTTP/1.1" 400 49 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:48 +0000] "PUT /api/notifications/7562f29b-6589-4772-b18e-8e429ae74470/read HTTP/1.1" 200 450 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:49 +0000] "PUT /api/notifications/550e8400-e29b-41d4-a716-446655440000/read HTTP/1.1" 404 111 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:49 +0000] "PUT /api/admin/announcements/5fa9d81f-b431-4096-b9d2-d0b6545faabd HTTP/1.1" 400 55 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:49 +0000] "PUT /api/notifications/invalid-id/read HTTP/1.1" 400 216 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:50 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 200 99 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:50 +0000] "DELETE /api/admin/announcements/06c8427c-cde2-457a-b2d2-f87fac50b44d HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:50 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 200 112 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:51 +0000] "GET /api/admin/export/audit-logs/csv HTTP/1.1" 500 54 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:51 +0000] "PUT /api/notifications/mark-all-read HTTP/1.1" 400 204 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:51 +0000] "GET /api/admin/export/reports/csv HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:51 +0000] "DELETE /api/notifications/4cdd0d80-9186-4793-8f1c-65cf566abb1d HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:51 +0000] "GET /api/admin/export/statistics/csv HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "DELETE /api/notifications/550e8400-e29b-41d4-a716-446655440000 HTTP/1.1" 404 111 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "DELETE /api/notifications/invalid-id HTTP/1.1" 400 216 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "GET /api/admin/settings HTTP/1.1" 500 80 "-" "-"
PASS tests/auth.test.js (24.484 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T09:58:31.226Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.407Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.417Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.418Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.430Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      2025-12-22T09:58:33.652Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:34] 
[f07562ae-423d-4d1b-8b00-5a94b3280045] POST 
/api/auth/register 201 - 459ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:34.528Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:34] 
[5b872c7e-9a6f-4088-8b0c-8e8cda230ce6] POST 
/api/auth/register 409 - 8ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:34.990Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:34] 
[511cbd3f-d684-4afb-86c4-adbd1c3e5315] POST 
/api/auth/register 409 - 7ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.014Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:35] 
[1f5a5811-0993-4f1e-9270-f6c09dff59b9] POST 
/api/auth/register 400 - 3ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.028Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:35] 
[9c12303e-9515-4c1d-982a-dd9a7cf3f208] POST 
/api/auth/register 400 - 2ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.038Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:35] 
[8ef92e3f-f3e5-41f7-8a6d-eab69b22196f] POST 
/api/auth/register 400 - 2ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.047Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:35] 
[51b1ec08-cb77-4ea1-bc3b-7be36372c267] POST 
/api/auth/register 400 - 2ms - POST /api/auth/register

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.471Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:35.937Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at login (C
:\\messenger\\backend\\src\\controllers\\authController.js:
236:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:35.938Z [[32minfo[39m]: User 
logged in: logintest (login@example.com)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:35.966Z [[32minfo[39m]: Audit 
service initialized successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:35.974Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"4d8e8e7a-8185-43b2-97eb-3b87bcb7656f",
        "userId": "e7d07e3a-40e5-4e14-9e0f-183b295209b4",
        "action": "user_login",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:35] 
[a3281ed8-016e-4ae2-b970-9c71eed2d243] POST 
/api/auth/login 200 - 506ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:36.375Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:36.776Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at login (C
:\\messenger\\backend\\src\\controllers\\authController.js:
236:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:36.777Z [[32minfo[39m]: User 
logged in: logintest (login@example.com)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:36.782Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"b0326303-f85b-4b9d-a29c-c17742f6f247",
        "userId": "46f59dce-8527-4ec8-97cd-174a635139ce",
        "action": "user_login",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:36] 
[798ed29f-acdb-4a84-8e84-bd3cfe64be4f] POST 
/api/auth/login 200 - 410ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:37.213Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:37.643Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"0655bd05-c78f-4976-9eed-4184bc1774fc",
        "userId": "c6d70eee-ba5b-4259-ac12-24d701879897",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:37] 
[98ff457e-439c-4e9c-acdf-d2936a736910] POST 
/api/auth/login 401 - 432ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:38.095Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:38.105Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"8509417e-92c6-4c99-ac7f-4495f7085906",
        "userId": null,
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:38] 
[8f2ada41-5729-4434-8fe0-8b80bb649f5b] POST 
/api/auth/login 401 - 12ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:38.975Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:38] 
[f7709f8f-834d-42c1-a50d-8c5419f8beff] POST 
/api/auth/login 403 - 6ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:39.809Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:39] 
[948cb9fe-d9d8-4e89-a71b-d0b9dc8b56a0] POST 
/api/auth/login 403 - 6ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:40.602Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:41.111Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"79c3bd8a-fb04-4d8a-9ea2-a14abbcbf5ce",
        "userId": "e351d3d3-432d-4699-a5a1-4ac806c9cea4",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:41] 
[29108f55-a80a-43f3-80b1-7b32fe1b2693] POST 
/api/auth/login 401 - 510ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:41.119Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:41.562Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"8a202ce4-2d15-40dd-ba64-e849ac849fbe",
        "userId": "e351d3d3-432d-4699-a5a1-4ac806c9cea4",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:41] 
[11bd6d5e-eac6-4b5a-8896-ee4b8bec64cc] POST 
/api/auth/login 401 - 444ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:41.570Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:41.986Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"475a9052-4582-4691-a2f6-1fbca6c6e427",
        "userId": "e351d3d3-432d-4699-a5a1-4ac806c9cea4",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:41] 
[087d7ca8-0c7b-4252-b642-de6d18d77ccb] POST 
/api/auth/login 401 - 419ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:42.865Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:43.258Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"e5c935e9-cedf-4433-be99-7072b78a8f3e",
        "userId": "5221c1f4-e208-4963-93b8-aa0621f2e60f",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:43] 
[20dfc9ad-da75-4a0c-ad5a-f73fed3c6cb3] POST 
/api/auth/login 401 - 395ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:43.268Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:43.698Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"80bdb845-7f3c-4a19-92c5-2c4be2a11de1",
        "userId": "5221c1f4-e208-4963-93b8-aa0621f2e60f",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:43] 
[7d680041-d3f0-481f-81e6-a93eb58dd61c] POST 
/api/auth/login 401 - 432ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:43.707Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:44.130Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"d6213e5b-5c80-4c31-912c-456c5c86d405",
        "userId": "5221c1f4-e208-4963-93b8-aa0621f2e60f",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:44] 
[7cb73106-f00b-4738-8ca5-f6577cbd012e] POST 
/api/auth/login 401 - 425ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:44.137Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:44.541Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"b1b61a48-52f6-4d85-903c-eec27fd3ef7b",
        "userId": "5221c1f4-e208-4963-93b8-aa0621f2e60f",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:44] 
[01e42e33-60d3-470b-86fe-a4299d6084b3] POST 
/api/auth/login 401 - 405ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:44.550Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:44.981Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"1a1e1987-936f-4a3e-bf9e-14c0f7a7b967",
        "userId": "5221c1f4-e208-4963-93b8-aa0621f2e60f",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:44] 
[06acb69a-4b07-4c75-9580-cd37f16b3de9] POST 
/api/auth/login 401 - 432ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:44.992Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:44] 
[b1eec818-1268-4b69-9aff-20b03c80775d] POST 
/api/auth/login 423 - 5ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:45.413Z [[32minfo[39m]: 
Authentication successful for user: logoutuser 
(2e0fb8eb-e406-45b1-b97b-dd62da49fb4a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:45.421Z [[31merror[39m]: Failed 
to remove session from Redis: Redis client not 
initialized. Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.removeSessionFromRedis (C:\\messenger\\backend\
\src\\controllers\\authController.js:1159:21)\n    at 
logout (C:\\messenger\\backend\\src\\controllers\\authContr
oller.js:429:30)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:45.422Z [[32minfo[39m]: User 
logged out: logoutuser
      {
        "userId": "2e0fb8eb-e406-45b1-b97b-dd62da49fb4a"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:45.428Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"8fe698bc-c483-47eb-973a-f130b8d4b79f",
        "userId": "2e0fb8eb-e406-45b1-b97b-dd62da49fb4a",
        "action": "user_logout",
        "severity": "low",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:45] 
[65dbf168-2ea4-4e41-bf46-8844b294eb55] POST 
/api/auth/logout 200 - 21ms - POST /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      [2025-12-22 10:58:45] 
[7931be8e-5051-4ce3-8c51-f1107ff8f3b5] POST 
/api/auth/logout 401 - 1ms - POST /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:45.860Z [[31merror[39m]: Failed 
to store session in Redis: Redis client not initialized. 
Call initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at Function.storeSessionInRedis (C:\\messenger\\backend\\sr
c\\controllers\\authController.js:1134:21)\n    at 
refreshToken (C:\\messenger\\backend\\src\\controllers\\aut
hController.js:356:30)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:45.860Z [[32minfo[39m]: Token 
refreshed for user: refreshtest

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:45] 
[09ff6f00-cfdc-428d-b275-8676f067117f] POST 
/api/auth/refresh 200 - 13ms - POST /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      [2025-12-22 10:58:45] 
[8bbb4277-f5c2-4837-a2f2-ce845d64e025] POST 
/api/auth/refresh 401 - 3ms - POST /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:46.263Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:46.274Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendPasswordReset (C:\\messenger\\backend\\src
\\services\\emailService.js:153:17)\n    at forgotPassword 
(C:\\messenger\\backend\\src\\controllers\\authController.j
s:651:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:46.275Z [[31merror[39m]: Failed 
to send password reset email: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendPasswordReset (C:\\messenger\\backend\\src
\\services\\emailService.js:153:17)\n    at forgotPassword 
(C:\\messenger\\backend\\src\\controllers\\authController.j
s:651:28)\n    at processTicksAndRejections 
(node:internal/process/task_queues:105:5)"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:46] 
[2b1846d9-75d4-45be-be89-aa980d25e8e1] POST 
/api/auth/forgot-password 200 - 14ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:46.294Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:46] 
[b0a4171d-d26c-44fe-b701-ed639b0d57ed] POST 
/api/auth/forgot-password 200 - 5ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:46.310Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:46] 
[a2f337ae-b976-45ac-8845-9f77cee58470] POST 
/api/auth/forgot-password 400 - 2ms - POST 
/api/auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:46.715Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:47.120Z [[31merror[39m]: Failed 
to add password to history:

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:47] 
[96382019-eda7-4cfa-9051-a3c6e16da1bc] POST 
/api/auth/reset-password 200 - 446ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:47.535Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:47] 
[3f5e5dac-afcb-4072-9b6c-120fe3bd5875] POST 
/api/auth/reset-password 400 - 2ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:47.928Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:47] 
[b97284a4-afed-4a64-9298-b18920b38f9f] POST 
/api/auth/reset-password 400 - 2ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:48.315Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:48] 
[cb9ec4f0-8101-4c9e-8219-80c8d5bddb98] POST 
/api/auth/reset-password 400 - 2ms - POST 
/api/auth/reset-password

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:48.800Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.803Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.806Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.810Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.816Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.820Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.824Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.830Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.833Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.845Z [[31merror[39m]: Redis 
rate limit error: Redis client not initialized. Call 
initializeRedis() first.
      {
        "stack": "Error: Redis client not initialized. 
Call initializeRedis() first.\n    at getRedisClient 
(C:\\messenger\\backend\\src\\config\\redis.js:90:11)\n    
at RedisStore.increment (C:\\messenger\\backend\\src\\middl
eware\\auth.js:234:21)\n    at C:\\messenger\\backend\\node
_modules\\express-rate-limit\\dist\\index.mjs:570:59\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at C:\\messe
nger\\backend\\node_modules\\express-rate-limit\\dist\\inde
x.mjs:550:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.811Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"0dedee3d-cc9e-4273-8ed6-6ce6a7d7d974",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[d6bd5ee9-904f-4554-8868-a6df0f2cb17b] POST 
/api/auth/login 401 - 4009ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.818Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"75276db1-3a27-475b-9309-9184e4dcb174",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[356f2194-ad1b-493d-8e02-8db5f7428c0a] POST 
/api/auth/login 401 - 4013ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.828Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"44729a8d-2f03-4c17-8a2f-2ea0d0073beb",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/auth/login HTTP/1.1" 401 103 "-" "-"
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[072fcaee-2424-4cf2-969d-b6a470dcdb8f] POST 
/api/auth/login 401 - 4020ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.839Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"ddaa2f85-1c7e-49e2-a116-e76968f7dd0e",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[431adce6-6f51-4299-9040-27dbd891cbc8] POST 
/api/auth/login 401 - 4041ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.843Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"feb4d393-4f32-4c8d-869b-ead0723c4619",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[e0dbce0f-5253-4265-86db-c220fc6dcb95] POST 
/api/auth/login 401 - 4029ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.847Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"0ed6ac76-9264-495c-a788-4f20541e3c44",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[a48fc490-c682-47d8-9818-0fd89e20476e] POST 
/api/auth/login 401 - 4025ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.851Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"bcfed80e-3746-49d2-b102-1e1ebe151c32",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[7f9fa0ca-e44b-45a1-9880-98049a42f7c4] POST 
/api/auth/login 401 - 4024ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.857Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"98827849-cb89-4583-891d-9d7d09ac2aff",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[8117ae4b-6cc9-4bb4-9ada-1dc743b934d1] POST 
/api/auth/login 401 - 4039ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.864Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"18ef6d54-3f20-4523-ba3c-cd37fc0f26c0",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[963d2780-d784-4104-8ecd-7dc9ca72feda] POST 
/api/auth/login 401 - 4021ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.869Z [[32minfo[39m]: Auth 
event logged
      {
        "auditLogId": 
"0d66bed1-a61f-42ea-8647-67c2c2a73a4a",
        "userId": "582e7dfb-c4f9-46cf-8387-84662f7374bf",
        "action": "user_login_failed",
        "severity": "medium",
        "status": "failure"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[5e7b26ac-612b-4dab-83ba-a6a773f79098] POST 
/api/auth/login 401 - 4037ms - POST /api/auth/login

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

::ffff:127.0.0.1 - - [22/Dec/2025:09:58:52 +0000] "POST /api/notifications HTTP/1.1" 201 489 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:53 +0000] "PUT /api/admin/settings HTTP/1.1" 500 80 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:53 +0000] "POST /api/notifications HTTP/1.1" 400 466 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:53 +0000] "PUT /api/admin/users/99999/approve HTTP/1.1" 400 88 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:53 +0000] "POST /api/notifications HTTP/1.1" 400 204 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:54 +0000] "POST /api/notifications HTTP/1.1" 400 209 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:54 +0000] "PUT /api/admin/users/84e1f257-cb01-4e8b-8334-b54aad7d0d06/approve HTTP/1.1" 400 57 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:55 +0000] "POST /api/admin/announcements HTTP/1.1" 400 64 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:55 +0000] "POST /api/notifications/cleanup HTTP/1.1" 200 89 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:55 +0000] "GET /api/admin/users?limit=100 HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:55 +0000] "POST /api/notifications/cleanup HTTP/1.1" 403 84 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/admin/stats HTTP/1.1" 200 632 "-" "-"
FAIL tests/admin-api.test.js (27.831 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T09:58:31.212Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.421Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.431Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.432Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.443Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      [2025-12-22 10:58:33] 
[f4748933-904a-4a61-b9ba-d07fcbae37b8] GET 
/api/admin/users 401 - 14ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:34.157Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397513684ccl3z 
(7380078a-7fe9-47e6-8d44-e5094c46b70b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:34] 
[2054c4b2-9d41-4932-98f6-2ac64ac7341d] GET 
/api/admin/users 403 - 22ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:34.611Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975142003ssp49 
(6a792a8c-f7e9-4e9c-936e-9416d694b203)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:34.629Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"97519b8c-27da-49d7-abaa-1230fbc10785",
        "adminId": "6a792a8c-f7e9-4e9c-936e-9416d694b203",
        "totalUsers": 211,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:34] 
[97519b8c-27da-49d7-abaa-1230fbc10785] GET 
/api/admin/users 200 - 28ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.077Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397514657anwlav 
(e5fff171-e399-4897-b715-46b29e3250f9)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:35.090Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"81a26ba8-faa9-4b39-a25d-a07d2d012fea",
        "adminId": "e5fff171-e399-4897-b715-46b29e3250f9",
        "totalUsers": 211,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:35] 
[81a26ba8-faa9-4b39-a25d-a07d2d012fea] GET 
/api/admin/users 200 - 19ms - GET /api/admin/users

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:35.596Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397515137c1u2vi 
(095365bf-e5e7-4933-9dda-6b03b509e892)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:35.605Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"2e498d67-ed4e-4b53-9851-61b108b7dad0",
        "adminId": "095365bf-e5e7-4933-9dda-6b03b509e892",
        "totalUsers": 212,
        "page": 1,
        "limit": 3,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:35] 
[2e498d67-ed4e-4b53-9851-61b108b7dad0] GET 
/api/admin/users?page=1&limit=3 200 - 16ms - GET 
/api/admin/users?page=1&limit=3

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:36.037Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397515624xtwwae 
(c88033bc-4786-423b-90bb-6dae483c020f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:36.048Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"d7546a0b-3d8c-45a7-850a-a312a0d364a6",
        "adminId": "c88033bc-4786-423b-90bb-6dae483c020f",
        "totalUsers": 61,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:36] 
[d7546a0b-3d8c-45a7-850a-a312a0d364a6] GET 
/api/admin/users?role=admin 200 - 18ms - GET 
/api/admin/users?role=admin

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:36.454Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397516071j153nu 
(0bd8f057-bde2-4f64-82ed-2916bd85751a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:36.461Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"00e9d901-ac14-428e-b0c7-c0f248c32064",
        "adminId": "0bd8f057-bde2-4f64-82ed-2916bd85751a",
        "totalUsers": 0,
        "page": 1,
        "limit": 20,
        "status": "pending",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:36] 
[00e9d901-ac14-428e-b0c7-c0f248c32064] GET 
/api/admin/users?status=pending 200 - 13ms - GET 
/api/admin/users?status=pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:36.903Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397516477v3by 
(e9eeade8-7693-44b4-8358-154976e109d2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:36.908Z [[32minfo[39m]: Pending 
users retrieved successfully
      {
        "requestId": 
"52bc55b5-bcca-48ca-8ce6-384c34040e5a",
        "adminId": "e9eeade8-7693-44b4-8358-154976e109d2",
        "totalUsers": 0,
        "page": 1,
        "limit": 20,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:36] 
[52bc55b5-bcca-48ca-8ce6-384c34040e5a] GET 
/api/admin/users/pending 200 - 11ms - GET 
/api/admin/users/pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:37.792Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397516924u8v38a 
(092f0b76-35e4-40aa-9082-1e594637574f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:37.834Z [[32minfo[39m]: Audit 
service initialized successfully

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:37.841Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"2e171256-9330-48ca-af40-e8db7384ce78",
        "adminId": "092f0b76-35e4-40aa-9082-1e594637574f",
        "action": "user_approve",
        "resource": "user",
        "resourceId": 
"0baba58b-b7c6-4d4a-998f-5813edd75bff",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:37.847Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserApprovalEmail (C:\\messenger\\backend\
\src\\services\\emailService.js:201:17)\n    at 
AdminController.approveUser (C:\\messenger\\backend\\src\\c
ontrollers\\adminController.js:257:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:160:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:37.848Z [[31merror[39m]: Failed 
to send approval email
      {
        "requestId": 
"b2d78e5e-0bdf-4f12-a591-a20b5856ea27",
        "userId": "0baba58b-b7c6-4d4a-998f-5813edd75bff",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:37.849Z [[32minfo[39m]: User 
approved successfully
      {
        "requestId": 
"b2d78e5e-0bdf-4f12-a591-a20b5856ea27",
        "userId": "0baba58b-b7c6-4d4a-998f-5813edd75bff",
        "approvedBy": 
"092f0b76-35e4-40aa-9082-1e594637574f",
        "adminNotes": "Approved after manual review",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:37] 
[b2d78e5e-0bdf-4f12-a591-a20b5856ea27] PUT /api/admin/users
/0baba58b-b7c6-4d4a-998f-5813edd75bff/approve 200 - 62ms - 
PUT /api/admin/users/0baba58b-b7c6-4d4a-998f-5813edd75bff/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:39.054Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397518212kibc48 
(929699bd-3b21-44d2-bb6e-bc02dd35ae68)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:39.066Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"161a2315-a924-4dd5-b48c-47f9a3788d45",
        "adminId": "929699bd-3b21-44d2-bb6e-bc02dd35ae68",
        "action": "user_approve",
        "resource": "user",
        "resourceId": 
"446e02d3-a975-4e6e-af41-714b4dc3bdb7",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:39.070Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserApprovalEmail (C:\\messenger\\backend\
\src\\services\\emailService.js:201:17)\n    at 
AdminController.approveUser (C:\\messenger\\backend\\src\\c
ontrollers\\adminController.js:257:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:160:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:39.070Z [[31merror[39m]: Failed 
to send approval email
      {
        "requestId": 
"24b8e017-0205-48e2-b0f4-823fa3d834bb",
        "userId": "446e02d3-a975-4e6e-af41-714b4dc3bdb7",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:39.071Z [[32minfo[39m]: User 
approved successfully
      {
        "requestId": 
"24b8e017-0205-48e2-b0f4-823fa3d834bb",
        "userId": "446e02d3-a975-4e6e-af41-714b4dc3bdb7",
        "approvedBy": 
"929699bd-3b21-44d2-bb6e-bc02dd35ae68",
        "adminNotes": "Test approval log",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:39] 
[24b8e017-0205-48e2-b0f4-823fa3d834bb] PUT /api/admin/users
/446e02d3-a975-4e6e-af41-714b4dc3bdb7/approve 200 - 21ms - 
PUT /api/admin/users/446e02d3-a975-4e6e-af41-714b4dc3bdb7/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:40.212Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397519360dcnwjj 
(dac67181-933d-48ef-bcfa-ddd3ff39ceb6)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:40.229Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"f3e1a5e8-c198-4654-a4a0-ee6838440061",
        "adminId": "dac67181-933d-48ef-bcfa-ddd3ff39ceb6",
        "action": "user_reject",
        "resource": "user",
        "resourceId": 
"65443ed2-1dcc-4bb0-aa60-98f661951156",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:40.232Z [[31merror[39m]: Failed 
to initialize email service: nodemailer.createTransporter 
is not a function
      {
        "stack": "TypeError: nodemailer.createTransporter 
is not a function\n    at EmailService.initialize (C:\\mess
enger\\backend\\src\\services\\emailService.js:43:37)\n    
at EmailService.sendEmail (C:\\messenger\\backend\\src\\ser
vices\\emailService.js:58:18)\n    at 
EmailService.sendUserRejectionEmail (C:\\messenger\\backend
\\src\\services\\emailService.js:222:17)\n    at 
AdminController.rejectUser (C:\\messenger\\backend\\src\\co
ntrollers\\adminController.js:527:28)\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:215:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:40.233Z [[31merror[39m]: Failed 
to send rejection email
      {
        "requestId": 
"dbae3302-bd45-4124-b3d2-ed3f04850cb3",
        "userId": "65443ed2-1dcc-4bb0-aa60-98f661951156",
        "error": "nodemailer.createTransporter is not a 
function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:40.234Z [[32minfo[39m]: User 
rejected successfully
      {
        "requestId": 
"dbae3302-bd45-4124-b3d2-ed3f04850cb3",
        "userId": "65443ed2-1dcc-4bb0-aa60-98f661951156",
        "rejectedBy": 
"dac67181-933d-48ef-bcfa-ddd3ff39ceb6",
        "reason": "Incomplete profile information",
        "adminNotes": "User did not provide required 
information",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:40] 
[dbae3302-bd45-4124-b3d2-ed3f04850cb3] PUT /api/admin/users
/65443ed2-1dcc-4bb0-aa60-98f661951156/reject 200 - 27ms - 
PUT /api/admin/users/65443ed2-1dcc-4bb0-aa60-98f661951156/r
eject

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:41.496Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397520522xez4o4 
(de698578-ff14-4d52-9c4c-447d51a345fb)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:41.511Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"6959e094-f12c-4c4d-b295-359cac0c11d8",
        "adminId": "de698578-ff14-4d52-9c4c-447d51a345fb",
        "action": "user_deactivate",
        "resource": "user",
        "resourceId": 
"bdd67195-02db-4372-ab92-d0c9837ccb89",
        "severity": "high",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:41.515Z [[31merror[39m]: Failed 
to send deactivation email
      {
        "requestId": 
"18f4812f-f11e-4269-8b7c-eae38d6758b3",
        "userId": "bdd67195-02db-4372-ab92-d0c9837ccb89",
        "error": "emailService.sendUserDeactivationEmail 
is not a function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:41.515Z [[32minfo[39m]: User 
deactivated successfully
      {
        "requestId": 
"18f4812f-f11e-4269-8b7c-eae38d6758b3",
        "userId": "bdd67195-02db-4372-ab92-d0c9837ccb89",
        "deactivatedBy": 
"de698578-ff14-4d52-9c4c-447d51a345fb",
        "reason": "Policy violation",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:41] 
[18f4812f-f11e-4269-8b7c-eae38d6758b3] PUT /api/admin/users
/bdd67195-02db-4372-ab92-d0c9837ccb89/deactivate 200 - 
25ms - PUT /api/admin/users/bdd67195-02db-4372-ab92-d0c9837
ccb89/deactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:42.395Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397521537bodci8 
(515090c8-5a63-4747-9e7b-c7b4983df05e)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:42.406Z [[33mwarn[39m]: Attempt 
to deactivate last admin
      {
        "requestId": 
"1fa52b78-caec-4753-9756-d675d39417d3",
        "adminId": "515090c8-5a63-4747-9e7b-c7b4983df05e",
        "targetUserId": 
"58eb280d-f878-425b-8a2c-fa41651d7816"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:42] 
[1fa52b78-caec-4753-9756-d675d39417d3] PUT /api/admin/users
/58eb280d-f878-425b-8a2c-fa41651d7816/deactivate 403 - 
16ms - PUT /api/admin/users/58eb280d-f878-425b-8a2c-fa41651
d7816/deactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:43.244Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397522426nhlqb 
(a84f78c2-eda6-471f-b67f-aedc1211e5d2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:43.258Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"cd54fca2-0191-41b5-ad72-11b210eb7bd1",
        "adminId": "a84f78c2-eda6-471f-b67f-aedc1211e5d2",
        "action": "user_reactivate",
        "resource": "user",
        "resourceId": 
"2daf3a72-3ef0-4a12-a8e5-ae6aca096f73",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:43.262Z [[31merror[39m]: Failed 
to send reactivation email
      {
        "requestId": 
"fed74620-fb6f-441b-97da-0f3e6e86847b",
        "userId": "2daf3a72-3ef0-4a12-a8e5-ae6aca096f73",
        "error": "emailService.sendUserReactivationEmail 
is not a function"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:43.263Z [[32minfo[39m]: User 
reactivated successfully
      {
        "requestId": 
"fed74620-fb6f-441b-97da-0f3e6e86847b",
        "userId": "2daf3a72-3ef0-4a12-a8e5-ae6aca096f73",
        "reactivatedBy": 
"a84f78c2-eda6-471f-b67f-aedc1211e5d2",
        "adminNotes": "User has been reviewed and 
reactivated",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:43] 
[fed74620-fb6f-441b-97da-0f3e6e86847b] PUT /api/admin/users
/2daf3a72-3ef0-4a12-a8e5-ae6aca096f73/reactivate 200 - 
24ms - PUT /api/admin/users/2daf3a72-3ef0-4a12-a8e5-ae6aca0
96f73/reactivate

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:43.718Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397523287ggpvxb 
(3b88a2d5-3235-4147-aad4-9f9a3c659102)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:43.772Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"2a1951cd-1eb4-4a26-af5f-aa5410850dc4",
        "adminId": "3b88a2d5-3235-4147-aad4-9f9a3c659102",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:43] 
[2a1951cd-1eb4-4a26-af5f-aa5410850dc4] GET 
/api/admin/stats 200 - 60ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:44.202Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397523791ml4wav 
(897130e2-698f-4fc0-83ee-cf3819683511)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:44.241Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"d9036a42-2659-43bc-93ff-d83b5bbaefed",
        "adminId": "897130e2-698f-4fc0-83ee-cf3819683511",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:44] 
[d9036a42-2659-43bc-93ff-d83b5bbaefed] GET 
/api/admin/stats 200 - 44ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:44.670Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176639752425995nf6 
(f7892e50-0b5c-408b-b632-b86896e74bb7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:44.692Z [[32minfo[39m]: Audit 
logs retrieved successfully
      {
        "requestId": 
"d150cc50-cd31-4218-a806-a98d197473a9",
        "adminId": "f7892e50-0b5c-408b-b632-b86896e74bb7",
        "totalLogs": 448,
        "filters": {},
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:44] 
[d150cc50-cd31-4218-a806-a98d197473a9] GET 
/api/admin/audit-logs 200 - 32ms - GET 
/api/admin/audit-logs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:45.147Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397524716bv5hz9 
(bfd4cc54-15bd-4aa3-8801-d2ef40d9cc42)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:45.157Z [[32minfo[39m]: Audit 
logs retrieved successfully
      {
        "requestId": 
"802ae355-e86c-4e5c-9fda-5d0de96a16ff",
        "adminId": "bfd4cc54-15bd-4aa3-8801-d2ef40d9cc42",
        "totalLogs": 37,
        "filters": {
          "action": "user_approve"
        },
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:45] 
[802ae355-e86c-4e5c-9fda-5d0de96a16ff] GET 
/api/admin/audit-logs?action=user_approve 200 - 17ms - GET 
/api/admin/audit-logs?action=user_approve

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:45.576Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397525174lloh71n 
(de3c0b8b-bc29-431e-b5e8-7a167e7192b3)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:45] 
[367ee249-271a-4d15-b945-eaebb95e87f7] GET /api/admin/audit
-logs?startDate=2025-12-22T09:58:45.567Z&endDate=2025-12-22
T09:58:45.567Z 400 - 8ms - GET /api/admin/audit-logs?startD
ate=2025-12-22T09:58:45.567Z&endDate=2025-12-22T09:58:45.56
7Z

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:45.996Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397525592supyvs 
(c7ebfe5c-b5f3-472a-bf1e-8c2dec1d7c10)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:46.005Z [[32minfo[39m]: Reports 
retrieved successfully
      {
        "requestId": 
"dfebe183-4443-484b-9007-bf83cf6b5b46",
        "adminId": "c7ebfe5c-b5f3-472a-bf1e-8c2dec1d7c10",
        "totalReports": 0,
        "filters": {},
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:46] 
[dfebe183-4443-484b-9007-bf83cf6b5b46] GET 
/api/admin/reports 200 - 14ms - GET /api/admin/reports

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:46.426Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397526020ieo88g 
(407da83c-4726-44ca-bd64-991198bf64f7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:46.435Z [[32minfo[39m]: Reports 
retrieved successfully
      {
        "requestId": 
"70a01944-f631-4568-a138-6bff4d4d80da",
        "adminId": "407da83c-4726-44ca-bd64-991198bf64f7",
        "totalReports": 0,
        "filters": {
          "status": "pending"
        },
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:46] 
[70a01944-f631-4568-a138-6bff4d4d80da] GET 
/api/admin/reports?status=pending 200 - 14ms - GET 
/api/admin/reports?status=pending

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:47.591Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975264482420i 
(d43b2e05-1a8c-42be-a31c-72463d51d331)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:47] 
[20a7ef21-70c3-4b03-bb2b-7ce430c9a5e3] PUT /api/admin/repor
ts/fa25e0b8-b304-4fd9-8b23-70fbd19a9151/resolve 400 - 12ms 
- PUT /api/admin/reports/fa25e0b8-b304-4fd9-8b23-70fbd19a91
51/resolve

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:48.014Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397527617a992w 
(7b82b016-28a6-4f47-9dda-88d2d3b44a25)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:48] 
[14ad6b1f-152c-4c45-88d8-f37c2b59e5ba] GET 
/api/admin/announcements 200 - 7ms - GET 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:48.425Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397528031evdb5g 
(67cb97f1-14d4-4526-af0b-cf479c55dc1c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:48] 
[cd74770b-3ea3-4496-a00c-3e3acedfd735] POST 
/api/admin/announcements 400 - 10ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:48.888Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397528446636wt5 
(30dc74f4-69b0-4867-8f26-71be198ac7ba)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:48] 
[7bf71633-f299-405b-b03c-c265e402bfee] POST 
/api/admin/announcements 400 - 8ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:49.680Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397528903gqw4ym 
(ec9b0779-c685-42e0-970b-078f22a951f7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:49] 
[2e7f922d-df28-4a0d-8b08-a971f8afa7db] PUT /api/admin/annou
ncements/5fa9d81f-b431-4096-b9d2-d0b6545faabd 400 - 11ms - 
PUT /api/admin/announcements/5fa9d81f-b431-4096-b9d2-d0b654
5faabd

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:50.533Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975297054dugei 
(f85f3464-8a31-463e-9ab2-62f8fde27b46)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:50.547Z [[32minfo[39m]: Admin 
action logged
      {
        "auditLogId": 
"a9d68810-881b-4e2a-bdf3-78b061ab5c16",
        "adminId": "f85f3464-8a31-463e-9ab2-62f8fde27b46",
        "action": "announcement_delete",
        "resource": "announcement",
        "resourceId": 
"06c8427c-cde2-457a-b2d2-f87fac50b44d",
        "severity": "medium",
        "status": "success"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:50.551Z [[32minfo[39m]: 
Announcement deleted successfully
      {
        "requestId": 
"605594bf-2656-4a8a-91d3-4ae0e5f6b077",
        "adminId": "f85f3464-8a31-463e-9ab2-62f8fde27b46",
        "announcementId": 
"06c8427c-cde2-457a-b2d2-f87fac50b44d",
        "title": "Test Announcement to Delete",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:50] 
[605594bf-2656-4a8a-91d3-4ae0e5f6b077] DELETE /api/admin/an
nouncements/06c8427c-cde2-457a-b2d2-f87fac50b44d 200 - 
24ms - DELETE /api/admin/announcements/06c8427c-cde2-457a-b
2d2-f87fac50b44d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:51.022Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397530574vb2w3 
(46fcba00-fefc-423f-a91e-29fa50d1750b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:51.027Z [[31merror[39m]: Failed 
to load export service
      {
        "requestId": 
"29891ba5-bfe6-46ca-9b7a-bdbbc34997b2",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:51] 
[29891ba5-bfe6-46ca-9b7a-bdbbc34997b2] GET 
/api/admin/export/audit-logs/csv 500 - 12ms - GET 
/api/admin/export/audit-logs/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:51.471Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397531045f4uuk 
(523bacc2-05e3-48b4-bdfa-89ad43bc4f1a)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:51.474Z [[31merror[39m]: Error 
exporting reports to CSV
      {
        "requestId": 
"c3fbbb7b-9c38-43f5-acef-82787f435fc1",
        "adminId": "523bacc2-05e3-48b4-bdfa-89ad43bc4f1a",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'",
        "stack": "Error: Cannot find module 
'./exportService.js' from 
'src/controllers/adminController.js'\n    at 
Resolver._throwModNotFoundError (C:\\messenger\\backend\\no
de_modules\\jest-resolve\\build\\resolver.js:427:11)\n    
at Resolver.resolveModuleAsync (C:\\messenger\\backend\\nod
e_modules\\jest-resolve\\build\\resolver.js:374:10)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
Resolver.getModuleIDAsync (C:\\messenger\\backend\\node_mod
ules\\jest-resolve\\build\\resolver.js:558:26)\n    at 
Runtime._shouldMockModule (C:\\messenger\\backend\\node_mod
ules\\jest-runtime\\build\\index.js:1776:22)\n    at 
Runtime.resolveModule (C:\\messenger\\backend\\node_modules
\\jest-runtime\\build\\index.js:667:7)\n    at 
importModuleDynamically (C:\\messenger\\backend\\node_modul
es\\jest-runtime\\build\\index.js:524:30)\n    at 
importModuleDynamicallyWrapper 
(node:internal/vm/module:443:15)\n    at 
AdminController.exportReportsCSV (C:\\messenger\\backend\\s
rc\\controllers\\adminController.js:1997:29)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:860:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:51] 
[c3fbbb7b-9c38-43f5-acef-82787f435fc1] GET 
/api/admin/export/reports/csv 500 - 10ms - GET 
/api/admin/export/reports/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:51.945Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975314912hovl 
(80ec60dd-4fd7-4e93-983f-3a39691738a8)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:51.946Z [[31merror[39m]: Error 
exporting statistics to CSV
      {
        "requestId": 
"9b5fe1aa-5a2f-4fa8-9250-935770f9fb47",
        "adminId": "80ec60dd-4fd7-4e93-983f-3a39691738a8",
        "error": "Cannot find module './exportService.js' 
from 'src/controllers/adminController.js'",
        "stack": "Error: Cannot find module 
'./exportService.js' from 
'src/controllers/adminController.js'\n    at 
Resolver._throwModNotFoundError (C:\\messenger\\backend\\no
de_modules\\jest-resolve\\build\\resolver.js:427:11)\n    
at Resolver.resolveModuleAsync (C:\\messenger\\backend\\nod
e_modules\\jest-resolve\\build\\resolver.js:374:10)\n    
at processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
Resolver.getModuleIDAsync (C:\\messenger\\backend\\node_mod
ules\\jest-resolve\\build\\resolver.js:558:26)\n    at 
Runtime._shouldMockModule (C:\\messenger\\backend\\node_mod
ules\\jest-runtime\\build\\index.js:1776:22)\n    at 
Runtime.resolveModule (C:\\messenger\\backend\\node_modules
\\jest-runtime\\build\\index.js:667:7)\n    at 
importModuleDynamically (C:\\messenger\\backend\\node_modul
es\\jest-runtime\\build\\index.js:524:30)\n    at 
importModuleDynamicallyWrapper 
(node:internal/vm/module:443:15)\n    at 
AdminController.exportStatisticsCSV (C:\\messenger\\backend
\\src\\controllers\\adminController.js:2084:29)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:936:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:51] 
[9b5fe1aa-5a2f-4fa8-9250-935770f9fb47] GET 
/api/admin/export/statistics/csv 500 - 6ms - GET 
/api/admin/export/statistics/csv

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:52.349Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397531959t1fjis 
(1acde7a4-b61c-4e3b-9b57-a867218c1315)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.627Z [[31merror[39m]: Error 
retrieving system settings
      {
        "requestId": 
"6054dac0-7524-45aa-9357-a06194ce3288",
        "adminId": "1acde7a4-b61c-4e3b-9b57-a867218c1315",
        "error": "column \"key\" does not exist",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.select (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:1001:12)\n    at Function.findAll (C:\\messenger\\bac
kend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    
at AdminController.getSystemSettings (C:\\messenger\\backen
d\\src\\controllers\\adminController.js:2243:26)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:1055:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[6054dac0-7524-45aa-9357-a06194ce3288] GET 
/api/admin/settings 500 - 283ms - GET /api/admin/settings

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:53.081Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397532641af4fyl 
(25e10154-e6cd-4c72-9842-576cffe201b8)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:53.361Z [[31merror[39m]: Error 
updating system settings
      {
        "requestId": 
"44ffd635-c863-47e3-8954-2e93f4eaf57e",
        "adminId": "25e10154-e6cd-4c72-9842-576cffe201b8",
        "error": "current transaction is aborted, commands 
ignored until end of transaction block",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.bulkInsert (C:\\messenger\\backend\\
node_modules\\sequelize\\src\\dialects\\abstract\\query-int
erface.js:881:21)\n    at recursiveBulkCreate (C:\\messenge
r\\backend\\node_modules\\sequelize\\src\\model.js:2851:25)
\n    at Function.bulkCreate (C:\\messenger\\backend\\node_
modules\\sequelize\\src\\model.js:2977:12)\n    at 
AdminController.updateSystemSettings (C:\\messenger\\backen
d\\src\\controllers\\adminController.js:2378:7)\n    at 
C:\\messenger\\backend\\src\\routes\\admin.js:1149:5"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:53] 
[44ffd635-c863-47e3-8954-2e93f4eaf57e] PUT 
/api/admin/settings 500 - 285ms - PUT /api/admin/settings

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:53.782Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397533376fz6q3a 
(d655d83f-d1ea-4781-862f-fa3ab5d8dfa7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:53.786Z [[33mwarn[39m]: Invalid 
userId format in approveUser
      {
        "requestId": 
"123381c3-e1e9-43b7-8a9b-3c72e34f3b8d",
        "userId": "99999",
        "adminId": "d655d83f-d1ea-4781-862f-fa3ab5d8dfa7",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:53] 
[123381c3-e1e9-43b7-8a9b-3c72e34f3b8d] PUT 
/api/admin/users/99999/approve 400 - 11ms - PUT 
/api/admin/users/99999/approve

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:54.562Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397533803ai0ulb 
(c677b819-3c6b-4c79-ac9d-9e59c98cb159)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:54.569Z [[33mwarn[39m]: User 
approval attempted on non-pending user
      {
        "requestId": 
"bdf44941-b5f0-484a-816a-845d2a73e7bb",
        "userId": "84e1f257-cb01-4e8b-8334-b54aad7d0d06",
        "currentStatus": "approved",
        "adminId": "c677b819-3c6b-4c79-ac9d-9e59c98cb159",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:54] 
[bdf44941-b5f0-484a-816a-845d2a73e7bb] PUT /api/admin/users
/84e1f257-cb01-4e8b-8334-b54aad7d0d06/approve 400 - 12ms - 
PUT /api/admin/users/84e1f257-cb01-4e8b-8334-b54aad7d0d06/a
pprove

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:55.028Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397534589p0m9he 
(0fcb4fc4-f1aa-4c87-8f93-adbe1f10fce0)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:55] 
[3e7d897c-8d35-4892-9762-24609a1e254d] POST 
/api/admin/announcements 400 - 9ms - POST 
/api/admin/announcements

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:55.408Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535048k46chm 
(e60aa9dd-b0c0-4b94-9bb3-93caf5f7d33f)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.427Z [[32minfo[39m]: All users 
retrieved successfully
      {
        "requestId": 
"93e8b1bc-f921-4592-9912-749871936b5b",
        "adminId": "e60aa9dd-b0c0-4b94-9bb3-93caf5f7d33f",
        "totalUsers": 219,
        "page": 1,
        "limit": 100,
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:55] 
[93e8b1bc-f921-4592-9912-749871936b5b] GET 
/api/admin/users?limit=100 200 - 27ms - GET 
/api/admin/users?limit=100

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:55.883Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.885Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.891Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.894Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.895Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.900Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.902Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.907Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.909Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.912Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975354513ukhgm 
(4ad1f03a-fd64-49d2-8622-7296a6e626f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.068Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"21ca60e0-99f5-486b-989e-7c664d13fa5c",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[21ca60e0-99f5-486b-989e-7c664d13fa5c] GET 
/api/admin/stats 200 - 192ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.076Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"70bdf928-9980-46b1-bb90-017f05676bff",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[70bdf928-9980-46b1-bb90-017f05676bff] GET 
/api/admin/stats 200 - 204ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.082Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"122d629c-78d3-4b0b-9428-c719c75ca44b",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[122d629c-78d3-4b0b-9428-c719c75ca44b] GET 
/api/admin/stats 200 - 232ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.086Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"d1224869-9dad-4dcb-98ab-401fb7c38c2c",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[d1224869-9dad-4dcb-98ab-401fb7c38c2c] GET 
/api/admin/stats 200 - 225ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.089Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"05ab5ce0-71fb-4285-a0a1-99c376a18f44",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[05ab5ce0-71fb-4285-a0a1-99c376a18f44] GET 
/api/admin/stats 200 - 230ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.094Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"7df0f637-66ec-4602-94ae-7264df9abd89",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[7df0f637-66ec-4602-94ae-7264df9abd89] GET 
/api/admin/stats 200 - 229ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.098Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"19750e10-6e91-4d00-bfef-35c918864460",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[19750e10-6e91-4d00-bfef-35c918864460] GET 
/api/admin/stats 200 - 230ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.100Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"23758f70-1e51-421b-b6c1-3048c6e2fe78",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[23758f70-1e51-421b-b6c1-3048c6e2fe78] GET 
/api/admin/stats 200 - 245ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.104Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"c530c2e9-aaf8-4775-97ec-07b6b8134bf6",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[c530c2e9-aaf8-4775-97ec-07b6b8134bf6] GET 
/api/admin/stats 200 - 226ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.107Z [[32minfo[39m]: System 
statistics retrieved successfully
      {
        "requestId": 
"084af3bb-b3cf-43c7-94d2-195711eca9a4",
        "adminId": "4ad1f03a-fd64-49d2-8622-7296a6e626f2",
        "ip": "::ffff:127.0.0.1"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[084af3bb-b3cf-43c7-94d2-195711eca9a4] GET 
/api/admin/stats 200 - 255ms - GET /api/admin/stats

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

  ΓùÅ Admin API Tests ΓÇ║ Admin Statistics ΓÇ║ GET 
/api/admin/stats ΓÇ║ should get system statistics

    expect(received).toHaveProperty(path)

    Expected path: "rejected"
    Received path: []

    Received value: {"active": 221, "approved": 221, 
"byStatus": [{"count": 221, "status": "approved"}], 
"online": 0, "pending": 0, "total": 221}

    [0m [90m 294 |[39m         expect(stats[33m.[39mus
ers)[33m.[39mtoHaveProperty([32m'pending'[39m)[33m;[3
9m
     [90m 295 |[39m         expect(stats[33m.[39musers)
[33m.[39mtoHaveProperty([32m'approved'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 296 |[39m         expect(sta
ts[33m.[39musers)[33m.[39mtoHaveProperty([32m'rejected
'[39m)[33m;[39m
     [90m     |[39m                             
[31m[1m^[22m[39m
     [90m 297 |[39m         
     [90m 298 |[39m         [90m// Check response time 
is reasonable[39m
     [90m 299 |[39m         expect(responseTime)[33m.[3
9mtoBeLessThan([35m2000[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:296:29)

  ΓùÅ Admin API Tests ΓÇ║ Admin Audit Logs ΓÇ║ GET 
/api/admin/audit-logs ΓÇ║ should support date range 
filtering

    expected 200 "OK", got 400 "Bad Request"

    [0m [90m 361 |[39m           [33m.[39m[36mget[39
m([32m`/api/admin/audit-logs?startDate=${today}&endDate=${
today}`[39m)
     [90m 362 |[39m           [33m.[39m[36mset[39m([
32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 363 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 364 |[39m
     [90m 365 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 366 |[39m       })[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:363:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Reports ΓÇ║ PUT 
/api/admin/reports/{reportId}/resolve ΓÇ║ should resolve a 
report

    expected 200 "OK", got 400 "Bad Request"

    [0m [90m 425 |[39m             
adminNotes[33m:[39m [32m'User has been warned about 
behavior'[39m
     [90m 426 |[39m           })
    [31m[1m>[22m[39m[90m 427 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 428 |[39m
     [90m 429 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 430 |[39m         expect(response[33m.[39mbod
y[33m.[39mdata[33m.[39mreport[33m.[39mstatus)[33m.[
39mtoBe([32m'resolved'[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:427:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Announcements ΓÇ║ GET 
/api/admin/announcements ΓÇ║ should get all announcements

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 447 |[39m
     [90m 448 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
    [31m[1m>[22m[39m[90m 449 |[39m         expect(res
ponse[33m.[39mbody[33m.[39mdata[33m.[39mannouncements
)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                      
            [31m[1m^[22m[39m
     [90m 450 |[39m         expect([33mArray[39m[33m.
[39misArray(response[33m.[39mbody[33m.[39mdata[33m.[3
9mannouncements))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 451 |[39m         
     [90m 452 |[39m         [90m// Check announcement 
structure[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:449:50)

  ΓùÅ Admin API Tests ΓÇ║ Admin Announcements ΓÇ║ POST 
/api/admin/announcements ΓÇ║ should create a new 
announcement

    expected 201 "Created", got 400 "Bad Request"

    [0m [90m 477 |[39m           [33m.[39m[36mset[39
m([32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
     [90m 478 |[39m           
[33m.[39msend(announcementData)
    [31m[1m>[22m[39m[90m 479 |[39m           
[33m.[39mexpect([35m201[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 480 |[39m
     [90m 481 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 482 |[39m         expect(response[33m.[39mbod
y[33m.[39mdata[33m.[39mannouncement[33m.[39mtitle)[3
3m.[39mtoBe(announcementData[33m.[39mtitle)[33m;[39m[
0m

      at Object.<anonymous> 
(tests/admin-api.test.js:479:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Announcements ΓÇ║ PUT 
/api/admin/announcements/{announcementId} ΓÇ║ should 
update an announcement

    expected 200 "OK", got 400 "Bad Request"

    [0m [90m 522 |[39m           [33m.[39m[36mset[39
m([32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
     [90m 523 |[39m           [33m.[39msend(updateData)
    [31m[1m>[22m[39m[90m 524 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 525 |[39m
     [90m 526 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 527 |[39m         expect(response[33m.[39mbod
y[33m.[39mdata[33m.[39mannouncement[33m.[39mtitle)[3
3m.[39mtoBe(updateData[33m.[39mtitle)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:524:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Export Functions ΓÇ║ GET 
/api/admin/export/audit-logs/csv ΓÇ║ should export audit 
logs as CSV

    expected 200 "OK", got 500 "Internal Server Error"

    [0m [90m 564 |[39m           [33m.[39m[36mget[39
m([32m'/api/admin/export/audit-logs/csv'[39m)
     [90m 565 |[39m           [33m.[39m[36mset[39m([
32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 566 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 567 |[39m
     [90m 568 |[39m         expect(response[33m.[39mhea
ders[[32m'content-type'[39m])[33m.[39mtoContain([32m't
ext/csv'[39m)[33m;[39m
     [90m 569 |[39m         expect(response[33m.[39mhea
ders[[32m'content-disposition'[39m])[33m.[39mtoContain(
[32m'attachment'[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:566:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Export Functions ΓÇ║ GET 
/api/admin/export/reports/csv ΓÇ║ should export reports as 
CSV

    expected 200 "OK", got 500 "Internal Server Error"

    [0m [90m 578 |[39m           [33m.[39m[36mget[39
m([32m'/api/admin/export/reports/csv'[39m)
     [90m 579 |[39m           [33m.[39m[36mset[39m([
32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 580 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 581 |[39m
     [90m 582 |[39m         expect(response[33m.[39mhea
ders[[32m'content-type'[39m])[33m.[39mtoContain([32m't
ext/csv'[39m)[33m;[39m
     [90m 583 |[39m         expect(response[33m.[39mhea
ders[[32m'content-disposition'[39m])[33m.[39mtoContain(
[32m'attachment'[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:580:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin Export Functions ΓÇ║ GET 
/api/admin/export/statistics/csv ΓÇ║ should export 
statistics as CSV

    expected 200 "OK", got 500 "Internal Server Error"

    [0m [90m 592 |[39m           [33m.[39m[36mget[39
m([32m'/api/admin/export/statistics/csv'[39m)
     [90m 593 |[39m           [33m.[39m[36mset[39m([
32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 594 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 595 |[39m
     [90m 596 |[39m         expect(response[33m.[39mhea
ders[[32m'content-type'[39m])[33m.[39mtoContain([32m't
ext/csv'[39m)[33m;[39m
     [90m 597 |[39m         expect(response[33m.[39mhea
ders[[32m'content-disposition'[39m])[33m.[39mtoContain(
[32m'attachment'[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:594:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin System Settings ΓÇ║ GET 
/api/admin/settings ΓÇ║ should get system settings

    expected 200 "OK", got 500 "Internal Server Error"

    [0m [90m 607 |[39m           
[33m.[39m[36mget[39m([32m'/api/admin/settings'[39m)
     [90m 608 |[39m           [33m.[39m[36mset[39m([
32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 609 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 610 |[39m
     [90m 611 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 612 |[39m         expect(response[33m.[39mbod
y[33m.[39mdata[33m.[39msettings)[33m.[39mtoBeDefined(
)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:609:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Admin System Settings ΓÇ║ PUT 
/api/admin/settings ΓÇ║ should update system settings

    expected 200 "OK", got 500 "Internal Server Error"

    [0m [90m 627 |[39m           [33m.[39m[36mset[39
m([32m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
     [90m 628 |[39m           
[33m.[39msend(settingsData)
    [31m[1m>[22m[39m[90m 629 |[39m           
[33m.[39mexpect([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 630 |[39m
     [90m 631 |[39m         expect(response[33m.[39mbod
y[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[
39m
     [90m 632 |[39m         expect(response[33m.[39mbod
y[33m.[39mdata[33m.[39msettings[33m.[39msiteName)[33
m.[39mtoBe(settingsData[33m.[39msiteName)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:629:12)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

  ΓùÅ Admin API Tests ΓÇ║ Error Handling ΓÇ║ should handle 
non-existent user ID

    expected 404 "Not Found", got 400 "Bad Request"

    [0m [90m 641 |[39m         
[33m.[39mput([32m'/api/admin/users/99999/approve'[39m)
     [90m 642 |[39m         [33m.[39m[36mset[39m([32
m'Authorization'[39m[33m,[39m 
adminAuth[33m.[39mauthHeader)
    [31m[1m>[22m[39m[90m 643 |[39m         
[33m.[39mexpect([35m404[39m)[33m;[39m
     [90m     |[39m          [31m[1m^[22m[39m
     [90m 644 |[39m
     [90m 645 |[39m       expect(response[33m.[39mbody
[33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[33m;[3
9m
     [90m 646 |[39m       expect(response[33m.[39mbody
[33m.[39merror[33m.[39mtype)[33m.[39mtoBe([32m'NOT_FO
UND'[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/admin-api.test.js:643:10)
      ----
      at Test._assertStatus 
(node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction 
(node_modules/supertest/lib/test.js:285:13)
      at Test.assert 
(node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert 
(node_modules/supertest/lib/test.js:120:14)

::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "POST /api/notifications HTTP/1.1" 201 460 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/notifications HTTP/1.1" 200 - "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "PUT /api/notifications/16b1584a-f05c-43b9-b2b1-9f252924c6f3/read HTTP/1.1" 200 454 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 41 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "DELETE /api/notifications/16b1584a-f05c-43b9-b2b1-9f252924c6f3 HTTP/1.1" 200 62 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:56 +0000] "GET /api/notifications HTTP/1.1" 200 908 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:57 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
::ffff:127.0.0.1 - - [22/Dec/2025:09:58:58 +0000] "POST /api/notifications HTTP/1.1" 201 451 "-" "-"
FAIL tests/notification.test.js (29.9 s)
  ΓùÅ Console

    console.log
      ≡ƒöì Database config: {
        host: '127.0.0.1',
        port: 5432,
        database: 'messenger',
        username: 'messenger',
        dialect: 'postgres'
      }

      at src/config/database.js:43:11

    console.log
      Γ£à Sequelize instance created for test environment

      at src/config/database.js:51:11

    console.log
      2025-12-22T09:58:31.200Z [[32minfo[39m]: Firebase 
Admin SDK initialized with environment variables

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.023Z [[32minfo[39m]: 
Notification settings cache cleanup initialized

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.025Z [[32minfo[39m]: Auto 
cleanup for expired notifications started

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.428Z [[32minfo[39m]: Queue 
service initialized with retry logic and scheduled jobs

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:33.449Z [[32minfo[39m]: Data 
retention job scheduled.

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒôÜ Swagger UI will be available at /api-docs

      at src/app.js:186:11

    console.log
      Γ£à Test database connected

      at initializeTestDatabase (tests/setup.js:39:13)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:42.510Z [[32minfo[39m]: 
Notification created: 9eea2998-974b-4419-8418-67b8eef5cdcb 
for user 6bac40dd-772d-4d13-b270-b65f9d4510c3

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:43.334Z [[32minfo[39m]: 
Notification ef98a08e-e461-4a08-9977-506cd44c6637 marked 
as read by user a9a1b570-381d-4b3d-b52b-1265987b8d68

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:43.759Z [[32minfo[39m]: 
Notification created: c8dcc590-8998-449c-8162-3f495b3f3276 
for user f805f420-2963-47bd-8700-36e06343c246

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:44.177Z [[32minfo[39m]: 
Notification 7d211ab5-a44c-4c7c-b566-1af513d993ec marked 
as read by user 93e6323d-3631-4588-9e1d-db05bc226db3

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:44.598Z [[32minfo[39m]: All 
notifications marked as read for user 
9dcd574d-e43a-455f-98fa-fdc1671945bb. Affected: 2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:45.051Z [[32minfo[39m]: 
Notification 13d4ba57-3350-4546-87ad-8dd50f9f5376 deleted 
by user c2314ecd-2556-43fd-a7d9-f985762d6b41

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:45.896Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397525469cg34c 
(ea49d895-0de1-45de-a343-65ac9b891d15)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:45.906Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766397525469cg34c: 2 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:45] 
[53f861e2-b3c4-4850-8b66-a8b6560146cf] GET 
/api/notifications 200 - 29ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:46.343Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397525933q9adup 
(a1f1e4e9-8130-4c05-9916-115198f90acb)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:46.352Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766397525933q9adup: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:46] 
[ae975550-0fb7-4440-a516-ce18f1021b4e] GET 
/api/notifications?read=false 200 - 15ms - GET 
/api/notifications?read=false

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:46.782Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975263657uqcz 
(cab56767-eccf-4986-9384-4fd9c1bc1ae5)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:46.788Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser17663975263657uqcz: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:46] 
[4b2cd97f-069b-4c7f-b55e-ff8e7cf3d5d2] GET 
/api/notifications?type=message 200 - 12ms - GET 
/api/notifications?type=message

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:47.211Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975268030w4v5 
(c488b128-20f0-4781-b66f-16c7c178f7a7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:47.217Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser17663975268030w4v5: 1 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:47] 
[9fc9c67f-3099-49eb-996f-c3aea758bbc3] GET 
/api/notifications?page=1&limit=1 200 - 12ms - GET 
/api/notifications?page=1&limit=1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      [2025-12-22 10:58:47] 
[67f6aa09-775f-4355-b83f-8e2f4dadfc32] GET 
/api/notifications 401 - 1ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:47.622Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397527243sc8ut 
(c15c3d56-f781-434f-a4f3-4b221254f0e7)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:47] 
[f4cdc81d-2788-4bd3-9df4-373a642c4653] GET 
/api/notifications?limit=150 400 - 6ms - GET 
/api/notifications?limit=150

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:48.059Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397527651l368bq 
(c5f65433-504c-4e83-8504-217fbc2568e4)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.063Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766397527651l368bq: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:48] 
[3aaf221c-60b9-4a3c-ad14-4b10821138cf] GET 
/api/notifications/unread-count 200 - 10ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      [2025-12-22 10:58:48] 
[9f8ee091-0b4f-454a-91c6-fb0016c94199] GET 
/api/notifications/unread-count 401 - 0ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:48.492Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397528085vyp2vz 
(8c477847-4961-403a-9a79-24d6dbc13009)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:48.529Z [[32minfo[39m]: 
Notification 23cf3b25-9e0f-4a4e-8f58-5b33ee355ca7 marked 
as read by user 8c477847-4961-403a-9a79-24d6dbc13009

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:161:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:166:7)

    console.log
      2025-12-22T09:58:48.537Z [[32minfo[39m]: 
Notification 23cf3b25-9e0f-4a4e-8f58-5b33ee355ca7 marked 
as read by user testuser1766397528085vyp2vz

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:48] 
[d79f4e9a-2691-4177-b166-c13910e86133] PUT /api/notificatio
ns/23cf3b25-9e0f-4a4e-8f58-5b33ee355ca7/read 200 - 51ms - 
PUT /api/notifications/23cf3b25-9e0f-4a4e-8f58-5b33ee355ca7
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:48.985Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397528553ayhuyf 
(d8352c93-8989-4d40-8292-5b9aac16fc36)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:48] 
[0fead8a5-2dff-480c-9008-18243e9f7671] PUT /api/notificatio
ns/7562f29b-6589-4772-b18e-8e429ae74470/read 200 - 13ms - 
PUT /api/notifications/7562f29b-6589-4772-b18e-8e429ae74470
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:49.393Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397529007ubmk9 
(bacddf50-5dbb-480d-a505-2a64e3b5ecf5)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:49] 
[1319d628-0687-458c-8965-4f67eb3a7354] PUT /api/notificatio
ns/550e8400-e29b-41d4-a716-446655440000/read 404 - 12ms - 
PUT /api/notifications/550e8400-e29b-41d4-a716-446655440000
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:49.805Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397529413rvfxz 
(412ca9a1-1bb1-420c-9f77-6064c2445bf2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:49] 
[14157e36-2800-4516-82c6-2b900e4795c0] PUT 
/api/notifications/invalid-id/read 400 - 6ms - PUT 
/api/notifications/invalid-id/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:50.240Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397529823nwt3yo 
(fb0f4556-3aee-4cf4-8fff-f307e0003631)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:50.250Z [[32minfo[39m]: All 
notifications marked as read for user 
fb0f4556-3aee-4cf4-8fff-f307e0003631. Affected: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAllAsRead 
(src/controllers/notificationController.js:225:7)

    console.log
      2025-12-22T09:58:50.255Z [[32minfo[39m]: All 
notifications marked as read for user 
testuser1766397529823nwt3yo. Affected rows: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:50] 
[b4ac499b-8a30-42d9-ad92-14348628d513] PUT 
/api/notifications/mark-all-read 200 - 21ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:50.725Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397530269q7zbd 
(70c070f9-7078-48ad-8ca6-ef032a43435d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:50.734Z [[32minfo[39m]: All 
notifications marked as read for user 
70c070f9-7078-48ad-8ca6-ef032a43435d. Affected: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAllAsRead 
(src/controllers/notificationController.js:225:7)

    console.log
      2025-12-22T09:58:50.740Z [[32minfo[39m]: All 
notifications marked as read for user 
testuser1766397530269q7zbd. Affected rows: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:50] 
[78c20201-35fe-4778-b507-2f5c4c1e1b4a] PUT 
/api/notifications/mark-all-read 200 - 20ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:51.199Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397530752kewdjf 
(e53e0a5a-7633-4de2-b232-2860b361e10b)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:51] 
[175c2c36-bb15-4a6d-bc9b-ac9628448be1] PUT 
/api/notifications/mark-all-read 400 - 5ms - PUT 
/api/notifications/mark-all-read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:51.666Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975312126irk8 
(f3ddc7f3-8ebc-4a4b-a34b-85fd6a3a5166)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:51.682Z [[32minfo[39m]: 
Notification 4cdd0d80-9186-4793-8f1c-65cf566abb1d deleted 
by user f3ddc7f3-8ebc-4a4b-a34b-85fd6a3a5166

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:302:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:309:9)

    console.log
      2025-12-22T09:58:51.688Z [[32minfo[39m]: 
Notification 4cdd0d80-9186-4793-8f1c-65cf566abb1d deleted 
by user testuser17663975312126irk8

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:51] 
[b04b6fb8-60e0-49f3-903d-a083b2c46e3e] DELETE 
/api/notifications/4cdd0d80-9186-4793-8f1c-65cf566abb1d 
200 - 27ms - DELETE 
/api/notifications/4cdd0d80-9186-4793-8f1c-65cf566abb1d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:52.128Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176639753170727ywj 
(b586abe7-55f4-4387-8e10-2ae33530655c)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[50844f90-7dfb-4631-b6c1-4be3cd4d99ca] DELETE 
/api/notifications/550e8400-e29b-41d4-a716-446655440000 
404 - 11ms - DELETE 
/api/notifications/550e8400-e29b-41d4-a716-446655440000

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:52.520Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975321475hr6lm 
(d8611329-88cd-43d1-9ca0-4435459536ed)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[98efdedc-7940-4b0f-8b49-3ecd51b4062e] DELETE 
/api/notifications/invalid-id 400 - 5ms - DELETE 
/api/notifications/invalid-id

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:52.950Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397532534cqsv3q 
(9cd60911-58da-44d2-a344-2fee5508676d)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:52.965Z [[32minfo[39m]: 
Notification created: 903d6cf3-9059-4e36-ac6f-f11110c10ddb 
for user 9cd60911-58da-44d2-a344-2fee5508676d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:52.970Z [[32minfo[39m]: 
Notification created: 903d6cf3-9059-4e36-ac6f-f11110c10ddb 
for user 9cd60911-58da-44d2-a344-2fee5508676d

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:52] 
[f1e66bfa-28e4-4206-a1a8-4c03f5230d78] POST 
/api/notifications 201 - 25ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:53.398Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397532985jwi3l7 
(a48fea0d-2eb4-47b8-b0f9-282ec0c6e0cc)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:53] 
[1ece4b9c-2407-4533-bd2b-b75bc2a5c27d] POST 
/api/notifications 400 - 6ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:53.812Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397533413vx3l7y 
(84a732c7-caa5-4d5e-8cf0-7a1b4a1f11f2)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:53] 
[1ce081ca-9b9a-4199-8785-5d947134c195] POST 
/api/notifications 400 - 5ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:54.201Z [[32minfo[39m]: 
Authentication successful for user: 
testuser17663975338265uao1d 
(af7980dc-b978-4343-8b2a-7f255eabf8f8)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:54] 
[e3bf6fff-87ba-4f35-829a-1fb4c21b7214] POST 
/api/notifications 400 - 5ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:55.371Z [[32minfo[39m]: 
Authentication successful for user: 
testuser176639753501277fta9 
(6df6066b-4b52-4d3c-a145-d3170d9cc4e8)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:55.378Z [[32minfo[39m]: Expired 
notifications cleaned up: 1 deleted

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:55] 
[aafe660f-4186-4c7d-a679-69debb10474a] POST 
/api/notifications/cleanup 200 - 12ms - POST 
/api/notifications/cleanup

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:55.794Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535408rv7lfe 
(f2009350-de14-494e-beae-ec1425c285b9)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:55] 
[6ef851aa-703a-46d2-968a-53f6048d69e4] POST 
/api/notifications/cleanup 403 - 6ms - POST 
/api/notifications/cleanup

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:56.315Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535810u953ye 
(784301df-de8a-4c4d-8f81-971803f89f22)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.328Z [[32minfo[39m]: 
Notification created: 16b1584a-f05c-43b9-b2b1-9f252924c6f3 
for user 784301df-de8a-4c4d-8f81-971803f89f22

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:56.333Z [[32minfo[39m]: 
Notification created: 16b1584a-f05c-43b9-b2b1-9f252924c6f3 
for user 784301df-de8a-4c4d-8f81-971803f89f22

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[4d9fdc32-edbf-4712-bb79-feb415965b2d] POST 
/api/notifications 201 - 24ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.348Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535810u953ye 
(784301df-de8a-4c4d-8f81-971803f89f22)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.355Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766397535810u953ye: 3 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[a1cd9466-49bf-4c51-974a-d2b988f8d1f6] GET 
/api/notifications 200 - 15ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.373Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535810u953ye 
(784301df-de8a-4c4d-8f81-971803f89f22)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.377Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766397535810u953ye: 2

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[95de417c-8444-4d24-b017-4edf3c842d72] GET 
/api/notifications/unread-count 200 - 9ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.390Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535810u953ye 
(784301df-de8a-4c4d-8f81-971803f89f22)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.403Z [[32minfo[39m]: 
Notification 16b1584a-f05c-43b9-b2b1-9f252924c6f3 marked 
as read by user 784301df-de8a-4c4d-8f81-971803f89f22

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:161:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.markAsRead 
(src/controllers/notificationController.js:166:7)

    console.log
      2025-12-22T09:58:56.411Z [[32minfo[39m]: 
Notification 16b1584a-f05c-43b9-b2b1-9f252924c6f3 marked 
as read by user testuser1766397535810u953ye

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[9a8fb71c-3b77-481f-955c-624f7aaf1224] PUT /api/notificatio
ns/16b1584a-f05c-43b9-b2b1-9f252924c6f3/read 200 - 27ms - 
PUT /api/notifications/16b1584a-f05c-43b9-b2b1-9f252924c6f3
/read

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.422Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535810u953ye 
(784301df-de8a-4c4d-8f81-971803f89f22)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.426Z [[32minfo[39m]: Unread 
count retrieved for user testuser1766397535810u953ye: 1

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[20792cd4-11ce-4ab7-8a2a-5709dcb0f26c] GET 
/api/notifications/unread-count 200 - 10ms - GET 
/api/notifications/unread-count

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.439Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535810u953ye 
(784301df-de8a-4c4d-8f81-971803f89f22)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.453Z [[32minfo[39m]: 
Notification 16b1584a-f05c-43b9-b2b1-9f252924c6f3 deleted 
by user 784301df-de8a-4c4d-8f81-971803f89f22

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.deleteNotification 
(src/controllers/notificationController.js:302:7)

    console.log
      2025-12-22T09:58:56.457Z [[32minfo[39m]: 
Notification 16b1584a-f05c-43b9-b2b1-9f252924c6f3 deleted 
by user testuser1766397535810u953ye

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[13e9e887-5587-41cf-9513-558ad96b3faf] DELETE 
/api/notifications/16b1584a-f05c-43b9-b2b1-9f252924c6f3 
200 - 24ms - DELETE 
/api/notifications/16b1584a-f05c-43b9-b2b1-9f252924c6f3

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.468Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397535810u953ye 
(784301df-de8a-4c4d-8f81-971803f89f22)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:56.475Z [[32minfo[39m]: 
Notifications retrieved for user 
testuser1766397535810u953ye: 2 items

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:56] 
[9edff84d-fa33-40b8-8259-02d80b1dbcb5] GET 
/api/notifications 200 - 12ms - GET /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

    console.log
      2025-12-22T09:58:57.063Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.067Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.073Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.077Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.079Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.082Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.085Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.094Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.097Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.100Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.103Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.107Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.113Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.115Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.118Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.121Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.125Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.129Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.132Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.135Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.139Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.143Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.146Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.149Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.155Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.158Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.167Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.169Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.172Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.177Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.179Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.182Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.184Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.187Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.190Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.193Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.195Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.198Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.200Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.202Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.204Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.206Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.209Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.212Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.214Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.216Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.221Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.223Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.225Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.227Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.229Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.231Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.236Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.238Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.241Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.243Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.245Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.251Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.254Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.268Z [[32minfo[39m]: 
Authentication successful for user: 
testuser1766397536490ro0ehb 
(bfb3e61c-7421-4786-a92a-61166121a947)

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.448Z [[32minfo[39m]: 
Notification created: e780fd27-73d0-40e7-90e8-26c71dfd60ac 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.451Z [[32minfo[39m]: 
Notification created: f269dc8f-7cd1-46ce-ac66-5ff53fa3d494 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.454Z [[32minfo[39m]: 
Notification created: e780fd27-73d0-40e7-90e8-26c71dfd60ac 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[b88f2fe2-738a-4cbb-bd81-cbaa8eebc6e0] POST 
/api/notifications 201 - 478ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.457Z [[32minfo[39m]: 
Notification created: f269dc8f-7cd1-46ce-ac66-5ff53fa3d494 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[043ef847-0acb-4458-b307-59f423f44afe] POST 
/api/notifications 201 - 397ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.630Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d9ce8f3c-0801-43f6-ab41-a568b536691f",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.261Z",
              "createdAt": "2025-12-22T09:58:57.261Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d9ce8f3c-0801-43f6-ab41-a568b536691f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.261 +00:00",
            "2025-12-22 09:58:57.261 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d9ce8f3c-0801-43f6-ab41-a568b536691f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.261 +00:00",
            "2025-12-22 09:58:57.261 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.630Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d9ce8f3c-0801-43f6-ab41-a568b536691f",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.261Z",
              "createdAt": "2025-12-22T09:58:57.261Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d9ce8f3c-0801-43f6-ab41-a568b536691f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.261 +00:00",
            "2025-12-22 09:58:57.261 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d9ce8f3c-0801-43f6-ab41-a568b536691f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.261 +00:00",
            "2025-12-22 09:58:57.261 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.636Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "cafb1c15-157e-433c-910f-4b1b0e7fb5d6",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.263Z",
              "createdAt": "2025-12-22T09:58:57.263Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cafb1c15-157e-433c-910f-4b1b0e7fb5d6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.263 +00:00",
            "2025-12-22 09:58:57.263 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cafb1c15-157e-433c-910f-4b1b0e7fb5d6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.263 +00:00",
            "2025-12-22 09:58:57.263 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.638Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "cafb1c15-157e-433c-910f-4b1b0e7fb5d6",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.263Z",
              "createdAt": "2025-12-22T09:58:57.263Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cafb1c15-157e-433c-910f-4b1b0e7fb5d6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.263 +00:00",
            "2025-12-22 09:58:57.263 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "cafb1c15-157e-433c-910f-4b1b0e7fb5d6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.263 +00:00",
            "2025-12-22 09:58:57.263 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.642Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "ea06db39-112a-4d1c-b0b1-6d58b8d63071",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.265Z",
              "createdAt": "2025-12-22T09:58:57.265Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ea06db39-112a-4d1c-b0b1-6d58b8d63071",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.265 +00:00",
            "2025-12-22 09:58:57.265 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ea06db39-112a-4d1c-b0b1-6d58b8d63071",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.265 +00:00",
            "2025-12-22 09:58:57.265 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.643Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "ea06db39-112a-4d1c-b0b1-6d58b8d63071",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.265Z",
              "createdAt": "2025-12-22T09:58:57.265Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ea06db39-112a-4d1c-b0b1-6d58b8d63071",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.265 +00:00",
            "2025-12-22 09:58:57.265 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ea06db39-112a-4d1c-b0b1-6d58b8d63071",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.265 +00:00",
            "2025-12-22 09:58:57.265 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.648Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "5be438b0-bd66-4dc7-845b-935cf7aad8b0",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.267Z",
              "createdAt": "2025-12-22T09:58:57.267Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5be438b0-bd66-4dc7-845b-935cf7aad8b0",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.267 +00:00",
            "2025-12-22 09:58:57.267 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5be438b0-bd66-4dc7-845b-935cf7aad8b0",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.267 +00:00",
            "2025-12-22 09:58:57.267 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.650Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "5be438b0-bd66-4dc7-845b-935cf7aad8b0",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.267Z",
              "createdAt": "2025-12-22T09:58:57.267Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5be438b0-bd66-4dc7-845b-935cf7aad8b0",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.267 +00:00",
            "2025-12-22 09:58:57.267 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5be438b0-bd66-4dc7-845b-935cf7aad8b0",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.267 +00:00",
            "2025-12-22 09:58:57.267 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.652Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "b0ff3ada-2006-4029-a0a2-1c09d9f5087b",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.270Z",
              "createdAt": "2025-12-22T09:58:57.270Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b0ff3ada-2006-4029-a0a2-1c09d9f5087b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.270 +00:00",
            "2025-12-22 09:58:57.270 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b0ff3ada-2006-4029-a0a2-1c09d9f5087b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.270 +00:00",
            "2025-12-22 09:58:57.270 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.654Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "b0ff3ada-2006-4029-a0a2-1c09d9f5087b",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.270Z",
              "createdAt": "2025-12-22T09:58:57.270Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b0ff3ada-2006-4029-a0a2-1c09d9f5087b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.270 +00:00",
            "2025-12-22 09:58:57.270 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "b0ff3ada-2006-4029-a0a2-1c09d9f5087b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.270 +00:00",
            "2025-12-22 09:58:57.270 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.657Z [[32minfo[39m]: 
Notification created: 627c4bc5-b61b-4471-8bf1-e3ef98153777 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.659Z [[32minfo[39m]: 
Notification created: e758eb33-324c-48a2-985c-5360d7ccaed8 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.663Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "0406a32e-1be5-487f-93cf-f986cea6ad8a",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.272Z",
              "createdAt": "2025-12-22T09:58:57.272Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0406a32e-1be5-487f-93cf-f986cea6ad8a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.272 +00:00",
            "2025-12-22 09:58:57.272 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0406a32e-1be5-487f-93cf-f986cea6ad8a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.272 +00:00",
            "2025-12-22 09:58:57.272 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.664Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "0406a32e-1be5-487f-93cf-f986cea6ad8a",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.272Z",
              "createdAt": "2025-12-22T09:58:57.272Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0406a32e-1be5-487f-93cf-f986cea6ad8a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.272 +00:00",
            "2025-12-22 09:58:57.272 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "0406a32e-1be5-487f-93cf-f986cea6ad8a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.272 +00:00",
            "2025-12-22 09:58:57.272 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.667Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "47c91f44-af6e-409e-8b3b-df5837a4511f",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.274Z",
              "createdAt": "2025-12-22T09:58:57.274Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "47c91f44-af6e-409e-8b3b-df5837a4511f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.274 +00:00",
            "2025-12-22 09:58:57.274 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "47c91f44-af6e-409e-8b3b-df5837a4511f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.274 +00:00",
            "2025-12-22 09:58:57.274 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.668Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "47c91f44-af6e-409e-8b3b-df5837a4511f",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.274Z",
              "createdAt": "2025-12-22T09:58:57.274Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "47c91f44-af6e-409e-8b3b-df5837a4511f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.274 +00:00",
            "2025-12-22 09:58:57.274 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "47c91f44-af6e-409e-8b3b-df5837a4511f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.274 +00:00",
            "2025-12-22 09:58:57.274 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.671Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "4a4fe5a9-dffd-4777-a4a5-9200f9761b60",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.277Z",
              "createdAt": "2025-12-22T09:58:57.277Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4a4fe5a9-dffd-4777-a4a5-9200f9761b60",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.277 +00:00",
            "2025-12-22 09:58:57.277 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4a4fe5a9-dffd-4777-a4a5-9200f9761b60",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.277 +00:00",
            "2025-12-22 09:58:57.277 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.677Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "4a4fe5a9-dffd-4777-a4a5-9200f9761b60",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.277Z",
              "createdAt": "2025-12-22T09:58:57.277Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4a4fe5a9-dffd-4777-a4a5-9200f9761b60",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.277 +00:00",
            "2025-12-22 09:58:57.277 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4a4fe5a9-dffd-4777-a4a5-9200f9761b60",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.277 +00:00",
            "2025-12-22 09:58:57.277 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.680Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "8936bc8a-378b-4902-9276-a57a4aa45516",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.275Z",
              "createdAt": "2025-12-22T09:58:57.275Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8936bc8a-378b-4902-9276-a57a4aa45516",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.275 +00:00",
            "2025-12-22 09:58:57.275 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8936bc8a-378b-4902-9276-a57a4aa45516",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.275 +00:00",
            "2025-12-22 09:58:57.275 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.681Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "8936bc8a-378b-4902-9276-a57a4aa45516",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.275Z",
              "createdAt": "2025-12-22T09:58:57.275Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8936bc8a-378b-4902-9276-a57a4aa45516",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.275 +00:00",
            "2025-12-22 09:58:57.275 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8936bc8a-378b-4902-9276-a57a4aa45516",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.275 +00:00",
            "2025-12-22 09:58:57.275 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
runNextTicks (node:internal/process/task_queues:65:5)\n    
at listOnTimeout (node:internal/timers:549:9)\n    at 
processTimers (node:internal/timers:523:7)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.683Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "29227fb9-5380-4905-9cac-185c655bc37a",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.278Z",
              "createdAt": "2025-12-22T09:58:57.278Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "29227fb9-5380-4905-9cac-185c655bc37a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.278 +00:00",
            "2025-12-22 09:58:57.278 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "29227fb9-5380-4905-9cac-185c655bc37a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.278 +00:00",
            "2025-12-22 09:58:57.278 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.684Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "29227fb9-5380-4905-9cac-185c655bc37a",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.278Z",
              "createdAt": "2025-12-22T09:58:57.278Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "29227fb9-5380-4905-9cac-185c655bc37a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.278 +00:00",
            "2025-12-22 09:58:57.278 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "29227fb9-5380-4905-9cac-185c655bc37a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.278 +00:00",
            "2025-12-22 09:58:57.278 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.687Z [[32minfo[39m]: 
Notification created: cc231579-9a1b-4e47-ba0b-73f020113611 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.689Z [[32minfo[39m]: 
Notification created: 627c4bc5-b61b-4471-8bf1-e3ef98153777 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[edff9456-6d8c-4da8-985b-656cde95e364] POST 
/api/notifications 201 - 727ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.692Z [[32minfo[39m]: 
Notification created: ae552a54-07b7-4da7-af88-516a3fb61857 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.695Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "9edf18f2-7cf7-4563-8366-ca3ccc581545",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.279Z",
              "createdAt": "2025-12-22T09:58:57.279Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9edf18f2-7cf7-4563-8366-ca3ccc581545",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.279 +00:00",
            "2025-12-22 09:58:57.279 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9edf18f2-7cf7-4563-8366-ca3ccc581545",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.279 +00:00",
            "2025-12-22 09:58:57.279 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.696Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "9edf18f2-7cf7-4563-8366-ca3ccc581545",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.279Z",
              "createdAt": "2025-12-22T09:58:57.279Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9edf18f2-7cf7-4563-8366-ca3ccc581545",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.279 +00:00",
            "2025-12-22 09:58:57.279 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9edf18f2-7cf7-4563-8366-ca3ccc581545",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.279 +00:00",
            "2025-12-22 09:58:57.279 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.698Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c68733c7-9572-4a97-8cc2-a72692600412",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.282Z",
              "createdAt": "2025-12-22T09:58:57.282Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c68733c7-9572-4a97-8cc2-a72692600412",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.282 +00:00",
            "2025-12-22 09:58:57.282 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c68733c7-9572-4a97-8cc2-a72692600412",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.282 +00:00",
            "2025-12-22 09:58:57.282 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.699Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c68733c7-9572-4a97-8cc2-a72692600412",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.282Z",
              "createdAt": "2025-12-22T09:58:57.282Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c68733c7-9572-4a97-8cc2-a72692600412",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.282 +00:00",
            "2025-12-22 09:58:57.282 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c68733c7-9572-4a97-8cc2-a72692600412",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.282 +00:00",
            "2025-12-22 09:58:57.282 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.702Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "820ab0f2-d7f0-46cf-8720-0eae29b7b798",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.281Z",
              "createdAt": "2025-12-22T09:58:57.281Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "820ab0f2-d7f0-46cf-8720-0eae29b7b798",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.281 +00:00",
            "2025-12-22 09:58:57.281 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "820ab0f2-d7f0-46cf-8720-0eae29b7b798",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.281 +00:00",
            "2025-12-22 09:58:57.281 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.703Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "820ab0f2-d7f0-46cf-8720-0eae29b7b798",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.281Z",
              "createdAt": "2025-12-22T09:58:57.281Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "820ab0f2-d7f0-46cf-8720-0eae29b7b798",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.281 +00:00",
            "2025-12-22 09:58:57.281 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "820ab0f2-d7f0-46cf-8720-0eae29b7b798",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.281 +00:00",
            "2025-12-22 09:58:57.281 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.706Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "08d7259a-b5b2-4bb7-922e-018a5ab9f2ad",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.283Z",
              "createdAt": "2025-12-22T09:58:57.283Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "08d7259a-b5b2-4bb7-922e-018a5ab9f2ad",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.283 +00:00",
            "2025-12-22 09:58:57.283 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "08d7259a-b5b2-4bb7-922e-018a5ab9f2ad",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.283 +00:00",
            "2025-12-22 09:58:57.283 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.707Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "08d7259a-b5b2-4bb7-922e-018a5ab9f2ad",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.283Z",
              "createdAt": "2025-12-22T09:58:57.283Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "08d7259a-b5b2-4bb7-922e-018a5ab9f2ad",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.283 +00:00",
            "2025-12-22 09:58:57.283 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "08d7259a-b5b2-4bb7-922e-018a5ab9f2ad",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.283 +00:00",
            "2025-12-22 09:58:57.283 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.709Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d7bff6a5-31a4-46f4-b427-e3238f2e284b",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.284Z",
              "createdAt": "2025-12-22T09:58:57.284Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d7bff6a5-31a4-46f4-b427-e3238f2e284b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.284 +00:00",
            "2025-12-22 09:58:57.284 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d7bff6a5-31a4-46f4-b427-e3238f2e284b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.284 +00:00",
            "2025-12-22 09:58:57.284 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.710Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d7bff6a5-31a4-46f4-b427-e3238f2e284b",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.284Z",
              "createdAt": "2025-12-22T09:58:57.284Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d7bff6a5-31a4-46f4-b427-e3238f2e284b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.284 +00:00",
            "2025-12-22 09:58:57.284 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d7bff6a5-31a4-46f4-b427-e3238f2e284b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.284 +00:00",
            "2025-12-22 09:58:57.284 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.713Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "6353cab9-d73f-4342-8b37-867eebf2e98e",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.286Z",
              "createdAt": "2025-12-22T09:58:57.286Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6353cab9-d73f-4342-8b37-867eebf2e98e",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.286 +00:00",
            "2025-12-22 09:58:57.286 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6353cab9-d73f-4342-8b37-867eebf2e98e",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.286 +00:00",
            "2025-12-22 09:58:57.286 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.713Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "6353cab9-d73f-4342-8b37-867eebf2e98e",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.286Z",
              "createdAt": "2025-12-22T09:58:57.286Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6353cab9-d73f-4342-8b37-867eebf2e98e",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.286 +00:00",
            "2025-12-22 09:58:57.286 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "6353cab9-d73f-4342-8b37-867eebf2e98e",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.286 +00:00",
            "2025-12-22 09:58:57.286 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.716Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "476b4e16-0b92-44cf-a49b-92b0140edd6c",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.288Z",
              "createdAt": "2025-12-22T09:58:57.288Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "476b4e16-0b92-44cf-a49b-92b0140edd6c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.288 +00:00",
            "2025-12-22 09:58:57.288 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "476b4e16-0b92-44cf-a49b-92b0140edd6c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.288 +00:00",
            "2025-12-22 09:58:57.288 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.717Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "476b4e16-0b92-44cf-a49b-92b0140edd6c",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.288Z",
              "createdAt": "2025-12-22T09:58:57.288Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "476b4e16-0b92-44cf-a49b-92b0140edd6c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.288 +00:00",
            "2025-12-22 09:58:57.288 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "476b4e16-0b92-44cf-a49b-92b0140edd6c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.288 +00:00",
            "2025-12-22 09:58:57.288 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.719Z [[32minfo[39m]: 
Notification created: ae552a54-07b7-4da7-af88-516a3fb61857 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[5d6812d4-b072-453b-9816-8018737396ec] POST 
/api/notifications 201 - 748ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.723Z [[32minfo[39m]: 
Notification created: e758eb33-324c-48a2-985c-5360d7ccaed8 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[03a2b227-da26-4474-8f75-f988d4de9847] POST 
/api/notifications 201 - 756ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.726Z [[32minfo[39m]: 
Notification created: d8ed153b-00a3-4a1e-81eb-2a6b3ce5bd64 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.730Z [[32minfo[39m]: 
Notification created: c0d35e53-c3fb-4537-b222-46242989cf13 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.732Z [[32minfo[39m]: 
Notification created: d689c1fc-626a-491c-8f40-9d90e9eaf3e2 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.734Z [[32minfo[39m]: 
Notification created: 3b160032-5daa-40e6-9184-bbbdd63813de 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.736Z [[32minfo[39m]: 
Notification created: 74230d24-5046-4919-a962-3552d9d08849 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.738Z [[32minfo[39m]: 
Notification created: f5fd7b3a-13de-44f3-9994-a87dfefd0507 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.741Z [[32minfo[39m]: 
Notification created: cc231579-9a1b-4e47-ba0b-73f020113611 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[6e96950a-c47f-4139-bef5-8ef756f11bb6] POST 
/api/notifications 201 - 782ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.743Z [[32minfo[39m]: 
Notification created: e382ab89-8ee6-4c05-bf4d-6d17bd29b2b3 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.747Z [[32minfo[39m]: 
Notification created: c533f4f3-594d-4df7-94e8-2ac9971fc2e0 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.752Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "2a1d8bce-acf7-45d1-bfe9-df7346e41326",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.287Z",
              "createdAt": "2025-12-22T09:58:57.287Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2a1d8bce-acf7-45d1-bfe9-df7346e41326",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.287 +00:00",
            "2025-12-22 09:58:57.287 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2a1d8bce-acf7-45d1-bfe9-df7346e41326",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.287 +00:00",
            "2025-12-22 09:58:57.287 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.753Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "2a1d8bce-acf7-45d1-bfe9-df7346e41326",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.287Z",
              "createdAt": "2025-12-22T09:58:57.287Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2a1d8bce-acf7-45d1-bfe9-df7346e41326",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.287 +00:00",
            "2025-12-22 09:58:57.287 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2a1d8bce-acf7-45d1-bfe9-df7346e41326",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.287 +00:00",
            "2025-12-22 09:58:57.287 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.756Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "2c67a4ab-d6d2-4bdc-8fd4-c18527a5f90b",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.290Z",
              "createdAt": "2025-12-22T09:58:57.290Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2c67a4ab-d6d2-4bdc-8fd4-c18527a5f90b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.290 +00:00",
            "2025-12-22 09:58:57.290 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2c67a4ab-d6d2-4bdc-8fd4-c18527a5f90b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.290 +00:00",
            "2025-12-22 09:58:57.290 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.757Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "2c67a4ab-d6d2-4bdc-8fd4-c18527a5f90b",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.290Z",
              "createdAt": "2025-12-22T09:58:57.290Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2c67a4ab-d6d2-4bdc-8fd4-c18527a5f90b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.290 +00:00",
            "2025-12-22 09:58:57.290 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2c67a4ab-d6d2-4bdc-8fd4-c18527a5f90b",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.290 +00:00",
            "2025-12-22 09:58:57.290 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.761Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "50f657b3-1409-435e-807a-38739ac9d218",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.291Z",
              "createdAt": "2025-12-22T09:58:57.291Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "50f657b3-1409-435e-807a-38739ac9d218",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.291 +00:00",
            "2025-12-22 09:58:57.291 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "50f657b3-1409-435e-807a-38739ac9d218",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.291 +00:00",
            "2025-12-22 09:58:57.291 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.762Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "50f657b3-1409-435e-807a-38739ac9d218",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.291Z",
              "createdAt": "2025-12-22T09:58:57.291Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "50f657b3-1409-435e-807a-38739ac9d218",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.291 +00:00",
            "2025-12-22 09:58:57.291 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "50f657b3-1409-435e-807a-38739ac9d218",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.291 +00:00",
            "2025-12-22 09:58:57.291 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.764Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "3b1a36db-36f4-4839-839e-b2a4268c9e67",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.292Z",
              "createdAt": "2025-12-22T09:58:57.292Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3b1a36db-36f4-4839-839e-b2a4268c9e67",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.292 +00:00",
            "2025-12-22 09:58:57.292 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3b1a36db-36f4-4839-839e-b2a4268c9e67",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.292 +00:00",
            "2025-12-22 09:58:57.292 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.765Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "3b1a36db-36f4-4839-839e-b2a4268c9e67",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.292Z",
              "createdAt": "2025-12-22T09:58:57.292Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3b1a36db-36f4-4839-839e-b2a4268c9e67",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.292 +00:00",
            "2025-12-22 09:58:57.292 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3b1a36db-36f4-4839-839e-b2a4268c9e67",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.292 +00:00",
            "2025-12-22 09:58:57.292 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.768Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "4d8c1630-88ad-4693-b098-b81030bd90fe",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.293Z",
              "createdAt": "2025-12-22T09:58:57.293Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4d8c1630-88ad-4693-b098-b81030bd90fe",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.293 +00:00",
            "2025-12-22 09:58:57.293 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4d8c1630-88ad-4693-b098-b81030bd90fe",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.293 +00:00",
            "2025-12-22 09:58:57.293 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.769Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "4d8c1630-88ad-4693-b098-b81030bd90fe",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.293Z",
              "createdAt": "2025-12-22T09:58:57.293Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4d8c1630-88ad-4693-b098-b81030bd90fe",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.293 +00:00",
            "2025-12-22 09:58:57.293 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4d8c1630-88ad-4693-b098-b81030bd90fe",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.293 +00:00",
            "2025-12-22 09:58:57.293 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.772Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "f36fca55-9ccc-4d01-b4c0-6eff9fb790ec",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.294Z",
              "createdAt": "2025-12-22T09:58:57.294Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f36fca55-9ccc-4d01-b4c0-6eff9fb790ec",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.294 +00:00",
            "2025-12-22 09:58:57.294 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f36fca55-9ccc-4d01-b4c0-6eff9fb790ec",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.294 +00:00",
            "2025-12-22 09:58:57.294 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.773Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "f36fca55-9ccc-4d01-b4c0-6eff9fb790ec",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.294Z",
              "createdAt": "2025-12-22T09:58:57.294Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f36fca55-9ccc-4d01-b4c0-6eff9fb790ec",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.294 +00:00",
            "2025-12-22 09:58:57.294 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f36fca55-9ccc-4d01-b4c0-6eff9fb790ec",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.294 +00:00",
            "2025-12-22 09:58:57.294 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.776Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "a0e31343-a8d6-404d-a32b-c73a1ed5b6d6",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.296Z",
              "createdAt": "2025-12-22T09:58:57.296Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a0e31343-a8d6-404d-a32b-c73a1ed5b6d6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.296 +00:00",
            "2025-12-22 09:58:57.296 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a0e31343-a8d6-404d-a32b-c73a1ed5b6d6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.296 +00:00",
            "2025-12-22 09:58:57.296 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.777Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "a0e31343-a8d6-404d-a32b-c73a1ed5b6d6",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.296Z",
              "createdAt": "2025-12-22T09:58:57.296Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a0e31343-a8d6-404d-a32b-c73a1ed5b6d6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.296 +00:00",
            "2025-12-22 09:58:57.296 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a0e31343-a8d6-404d-a32b-c73a1ed5b6d6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.296 +00:00",
            "2025-12-22 09:58:57.296 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.780Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "189308fd-0205-4412-af49-a9c178cbabbc",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.297Z",
              "createdAt": "2025-12-22T09:58:57.297Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "189308fd-0205-4412-af49-a9c178cbabbc",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.297 +00:00",
            "2025-12-22 09:58:57.297 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "189308fd-0205-4412-af49-a9c178cbabbc",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.297 +00:00",
            "2025-12-22 09:58:57.297 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.781Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "189308fd-0205-4412-af49-a9c178cbabbc",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.297Z",
              "createdAt": "2025-12-22T09:58:57.297Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "189308fd-0205-4412-af49-a9c178cbabbc",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.297 +00:00",
            "2025-12-22 09:58:57.297 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "189308fd-0205-4412-af49-a9c178cbabbc",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.297 +00:00",
            "2025-12-22 09:58:57.297 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.783Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "5692dcdd-35d6-4b8b-86b7-bb1a39a187f3",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.298Z",
              "createdAt": "2025-12-22T09:58:57.298Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5692dcdd-35d6-4b8b-86b7-bb1a39a187f3",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.298 +00:00",
            "2025-12-22 09:58:57.298 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5692dcdd-35d6-4b8b-86b7-bb1a39a187f3",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.298 +00:00",
            "2025-12-22 09:58:57.298 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.784Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "5692dcdd-35d6-4b8b-86b7-bb1a39a187f3",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.298Z",
              "createdAt": "2025-12-22T09:58:57.298Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5692dcdd-35d6-4b8b-86b7-bb1a39a187f3",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.298 +00:00",
            "2025-12-22 09:58:57.298 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "5692dcdd-35d6-4b8b-86b7-bb1a39a187f3",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.298 +00:00",
            "2025-12-22 09:58:57.298 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.787Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c7806928-080d-4600-a564-ba8f23711619",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.300Z",
              "createdAt": "2025-12-22T09:58:57.300Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c7806928-080d-4600-a564-ba8f23711619",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.300 +00:00",
            "2025-12-22 09:58:57.300 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c7806928-080d-4600-a564-ba8f23711619",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.300 +00:00",
            "2025-12-22 09:58:57.300 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.788Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c7806928-080d-4600-a564-ba8f23711619",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.300Z",
              "createdAt": "2025-12-22T09:58:57.300Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c7806928-080d-4600-a564-ba8f23711619",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.300 +00:00",
            "2025-12-22 09:58:57.300 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c7806928-080d-4600-a564-ba8f23711619",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.300 +00:00",
            "2025-12-22 09:58:57.300 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.791Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "db583cff-f5f7-455c-9dd1-6b3b8e4cb6d9",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.301Z",
              "createdAt": "2025-12-22T09:58:57.301Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "db583cff-f5f7-455c-9dd1-6b3b8e4cb6d9",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.301 +00:00",
            "2025-12-22 09:58:57.301 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "db583cff-f5f7-455c-9dd1-6b3b8e4cb6d9",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.301 +00:00",
            "2025-12-22 09:58:57.301 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.792Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "db583cff-f5f7-455c-9dd1-6b3b8e4cb6d9",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.301Z",
              "createdAt": "2025-12-22T09:58:57.301Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "db583cff-f5f7-455c-9dd1-6b3b8e4cb6d9",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.301 +00:00",
            "2025-12-22 09:58:57.301 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "db583cff-f5f7-455c-9dd1-6b3b8e4cb6d9",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.301 +00:00",
            "2025-12-22 09:58:57.301 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.795Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "24ee28eb-332e-44c4-99dc-2622db7a51f2",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.302Z",
              "createdAt": "2025-12-22T09:58:57.302Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "24ee28eb-332e-44c4-99dc-2622db7a51f2",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.302 +00:00",
            "2025-12-22 09:58:57.302 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "24ee28eb-332e-44c4-99dc-2622db7a51f2",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.302 +00:00",
            "2025-12-22 09:58:57.302 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.796Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "24ee28eb-332e-44c4-99dc-2622db7a51f2",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.302Z",
              "createdAt": "2025-12-22T09:58:57.302Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "24ee28eb-332e-44c4-99dc-2622db7a51f2",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.302 +00:00",
            "2025-12-22 09:58:57.302 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "24ee28eb-332e-44c4-99dc-2622db7a51f2",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.302 +00:00",
            "2025-12-22 09:58:57.302 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.799Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "e0e527bc-4a38-4daf-8ee8-58cadc415d8a",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.303Z",
              "createdAt": "2025-12-22T09:58:57.303Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e0e527bc-4a38-4daf-8ee8-58cadc415d8a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.303 +00:00",
            "2025-12-22 09:58:57.303 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e0e527bc-4a38-4daf-8ee8-58cadc415d8a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.303 +00:00",
            "2025-12-22 09:58:57.303 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.800Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "e0e527bc-4a38-4daf-8ee8-58cadc415d8a",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.303Z",
              "createdAt": "2025-12-22T09:58:57.303Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e0e527bc-4a38-4daf-8ee8-58cadc415d8a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.303 +00:00",
            "2025-12-22 09:58:57.303 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "e0e527bc-4a38-4daf-8ee8-58cadc415d8a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.303 +00:00",
            "2025-12-22 09:58:57.303 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.803Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d4e7da02-2669-48de-bec7-4f697ae123c6",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.306Z",
              "createdAt": "2025-12-22T09:58:57.306Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d4e7da02-2669-48de-bec7-4f697ae123c6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.306 +00:00",
            "2025-12-22 09:58:57.306 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d4e7da02-2669-48de-bec7-4f697ae123c6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.306 +00:00",
            "2025-12-22 09:58:57.306 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.803Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d4e7da02-2669-48de-bec7-4f697ae123c6",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.306Z",
              "createdAt": "2025-12-22T09:58:57.306Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d4e7da02-2669-48de-bec7-4f697ae123c6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.306 +00:00",
            "2025-12-22 09:58:57.306 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d4e7da02-2669-48de-bec7-4f697ae123c6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.306 +00:00",
            "2025-12-22 09:58:57.306 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.806Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "56caa2a6-0da2-4b49-a2b7-d60dbb8987d9",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.304Z",
              "createdAt": "2025-12-22T09:58:57.304Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "56caa2a6-0da2-4b49-a2b7-d60dbb8987d9",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.304 +00:00",
            "2025-12-22 09:58:57.304 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "56caa2a6-0da2-4b49-a2b7-d60dbb8987d9",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.304 +00:00",
            "2025-12-22 09:58:57.304 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.807Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "56caa2a6-0da2-4b49-a2b7-d60dbb8987d9",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.304Z",
              "createdAt": "2025-12-22T09:58:57.304Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "56caa2a6-0da2-4b49-a2b7-d60dbb8987d9",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.304 +00:00",
            "2025-12-22 09:58:57.304 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "56caa2a6-0da2-4b49-a2b7-d60dbb8987d9",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.304 +00:00",
            "2025-12-22 09:58:57.304 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.810Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "a3246a09-14aa-404e-9949-483add66b52a",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.308Z",
              "createdAt": "2025-12-22T09:58:57.308Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a3246a09-14aa-404e-9949-483add66b52a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.308 +00:00",
            "2025-12-22 09:58:57.308 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a3246a09-14aa-404e-9949-483add66b52a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.308 +00:00",
            "2025-12-22 09:58:57.308 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.810Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "a3246a09-14aa-404e-9949-483add66b52a",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.308Z",
              "createdAt": "2025-12-22T09:58:57.308Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a3246a09-14aa-404e-9949-483add66b52a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.308 +00:00",
            "2025-12-22 09:58:57.308 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a3246a09-14aa-404e-9949-483add66b52a",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.308 +00:00",
            "2025-12-22 09:58:57.308 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.813Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c1bd19b6-e110-41bf-8b72-1abc1a1b50de",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.309Z",
              "createdAt": "2025-12-22T09:58:57.309Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c1bd19b6-e110-41bf-8b72-1abc1a1b50de",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.309 +00:00",
            "2025-12-22 09:58:57.309 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c1bd19b6-e110-41bf-8b72-1abc1a1b50de",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.309 +00:00",
            "2025-12-22 09:58:57.309 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.814Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c1bd19b6-e110-41bf-8b72-1abc1a1b50de",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.309Z",
              "createdAt": "2025-12-22T09:58:57.309Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c1bd19b6-e110-41bf-8b72-1abc1a1b50de",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.309 +00:00",
            "2025-12-22 09:58:57.309 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c1bd19b6-e110-41bf-8b72-1abc1a1b50de",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.309 +00:00",
            "2025-12-22 09:58:57.309 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.816Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "dc2bd0dc-15ee-446a-8b31-bf9d47c675ca",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.310Z",
              "createdAt": "2025-12-22T09:58:57.310Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "dc2bd0dc-15ee-446a-8b31-bf9d47c675ca",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.310 +00:00",
            "2025-12-22 09:58:57.310 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "dc2bd0dc-15ee-446a-8b31-bf9d47c675ca",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.310 +00:00",
            "2025-12-22 09:58:57.310 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.817Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "dc2bd0dc-15ee-446a-8b31-bf9d47c675ca",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.310Z",
              "createdAt": "2025-12-22T09:58:57.310Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "dc2bd0dc-15ee-446a-8b31-bf9d47c675ca",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.310 +00:00",
            "2025-12-22 09:58:57.310 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "dc2bd0dc-15ee-446a-8b31-bf9d47c675ca",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.310 +00:00",
            "2025-12-22 09:58:57.310 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.819Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "694aaa38-e70f-45c3-8434-c525a23c6942",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.311Z",
              "createdAt": "2025-12-22T09:58:57.311Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "694aaa38-e70f-45c3-8434-c525a23c6942",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.311 +00:00",
            "2025-12-22 09:58:57.311 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "694aaa38-e70f-45c3-8434-c525a23c6942",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.311 +00:00",
            "2025-12-22 09:58:57.311 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.820Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "694aaa38-e70f-45c3-8434-c525a23c6942",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.311Z",
              "createdAt": "2025-12-22T09:58:57.311Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "694aaa38-e70f-45c3-8434-c525a23c6942",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.311 +00:00",
            "2025-12-22 09:58:57.311 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "694aaa38-e70f-45c3-8434-c525a23c6942",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.311 +00:00",
            "2025-12-22 09:58:57.311 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.825Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "8041c2e3-3206-4747-915a-a35b25409b57",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.313Z",
              "createdAt": "2025-12-22T09:58:57.313Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8041c2e3-3206-4747-915a-a35b25409b57",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.313 +00:00",
            "2025-12-22 09:58:57.313 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8041c2e3-3206-4747-915a-a35b25409b57",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.313 +00:00",
            "2025-12-22 09:58:57.313 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.826Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "8041c2e3-3206-4747-915a-a35b25409b57",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.313Z",
              "createdAt": "2025-12-22T09:58:57.313Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8041c2e3-3206-4747-915a-a35b25409b57",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.313 +00:00",
            "2025-12-22 09:58:57.313 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "8041c2e3-3206-4747-915a-a35b25409b57",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.313 +00:00",
            "2025-12-22 09:58:57.313 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.829Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "4da8ac5f-28af-4eb6-8e5a-1e8339cce843",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.316Z",
              "createdAt": "2025-12-22T09:58:57.316Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4da8ac5f-28af-4eb6-8e5a-1e8339cce843",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.316 +00:00",
            "2025-12-22 09:58:57.316 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4da8ac5f-28af-4eb6-8e5a-1e8339cce843",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.316 +00:00",
            "2025-12-22 09:58:57.316 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.832Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "4da8ac5f-28af-4eb6-8e5a-1e8339cce843",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.316Z",
              "createdAt": "2025-12-22T09:58:57.316Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4da8ac5f-28af-4eb6-8e5a-1e8339cce843",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.316 +00:00",
            "2025-12-22 09:58:57.316 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "4da8ac5f-28af-4eb6-8e5a-1e8339cce843",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.316 +00:00",
            "2025-12-22 09:58:57.316 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.834Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c2bc3275-b9b8-4065-8808-335088d41023",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.314Z",
              "createdAt": "2025-12-22T09:58:57.314Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c2bc3275-b9b8-4065-8808-335088d41023",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.314 +00:00",
            "2025-12-22 09:58:57.314 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c2bc3275-b9b8-4065-8808-335088d41023",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.314 +00:00",
            "2025-12-22 09:58:57.314 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.835Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c2bc3275-b9b8-4065-8808-335088d41023",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.314Z",
              "createdAt": "2025-12-22T09:58:57.314Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c2bc3275-b9b8-4065-8808-335088d41023",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.314 +00:00",
            "2025-12-22 09:58:57.314 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c2bc3275-b9b8-4065-8808-335088d41023",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.314 +00:00",
            "2025-12-22 09:58:57.314 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.838Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d56a159b-eb99-4a33-8997-1715ed321eb8",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.317Z",
              "createdAt": "2025-12-22T09:58:57.317Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d56a159b-eb99-4a33-8997-1715ed321eb8",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.317 +00:00",
            "2025-12-22 09:58:57.317 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d56a159b-eb99-4a33-8997-1715ed321eb8",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.317 +00:00",
            "2025-12-22 09:58:57.317 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.839Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d56a159b-eb99-4a33-8997-1715ed321eb8",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.317Z",
              "createdAt": "2025-12-22T09:58:57.317Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d56a159b-eb99-4a33-8997-1715ed321eb8",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.317 +00:00",
            "2025-12-22 09:58:57.317 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d56a159b-eb99-4a33-8997-1715ed321eb8",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.317 +00:00",
            "2025-12-22 09:58:57.317 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.843Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c2ad2b07-7c67-4b66-aa1e-f7548fb36f8c",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.319Z",
              "createdAt": "2025-12-22T09:58:57.319Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c2ad2b07-7c67-4b66-aa1e-f7548fb36f8c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.319 +00:00",
            "2025-12-22 09:58:57.319 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c2ad2b07-7c67-4b66-aa1e-f7548fb36f8c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.319 +00:00",
            "2025-12-22 09:58:57.319 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.845Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c2ad2b07-7c67-4b66-aa1e-f7548fb36f8c",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.319Z",
              "createdAt": "2025-12-22T09:58:57.319Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c2ad2b07-7c67-4b66-aa1e-f7548fb36f8c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.319 +00:00",
            "2025-12-22 09:58:57.319 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c2ad2b07-7c67-4b66-aa1e-f7548fb36f8c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.319 +00:00",
            "2025-12-22 09:58:57.319 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.848Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "f1b1a7ea-82fe-458e-8c2d-e95407fc03fb",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.323Z",
              "createdAt": "2025-12-22T09:58:57.323Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f1b1a7ea-82fe-458e-8c2d-e95407fc03fb",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.323 +00:00",
            "2025-12-22 09:58:57.323 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f1b1a7ea-82fe-458e-8c2d-e95407fc03fb",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.323 +00:00",
            "2025-12-22 09:58:57.323 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.849Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "f1b1a7ea-82fe-458e-8c2d-e95407fc03fb",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.323Z",
              "createdAt": "2025-12-22T09:58:57.323Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f1b1a7ea-82fe-458e-8c2d-e95407fc03fb",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.323 +00:00",
            "2025-12-22 09:58:57.323 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "f1b1a7ea-82fe-458e-8c2d-e95407fc03fb",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.323 +00:00",
            "2025-12-22 09:58:57.323 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.851Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "ef07f0c4-07de-4fcd-8dff-d8756a2281f0",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.325Z",
              "createdAt": "2025-12-22T09:58:57.325Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef07f0c4-07de-4fcd-8dff-d8756a2281f0",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.325 +00:00",
            "2025-12-22 09:58:57.325 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef07f0c4-07de-4fcd-8dff-d8756a2281f0",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.325 +00:00",
            "2025-12-22 09:58:57.325 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.852Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "ef07f0c4-07de-4fcd-8dff-d8756a2281f0",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.325Z",
              "createdAt": "2025-12-22T09:58:57.325Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef07f0c4-07de-4fcd-8dff-d8756a2281f0",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.325 +00:00",
            "2025-12-22 09:58:57.325 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "ef07f0c4-07de-4fcd-8dff-d8756a2281f0",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.325 +00:00",
            "2025-12-22 09:58:57.325 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.854Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d55bff83-84ea-45fe-891f-bdc39ef23ec6",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.320Z",
              "createdAt": "2025-12-22T09:58:57.320Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d55bff83-84ea-45fe-891f-bdc39ef23ec6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.320 +00:00",
            "2025-12-22 09:58:57.320 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d55bff83-84ea-45fe-891f-bdc39ef23ec6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.320 +00:00",
            "2025-12-22 09:58:57.320 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.856Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "d55bff83-84ea-45fe-891f-bdc39ef23ec6",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.320Z",
              "createdAt": "2025-12-22T09:58:57.320Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d55bff83-84ea-45fe-891f-bdc39ef23ec6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.320 +00:00",
            "2025-12-22 09:58:57.320 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "d55bff83-84ea-45fe-891f-bdc39ef23ec6",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.320 +00:00",
            "2025-12-22 09:58:57.320 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.859Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c80d83fc-4d90-4977-bd77-14fb8d38d842",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.327Z",
              "createdAt": "2025-12-22T09:58:57.327Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c80d83fc-4d90-4977-bd77-14fb8d38d842",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.327 +00:00",
            "2025-12-22 09:58:57.327 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c80d83fc-4d90-4977-bd77-14fb8d38d842",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.327 +00:00",
            "2025-12-22 09:58:57.327 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.860Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "c80d83fc-4d90-4977-bd77-14fb8d38d842",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.327Z",
              "createdAt": "2025-12-22T09:58:57.327Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c80d83fc-4d90-4977-bd77-14fb8d38d842",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.327 +00:00",
            "2025-12-22 09:58:57.327 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "c80d83fc-4d90-4977-bd77-14fb8d38d842",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.327 +00:00",
            "2025-12-22 09:58:57.327 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.862Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "3ec5622d-f07c-4862-8b20-8ee7ef016316",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.329Z",
              "createdAt": "2025-12-22T09:58:57.329Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3ec5622d-f07c-4862-8b20-8ee7ef016316",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.329 +00:00",
            "2025-12-22 09:58:57.329 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3ec5622d-f07c-4862-8b20-8ee7ef016316",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.329 +00:00",
            "2025-12-22 09:58:57.329 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.863Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "3ec5622d-f07c-4862-8b20-8ee7ef016316",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.329Z",
              "createdAt": "2025-12-22T09:58:57.329Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3ec5622d-f07c-4862-8b20-8ee7ef016316",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.329 +00:00",
            "2025-12-22 09:58:57.329 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "3ec5622d-f07c-4862-8b20-8ee7ef016316",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.329 +00:00",
            "2025-12-22 09:58:57.329 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.866Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "408e168e-e571-4c73-a691-cc2fc1ee5448",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.330Z",
              "createdAt": "2025-12-22T09:58:57.330Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "408e168e-e571-4c73-a691-cc2fc1ee5448",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.330 +00:00",
            "2025-12-22 09:58:57.330 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "408e168e-e571-4c73-a691-cc2fc1ee5448",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.330 +00:00",
            "2025-12-22 09:58:57.330 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.867Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "408e168e-e571-4c73-a691-cc2fc1ee5448",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.330Z",
              "createdAt": "2025-12-22T09:58:57.330Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "408e168e-e571-4c73-a691-cc2fc1ee5448",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.330 +00:00",
            "2025-12-22 09:58:57.330 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "408e168e-e571-4c73-a691-cc2fc1ee5448",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.330 +00:00",
            "2025-12-22 09:58:57.330 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.869Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "06a70c20-619c-471b-ac26-79d99f6e8e76",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.332Z",
              "createdAt": "2025-12-22T09:58:57.332Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "06a70c20-619c-471b-ac26-79d99f6e8e76",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.332 +00:00",
            "2025-12-22 09:58:57.332 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "06a70c20-619c-471b-ac26-79d99f6e8e76",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.332 +00:00",
            "2025-12-22 09:58:57.332 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.870Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "06a70c20-619c-471b-ac26-79d99f6e8e76",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.332Z",
              "createdAt": "2025-12-22T09:58:57.332Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "06a70c20-619c-471b-ac26-79d99f6e8e76",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.332 +00:00",
            "2025-12-22 09:58:57.332 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "06a70c20-619c-471b-ac26-79d99f6e8e76",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.332 +00:00",
            "2025-12-22 09:58:57.332 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.875Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "a3980229-a619-4d48-9154-29bcd1615c3f",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.333Z",
              "createdAt": "2025-12-22T09:58:57.333Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a3980229-a619-4d48-9154-29bcd1615c3f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.333 +00:00",
            "2025-12-22 09:58:57.333 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a3980229-a619-4d48-9154-29bcd1615c3f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.333 +00:00",
            "2025-12-22 09:58:57.333 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.876Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "a3980229-a619-4d48-9154-29bcd1615c3f",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.333Z",
              "createdAt": "2025-12-22T09:58:57.333Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a3980229-a619-4d48-9154-29bcd1615c3f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.333 +00:00",
            "2025-12-22 09:58:57.333 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "a3980229-a619-4d48-9154-29bcd1615c3f",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.333 +00:00",
            "2025-12-22 09:58:57.333 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.879Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "69610abf-3b32-41cb-89f6-f6044907873c",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.334Z",
              "createdAt": "2025-12-22T09:58:57.334Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "69610abf-3b32-41cb-89f6-f6044907873c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.334 +00:00",
            "2025-12-22 09:58:57.334 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "69610abf-3b32-41cb-89f6-f6044907873c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.334 +00:00",
            "2025-12-22 09:58:57.334 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.880Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "69610abf-3b32-41cb-89f6-f6044907873c",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.334Z",
              "createdAt": "2025-12-22T09:58:57.334Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "69610abf-3b32-41cb-89f6-f6044907873c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.334 +00:00",
            "2025-12-22 09:58:57.334 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "69610abf-3b32-41cb-89f6-f6044907873c",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.334 +00:00",
            "2025-12-22 09:58:57.334 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.883Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "19d3a56a-45b1-4161-9204-1b1321e79b28",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.336Z",
              "createdAt": "2025-12-22T09:58:57.336Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "19d3a56a-45b1-4161-9204-1b1321e79b28",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.336 +00:00",
            "2025-12-22 09:58:57.336 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "19d3a56a-45b1-4161-9204-1b1321e79b28",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.336 +00:00",
            "2025-12-22 09:58:57.336 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.884Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "19d3a56a-45b1-4161-9204-1b1321e79b28",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.336Z",
              "createdAt": "2025-12-22T09:58:57.336Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "19d3a56a-45b1-4161-9204-1b1321e79b28",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.336 +00:00",
            "2025-12-22 09:58:57.336 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "19d3a56a-45b1-4161-9204-1b1321e79b28",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.336 +00:00",
            "2025-12-22 09:58:57.336 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.887Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "bbe5281e-b09e-4360-9c75-8baf80f5f9de",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.337Z",
              "createdAt": "2025-12-22T09:58:57.337Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bbe5281e-b09e-4360-9c75-8baf80f5f9de",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.337 +00:00",
            "2025-12-22 09:58:57.337 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bbe5281e-b09e-4360-9c75-8baf80f5f9de",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.337 +00:00",
            "2025-12-22 09:58:57.337 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.888Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "bbe5281e-b09e-4360-9c75-8baf80f5f9de",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.337Z",
              "createdAt": "2025-12-22T09:58:57.337Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bbe5281e-b09e-4360-9c75-8baf80f5f9de",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.337 +00:00",
            "2025-12-22 09:58:57.337 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bbe5281e-b09e-4360-9c75-8baf80f5f9de",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.337 +00:00",
            "2025-12-22 09:58:57.337 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.891Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "2b2329d5-6c58-4f17-b185-24981a1de492",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.340Z",
              "createdAt": "2025-12-22T09:58:57.340Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2b2329d5-6c58-4f17-b185-24981a1de492",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.340 +00:00",
            "2025-12-22 09:58:57.340 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2b2329d5-6c58-4f17-b185-24981a1de492",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.340 +00:00",
            "2025-12-22 09:58:57.340 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.892Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "2b2329d5-6c58-4f17-b185-24981a1de492",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.340Z",
              "createdAt": "2025-12-22T09:58:57.340Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2b2329d5-6c58-4f17-b185-24981a1de492",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.340 +00:00",
            "2025-12-22 09:58:57.340 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "2b2329d5-6c58-4f17-b185-24981a1de492",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.340 +00:00",
            "2025-12-22 09:58:57.340 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.895Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "aa5b3273-cc37-4657-9be4-502e445dbbfd",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.339Z",
              "createdAt": "2025-12-22T09:58:57.339Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "aa5b3273-cc37-4657-9be4-502e445dbbfd",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.339 +00:00",
            "2025-12-22 09:58:57.339 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "aa5b3273-cc37-4657-9be4-502e445dbbfd",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.339 +00:00",
            "2025-12-22 09:58:57.339 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.896Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "aa5b3273-cc37-4657-9be4-502e445dbbfd",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.339Z",
              "createdAt": "2025-12-22T09:58:57.339Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "aa5b3273-cc37-4657-9be4-502e445dbbfd",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.339 +00:00",
            "2025-12-22 09:58:57.339 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "aa5b3273-cc37-4657-9be4-502e445dbbfd",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.339 +00:00",
            "2025-12-22 09:58:57.339 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.898Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "119173e2-ade2-4bd2-9985-bb95fd6a0a34",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.342Z",
              "createdAt": "2025-12-22T09:58:57.342Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "119173e2-ade2-4bd2-9985-bb95fd6a0a34",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.342 +00:00",
            "2025-12-22 09:58:57.342 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "119173e2-ade2-4bd2-9985-bb95fd6a0a34",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.342 +00:00",
            "2025-12-22 09:58:57.342 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.899Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "119173e2-ade2-4bd2-9985-bb95fd6a0a34",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.342Z",
              "createdAt": "2025-12-22T09:58:57.342Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "119173e2-ade2-4bd2-9985-bb95fd6a0a34",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.342 +00:00",
            "2025-12-22 09:58:57.342 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "119173e2-ade2-4bd2-9985-bb95fd6a0a34",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.342 +00:00",
            "2025-12-22 09:58:57.342 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.902Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "9a40f4ee-9fd5-4c47-9cc3-8fbac7f2c0dd",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.344Z",
              "createdAt": "2025-12-22T09:58:57.344Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9a40f4ee-9fd5-4c47-9cc3-8fbac7f2c0dd",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.344 +00:00",
            "2025-12-22 09:58:57.344 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9a40f4ee-9fd5-4c47-9cc3-8fbac7f2c0dd",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.344 +00:00",
            "2025-12-22 09:58:57.344 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.902Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "9a40f4ee-9fd5-4c47-9cc3-8fbac7f2c0dd",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.344Z",
              "createdAt": "2025-12-22T09:58:57.344Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9a40f4ee-9fd5-4c47-9cc3-8fbac7f2c0dd",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.344 +00:00",
            "2025-12-22 09:58:57.344 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "9a40f4ee-9fd5-4c47-9cc3-8fbac7f2c0dd",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.344 +00:00",
            "2025-12-22 09:58:57.344 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.905Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "bb6dd29f-9954-40ca-afa7-2bbefbe9b261",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.343Z",
              "createdAt": "2025-12-22T09:58:57.343Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bb6dd29f-9954-40ca-afa7-2bbefbe9b261",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.343 +00:00",
            "2025-12-22 09:58:57.343 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bb6dd29f-9954-40ca-afa7-2bbefbe9b261",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.343 +00:00",
            "2025-12-22 09:58:57.343 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.906Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "bb6dd29f-9954-40ca-afa7-2bbefbe9b261",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.343Z",
              "createdAt": "2025-12-22T09:58:57.343Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bb6dd29f-9954-40ca-afa7-2bbefbe9b261",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.343 +00:00",
            "2025-12-22 09:58:57.343 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "bb6dd29f-9954-40ca-afa7-2bbefbe9b261",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.343 +00:00",
            "2025-12-22 09:58:57.343 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.911Z [[31merror[39m]: Get user 
notification settings service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "1ecd015b-264a-4381-94ad-528f7743379d",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.346Z",
              "createdAt": "2025-12-22T09:58:57.346Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1ecd015b-264a-4381-94ad-528f7743379d",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.346 +00:00",
            "2025-12-22 09:58:57.346 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1ecd015b-264a-4381-94ad-528f7743379d",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.346 +00:00",
            "2025-12-22 09:58:57.346 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.912Z [[31merror[39m]: Check 
notification receipt service error: Validation error
      {
        "name": "SequelizeUniqueConstraintError",
        "errors": [
          {
            "message": "user_id must be unique",
            "type": "unique violation",
            "path": "user_id",
            "value": 
"bfb3e61c-7421-4786-a92a-61166121a947",
            "origin": "DB",
            "instance": {
              "id": "1ecd015b-264a-4381-94ad-528f7743379d",
              "userId": 
"bfb3e61c-7421-4786-a92a-61166121a947",
              "inAppEnabled": true,
              "emailEnabled": true,
              "pushEnabled": true,
              "doNotDisturb": false,
              "messageNotifications": true,
              "callNotifications": true,
              "mentionNotifications": true,
              "adminNotifications": true,
              "systemNotifications": true,
              "updatedAt": "2025-12-22T09:58:57.346Z",
              "createdAt": "2025-12-22T09:58:57.346Z"
            },
            "validatorKey": "not_unique",
            "validatorName": null,
            "validatorArgs": []
          }
        ],
        "parent": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1ecd015b-264a-4381-94ad-528f7743379d",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.346 +00:00",
            "2025-12-22 09:58:57.346 +00:00"
          ]
        },
        "original": {
          "length": 282,
          "name": "error",
          "severity": "ERROR",
          "code": "23505",
          "detail": "Key 
(user_id)=(bfb3e61c-7421-4786-a92a-61166121a947) already 
exists.",
          "schema": "public",
          "table": "notification_settings",
          "constraint": 
"notification_settings_user_id_key",
          "file": "nbtinsert.c",
          "line": "664",
          "routine": "_bt_check_unique",
          "sql": "INSERT INTO \"notification_settings\" (\"
id\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"pus
h_enabled\",\"do_not_disturb\",\"message_notifications\",\"
call_notifications\",\"mention_notifications\",\"admin_noti
fications\",\"system_notifications\",\"created_at\",\"updat
ed_at\") VALUES 
($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"quiet_hours_start\",\"quiet_hours_end\",\"do_no
t_disturb\",\"message_notifications\",\"call_notifications\
",\"mention_notifications\",\"admin_notifications\",\"syste
m_notifications\",\"created_at\",\"updated_at\";",
          "parameters": [
            "1ecd015b-264a-4381-94ad-528f7743379d",
            "bfb3e61c-7421-4786-a92a-61166121a947",
            true,
            true,
            true,
            false,
            true,
            true,
            true,
            true,
            true,
            "2025-12-22 09:58:57.346 +00:00",
            "2025-12-22 09:58:57.346 +00:00"
          ]
        },
        "fields": {
          "user_id": "bfb3e61c-7421-4786-a92a-61166121a947"
        },
        "sql": "INSERT INTO \"notification_settings\" (\"id
\",\"user_id\",\"in_app_enabled\",\"email_enabled\",\"push_
enabled\",\"do_not_disturb\",\"message_notifications\",\"ca
ll_notifications\",\"mention_notifications\",\"admin_notifi
cations\",\"system_notifications\",\"created_at\",\"updated
_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) 
RETURNING \"id\",\"user_id\",\"in_app_enabled\",\"email_ena
bled\",\"push_enabled\",\"quiet_hours_start\",\"quiet_hours
_end\",\"do_not_disturb\",\"message_notifications\",\"call_
notifications\",\"mention_notifications\",\"admin_notificat
ions\",\"system_notifications\",\"created_at\",\"updated_at
\";",
        "stack": "Error: \n    at Query.run (C:\\messenger\
\backend\\node_modules\\sequelize\\src\\dialects\\postgres\
\query.js:76:25)\n    at C:\\messenger\\backend\\node_modul
es\\sequelize\\src\\sequelize.js:650:28\n    at 
processTicksAndRejections 
(node:internal/process/task_queues:105:5)\n    at 
PostgresQueryInterface.insert (C:\\messenger\\backend\\node
_modules\\sequelize\\src\\dialects\\abstract\\query-interfa
ce.js:795:21)\n    at model.save (C:\\messenger\\backend\\n
ode_modules\\sequelize\\src\\model.js:4154:35)\n    at 
Function.create (C:\\messenger\\backend\\node_modules\\sequ
elize\\src\\model.js:2305:12)\n    at 
Function.NotificationSettings.createDefaultSettings (C:\\me
ssenger\\backend\\src\\models\\NotificationSettings.js:306:
10)\n    at 
Function.NotificationSettings.getOrCreateDefault (C:\\messe
nger\\backend\\src\\models\\NotificationSettings.js:324:16)
\n    at NotificationSettingsService.getUserSettings (C:\\m
essenger\\backend\\src\\services\\notificationSettingsServi
ce.js:31:24)\n    at 
NotificationSettingsService.shouldReceiveNotification (C:\\
messenger\\backend\\src\\services\\notificationSettingsServ
ice.js:94:24)\n    at 
NotificationService.createNotification (C:\\messenger\\back
end\\src\\services\\notificationService.js:167:29)\n    at 
NotificationController.createNotification (C:\\messenger\\b
ackend\\src\\controllers\\notificationController.js:397:28)
"
      }

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.914Z [[32minfo[39m]: 
Notification created: d8ed153b-00a3-4a1e-81eb-2a6b3ce5bd64 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[e63e1ef9-5440-4921-bf56-ffcb041b21e9] POST 
/api/notifications 201 - 935ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.917Z [[32minfo[39m]: 
Notification created: c0d35e53-c3fb-4537-b222-46242989cf13 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[1b100804-8217-4c18-9fc4-d6bc79fdf875] POST 
/api/notifications 201 - 952ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.920Z [[32minfo[39m]: 
Notification created: d689c1fc-626a-491c-8f40-9d90e9eaf3e2 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[5ee8911f-aa97-4cdc-80fd-fde32252e5f8] POST 
/api/notifications 201 - 922ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.923Z [[32minfo[39m]: 
Notification created: 3b160032-5daa-40e6-9184-bbbdd63813de 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[43e9332b-ddd4-4e7f-9809-8848605c7883] POST 
/api/notifications 201 - 937ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.926Z [[32minfo[39m]: 
Notification created: 6d1e02a8-05b0-468c-9d94-1c22f0fbb53e 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.928Z [[32minfo[39m]: 
Notification created: 1d3e08e9-7dc2-41d0-adcd-cf295ae5ccc3 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.930Z [[32minfo[39m]: 
Notification created: c52029f7-f829-4b60-a973-c85f00f0daea 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.932Z [[32minfo[39m]: 
Notification created: 28c4ce3a-6b43-4962-a760-95670195d6e1 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.934Z [[32minfo[39m]: 
Notification created: 4e37e36e-5f6a-44fd-b8ad-7fcc377fb723 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.938Z [[32minfo[39m]: 
Notification created: f5fd7b3a-13de-44f3-9994-a87dfefd0507 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[521f6be7-771f-48d4-8b8f-df4c2c87a68c] POST 
/api/notifications 201 - 950ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.941Z [[32minfo[39m]: 
Notification created: e382ab89-8ee6-4c05-bf4d-6d17bd29b2b3 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[21477f9c-6f84-4559-90ca-6d8baf00ca50] POST 
/api/notifications 201 - 949ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.943Z [[32minfo[39m]: 
Notification created: c533f4f3-594d-4df7-94e8-2ac9971fc2e0 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[925add9a-304a-4592-8f11-176a0c6620ea] POST 
/api/notifications 201 - 948ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:57.947Z [[32minfo[39m]: 
Notification created: 74230d24-5046-4919-a962-3552d9d08849 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:57] 
[14acd720-23b7-4502-a1e1-b8ec90bbb77b] POST 
/api/notifications 201 - 950ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:57.953Z [[32minfo[39m]: 
Notification created: d2f804bc-7504-4583-9b15-4a770023eee2 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.955Z [[32minfo[39m]: 
Notification created: d4640a12-a647-4a41-bf55-a21afa56b08e 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.957Z [[32minfo[39m]: 
Notification created: 9c814a6e-a90a-4243-996c-811fe70f3ae4 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.959Z [[32minfo[39m]: 
Notification created: 38af6d9a-4851-4d66-bb55-cc03c028b756 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.961Z [[32minfo[39m]: 
Notification created: 874ee0cb-0528-49f1-ab46-ed80f9038d80 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.963Z [[32minfo[39m]: 
Notification created: c2804ae7-037f-4e0b-af37-82421c990f0c 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.966Z [[32minfo[39m]: 
Notification created: b1eb5850-5b41-4b3a-80b3-bf28c644b2e1 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.970Z [[32minfo[39m]: 
Notification created: 3a09b529-c815-4bee-b356-deb6a6f68e8c 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.974Z [[32minfo[39m]: 
Notification created: f7e67a9a-4e41-482a-88a5-86c9576ecc4b 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.977Z [[32minfo[39m]: 
Notification created: 906278d6-d895-4d28-b3c8-42b5ccd59209 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.980Z [[32minfo[39m]: 
Notification created: 81b4c6ec-0e3b-4faf-bfef-7854bedb9a08 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.984Z [[32minfo[39m]: 
Notification created: 29980a9e-b98a-45c6-8f4b-16638bdb8e6b 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.986Z [[32minfo[39m]: 
Notification created: 7716360f-8b1e-4eb0-9b4a-4b13da29526c 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.989Z [[32minfo[39m]: 
Notification created: 6f20dfa2-db0a-4780-a946-1f92ee876043 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.991Z [[32minfo[39m]: 
Notification created: c035937e-7305-4e4b-8a69-78c0b57ebbc6 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.994Z [[32minfo[39m]: 
Notification created: b818e29a-7a10-4f15-bb08-09cc34f41257 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.995Z [[32minfo[39m]: 
Notification created: fca89ab8-113d-4bbc-95f2-08130141ced4 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:57.997Z [[32minfo[39m]: 
Notification created: f4374d4b-6315-4696-a73f-ce9b53e2d253 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.000Z [[32minfo[39m]: 
Notification created: 2bfc8741-f03f-4eb2-b625-5fafb430b0ed 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.002Z [[32minfo[39m]: 
Notification created: 282effb1-6f4a-4324-a402-524de1cb6305 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.003Z [[32minfo[39m]: 
Notification created: 1ffc353c-11d0-4666-a029-e5025ec96921 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.008Z [[32minfo[39m]: 
Notification created: 5a6a3bb9-009a-4324-8b8a-368003479c01 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.010Z [[32minfo[39m]: 
Notification created: 18e9b541-4ad8-4ef8-a66a-1bd8e0a0ba57 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.013Z [[32minfo[39m]: 
Notification created: 0762def0-156c-448b-af00-5ce214e5cf3b 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.015Z [[32minfo[39m]: 
Notification created: f3cf78cd-a26b-4811-a404-6514fb90662f 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.017Z [[32minfo[39m]: 
Notification created: 858dd0e1-26ed-4394-8fa5-e661b8ddd93a 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.018Z [[32minfo[39m]: 
Notification created: 03701741-9c4e-44dc-9acf-541fdf407450 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.020Z [[32minfo[39m]: 
Notification created: 1f2d1a47-6b4a-4d6e-a5c6-b9dc46d8ce26 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.023Z [[32minfo[39m]: 
Notification created: a162e5ce-9746-409d-a091-75f47844a8dd 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.026Z [[32minfo[39m]: 
Notification created: 1206388b-4021-468a-b0e1-b7fcb24c5b7f 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.029Z [[32minfo[39m]: 
Notification created: f2f59125-5964-43c3-a1f5-0c7f43266414 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.033Z [[32minfo[39m]: 
Notification created: 7173c09e-3e01-4607-ba61-84575cf7fad8 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.036Z [[32minfo[39m]: 
Notification created: 2ff13f1e-8012-4201-940f-49f06714f1d8 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.038Z [[32minfo[39m]: 
Notification created: fcf07c8f-8e18-4cbf-a30b-cc0c91500b7b 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.042Z [[32minfo[39m]: 
Notification created: 7f81d3e0-98e9-46aa-885e-e900a1760ed1 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.045Z [[32minfo[39m]: 
Notification created: 0d1277c6-9aed-4ba8-bd45-c253ee9101b2 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.048Z [[32minfo[39m]: 
Notification created: 9d2b89e6-b9e5-49e0-91d2-dc65540ae3e4 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.051Z [[32minfo[39m]: 
Notification created: 6d1e02a8-05b0-468c-9d94-1c22f0fbb53e 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[6e6e840b-9ce9-493d-9120-8e1aed1e8f40] POST 
/api/notifications 201 - 1052ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.054Z [[32minfo[39m]: 
Notification created: 4e37e36e-5f6a-44fd-b8ad-7fcc377fb723 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[d1ecf485-d406-4544-80a2-2105d392ef47] POST 
/api/notifications 201 - 1048ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.058Z [[32minfo[39m]: 
Notification created: d2f804bc-7504-4583-9b15-4a770023eee2 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[8d789dc5-3038-4d58-a01e-234d8ca14269] POST 
/api/notifications 201 - 1053ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.062Z [[32minfo[39m]: 
Notification created: d4640a12-a647-4a41-bf55-a21afa56b08e 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[8b321c79-0546-4ad1-87d0-ee81fb01ddad] POST 
/api/notifications 201 - 1054ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.065Z [[32minfo[39m]: 
Notification created: 9c814a6e-a90a-4243-996c-811fe70f3ae4 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[256e727e-3808-4a91-b12d-d9b9d5676bce] POST 
/api/notifications 201 - 1056ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.068Z [[32minfo[39m]: 
Notification created: 38af6d9a-4851-4d66-bb55-cc03c028b756 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[5383d1ad-9974-4ef6-b086-245fc4705d94] POST 
/api/notifications 201 - 1058ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.071Z [[32minfo[39m]: 
Notification created: 874ee0cb-0528-49f1-ab46-ed80f9038d80 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[b72412fc-7c28-40f9-876e-7268e6664b0d] POST 
/api/notifications 201 - 1059ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.074Z [[32minfo[39m]: 
Notification created: c2804ae7-037f-4e0b-af37-82421c990f0c 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[1dbedbb9-1e0a-4dd0-bdd7-1d42faf43889] POST 
/api/notifications 201 - 1061ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.076Z [[32minfo[39m]: 
Notification created: b1eb5850-5b41-4b3a-80b3-bf28c644b2e1 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[c6b8a08d-a881-42cd-b029-32a13d0eb7f1] POST 
/api/notifications 201 - 1062ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.079Z [[32minfo[39m]: 
Notification created: 3a09b529-c815-4bee-b356-deb6a6f68e8c 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[59815430-9356-4287-9c1a-1799c787f72f] POST 
/api/notifications 201 - 1061ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.081Z [[32minfo[39m]: 
Notification created: f7e67a9a-4e41-482a-88a5-86c9576ecc4b 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[fc6a62a1-57d1-4003-88f4-bd6607346332] POST 
/api/notifications 201 - 1066ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.083Z [[32minfo[39m]: 
Notification created: 906278d6-d895-4d28-b3c8-42b5ccd59209 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[4bf5f353-df1b-4368-9034-f42310e9be46] POST 
/api/notifications 201 - 1063ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.085Z [[32minfo[39m]: 
Notification created: 81b4c6ec-0e3b-4faf-bfef-7854bedb9a08 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[8cb7c5d6-e7ad-4fa2-a856-85eae99c692f] POST 
/api/notifications 201 - 1061ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.088Z [[32minfo[39m]: 
Notification created: 29980a9e-b98a-45c6-8f4b-16638bdb8e6b 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[acf355af-9240-4faf-8e84-ff2c686d77f9] POST 
/api/notifications 201 - 1066ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.091Z [[32minfo[39m]: 
Notification created: 7716360f-8b1e-4eb0-9b4a-4b13da29526c 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[8a881ac7-3a36-45ef-b45c-fc9132fd969f] POST 
/api/notifications 201 - 1066ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.094Z [[32minfo[39m]: 
Notification created: 6f20dfa2-db0a-4780-a946-1f92ee876043 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[7a482c47-050b-42e9-af27-df16adfbce8a] POST 
/api/notifications 201 - 1066ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.097Z [[32minfo[39m]: 
Notification created: c035937e-7305-4e4b-8a69-78c0b57ebbc6 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.099Z [[32minfo[39m]: 
Notification created: b818e29a-7a10-4f15-bb08-09cc34f41257 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.101Z [[32minfo[39m]: 
Notification created: fca89ab8-113d-4bbc-95f2-08130141ced4 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.104Z [[32minfo[39m]: 
Notification created: f4374d4b-6315-4696-a73f-ce9b53e2d253 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.107Z [[32minfo[39m]: 
Notification created: 2bfc8741-f03f-4eb2-b625-5fafb430b0ed 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.112Z [[32minfo[39m]: 
Notification created: 282effb1-6f4a-4324-a402-524de1cb6305 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.115Z [[32minfo[39m]: 
Notification created: 1ffc353c-11d0-4666-a029-e5025ec96921 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.118Z [[32minfo[39m]: 
Notification created: 5a6a3bb9-009a-4324-8b8a-368003479c01 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.121Z [[32minfo[39m]: 
Notification created: 18e9b541-4ad8-4ef8-a66a-1bd8e0a0ba57 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.124Z [[32minfo[39m]: 
Notification created: 0762def0-156c-448b-af00-5ce214e5cf3b 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.128Z [[32minfo[39m]: 
Notification created: f3cf78cd-a26b-4811-a404-6514fb90662f 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      2025-12-22T09:58:58.130Z [[32minfo[39m]: 
Notification created: 4e9e5480-a3e2-42a8-81a5-b6d88a7e4e97 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.134Z [[32minfo[39m]: 
Notification created: bef37ab6-9672-493d-a4a2-7452a6660959 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.137Z [[32minfo[39m]: 
Notification created: 4f4ef2aa-6fec-4697-a103-b4bbdfae598a 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.log
      2025-12-22T09:58:58.140Z [[32minfo[39m]: 
Notification created: 15a9ee50-45b0-4fbe-a893-ccf7982f5eaa 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:412:7)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.143Z [[32minfo[39m]: 
Notification created: 1d3e08e9-7dc2-41d0-adcd-cf295ae5ccc3 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.146Z [[32minfo[39m]: 
Notification created: c52029f7-f829-4b60-a973-c85f00f0daea 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.149Z [[32minfo[39m]: 
Notification created: 28c4ce3a-6b43-4962-a760-95670195d6e1 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.175Z [[32minfo[39m]: 
Notification created: 858dd0e1-26ed-4394-8fa5-e661b8ddd93a 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.177Z [[32minfo[39m]: 
Notification created: 03701741-9c4e-44dc-9acf-541fdf407450 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.179Z [[32minfo[39m]: 
Notification created: 1f2d1a47-6b4a-4d6e-a5c6-b9dc46d8ce26 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.181Z [[32minfo[39m]: 
Notification created: a162e5ce-9746-409d-a091-75f47844a8dd 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.183Z [[32minfo[39m]: 
Notification created: 1206388b-4021-468a-b0e1-b7fcb24c5b7f 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.185Z [[32minfo[39m]: 
Notification created: f2f59125-5964-43c3-a1f5-0c7f43266414 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.188Z [[32minfo[39m]: 
Notification created: 7173c09e-3e01-4607-ba61-84575cf7fad8 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.190Z [[32minfo[39m]: 
Notification created: 2ff13f1e-8012-4201-940f-49f06714f1d8 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.191Z [[32minfo[39m]: 
Notification created: fcf07c8f-8e18-4cbf-a30b-cc0c91500b7b 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.193Z [[32minfo[39m]: 
Notification created: 7f81d3e0-98e9-46aa-885e-e900a1760ed1 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.199Z [[32minfo[39m]: 
Notification created: 0d1277c6-9aed-4ba8-bd45-c253ee9101b2 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.201Z [[32minfo[39m]: 
Notification created: 9d2b89e6-b9e5-49e0-91d2-dc65540ae3e4 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.203Z [[32minfo[39m]: 
Notification created: 4e9e5480-a3e2-42a8-81a5-b6d88a7e4e97 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.205Z [[32minfo[39m]: 
Notification created: bef37ab6-9672-493d-a4a2-7452a6660959 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.207Z [[32minfo[39m]: 
Notification created: 4f4ef2aa-6fec-4697-a103-b4bbdfae598a 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.warn
      ΓÜá∩╕Å WebSocket service: this.io is undefined

    [0m [90m 900 |[39m     [90m// Skip if WebSocket 
service is not properly initialized[39m
     [90m 901 |[39m     [36mif[39m 
([33m![39m[36mthis[39m[33m.[39mio) {
    [31m[1m>[22m[39m[90m 902 |[39m       
console[33m.[39mwarn([32m'ΓÜá∩╕Å WebSocket service: 
this.io is undefined'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 903 |[39m       [36mreturn[39m[33m;[39m
     [90m 904 |[39m     }
     [90m 905 |[39m[0m

      at WebSocketService.broadcastToUser 
(src/services/websocket.js:902:15)
      at NotificationController.emitNotificationUpdate 
(src/controllers/notificationController.js:471:25)
      at NotificationController.createNotification 
(src/controllers/notificationController.js:426:7)

    console.log
      2025-12-22T09:58:58.209Z [[32minfo[39m]: 
Notification created: 15a9ee50-45b0-4fbe-a893-ccf7982f5eaa 
for user bfb3e61c-7421-4786-a92a-61166121a947

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[92a4ccaf-5893-4877-a6ec-3655a0aae37a] POST 
/api/notifications 201 - 1070ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[1f07f604-9e87-4eaa-851d-e6b172451a8a] POST 
/api/notifications 201 - 1070ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[2b95ac4c-265c-4e42-887c-ef4e49c2fbf2] POST 
/api/notifications 201 - 1072ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[8c1af4b8-9e93-4ad4-8a10-0449d5333c61] POST 
/api/notifications 201 - 1071ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[65680cc9-4055-4422-b72a-9d5c57246b94] POST 
/api/notifications 201 - 1078ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[cff16dfc-87d9-46d7-a437-1972e99f4f71] POST 
/api/notifications 201 - 1080ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[9e062cec-a3dd-426c-bbd3-91e8149f4386] POST 
/api/notifications 201 - 1080ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[e8fa7418-00b1-449c-ad67-95f2697a4db2] POST 
/api/notifications 201 - 1085ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[d1a826b6-729f-4eea-a33b-e8b87bddd9ad] POST 
/api/notifications 201 - 1086ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[ecf84a90-3364-432a-a68a-2d5028ae2498] POST 
/api/notifications 201 - 1087ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[7ee128f1-ccee-4f75-ba08-47677795b446] POST 
/api/notifications 201 - 1086ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[039e20a1-66bf-48a8-90e7-fc18f412eaac] POST 
/api/notifications 201 - 1142ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[043f875e-3737-400f-8e71-088f7356de8d] POST 
/api/notifications 201 - 1146ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[c70e1ada-3813-42a5-ac56-c1a888858c61] POST 
/api/notifications 201 - 1145ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[6a24b8f9-d34e-481b-af79-9d33b87e62cf] POST 
/api/notifications 201 - 1132ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[3f2c0f39-b96d-4073-8714-6a81bcc07b8a] POST 
/api/notifications 201 - 1136ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[65496580-9614-4bc5-98a5-e17b9bfd34d1] POST 
/api/notifications 201 - 1135ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[38c988ac-d0a9-4503-bd93-839585e56f28] POST 
/api/notifications 201 - 1128ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[654bcc83-7f11-4d9e-905d-3ddcca741e5d] POST 
/api/notifications 201 - 1128ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[f89b5f48-e4f6-4420-92f6-482e14589efa] POST 
/api/notifications 201 - 1130ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[8146fb11-e2bb-41fc-8be8-ea225342c26b] POST 
/api/notifications 201 - 1143ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[2b6f89a0-157f-4345-905f-07211f3bfa64] POST 
/api/notifications 201 - 1143ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[3faac262-ad56-4234-948a-b19c4410adbd] POST 
/api/notifications 201 - 1143ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[7686fae4-dd13-4062-8147-82ab748ba804] POST 
/api/notifications 201 - 1145ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[2b2cb36e-2b16-438d-b92a-15225eb89979] POST 
/api/notifications 201 - 1160ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[122b5767-69d2-430c-af52-be7acd3b98b8] POST 
/api/notifications 201 - 1151ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[603c6f64-2b22-492a-8304-046dd7171da8] POST 
/api/notifications 201 - 1151ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[68e0f1d8-d07e-4c44-a354-1f3485c25613] POST 
/api/notifications 201 - 1148ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[11eefeb7-523e-483f-9f26-38de1e801872] POST 
/api/notifications 201 - 1149ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      [2025-12-22 10:58:58] 
[95b3bdd5-fb6e-4d71-91dd-846c8fd4d274] POST 
/api/notifications 201 - 1150ms - POST /api/notifications

      at Console.log (node_modules/winston/lib/winston/tran
sports/console.js:87:23)

    console.log
      ≡ƒº╣ Cleaning up test data...

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:259:13)

    console.log
      Γ£à Test data cleanup completed

      at TestDatabaseSeeder.cleanup 
(tests/testDatabaseSeeder.js:308:15)

  ΓùÅ Notification System ΓÇ║ Integration Tests ΓÇ║ should 
handle rate limiting for notification creation

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 1382 |[39m       [90m// Some requests 
should be rate limited (429 status)[39m
     [90m 1383 |[39m       [36mconst[39m 
rateLimitedResponses [33m=[39m 
responses[33m.[39mfilter(r [33m=>[39m 
r[33m.[39mstatus [33m===[39m [35m429[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 1384 |[39m       expect(rate
LimitedResponses[33m.[39mlength)[33m.[39mtoBeGreaterTha
n([35m0[39m)[33m;[39m
     [90m      |[39m                                     
      [31m[1m^[22m[39m
     [90m 1385 |[39m
     [90m 1386 |[39m       [90m// Successful requests 
should be within limits[39m
     [90m 1387 |[39m       [36mconst[39m 
successfulResponses [33m=[39m 
responses[33m.[39mfilter(r [33m=>[39m 
r[33m.[39mstatus [33m===[39m 
[35m201[39m)[33m;[39m[0m

      at Object.<anonymous> 
(tests/notification.test.js:1384:43)

A worker process has failed to exit gracefully and has 
been force exited. This is likely caused by tests leaking 
due to improper teardown. Try running with 
--detectOpenHandles to find leaks. Active timers can also 
cause this, ensure that .unref() was called on them.
Test Suites: 3 failed, 2 passed, 5 total
Tests:       14 failed, 122 passed, 136 total
Snapshots:   0 total
Time:        33.915 s, estimated 103 s
Ran all test suites.
Force exiting Jest: Have you considered using 
`--detectOpenHandles` to detect async operations that kept 
running after all tests finished?
