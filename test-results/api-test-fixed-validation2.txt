[94m============================================================================[0m
[94m         MESSENGER API TEST SUITE - FIXED VERSION[0m
[94m============================================================================[0m

Starting API tests at 22/10/2025 23:32:25.97
API URL: http://localhost:4000

[96m============================================================================[0m
[96mSECTION 1: HEALTH CHECK ENDPOINTS (4 endpoints)[0m
[96m============================================================================[0m

[1] Testing GET /health - Health Check
[92mâœ“ PASS[0m - Health check endpoint accessible [HTTP 200]

[2] Testing GET /health/detailed - Detailed Health Check
[92mâœ“ PASS[0m - Detailed health check accessible [HTTP 200]

[3] Testing GET /health/ready - Readiness Check
[92mâœ“ PASS[0m - Readiness check accessible [HTTP 200]

[4] Testing GET /health/live - Liveness Check
[92mâœ“ PASS[0m - Liveness check accessible [HTTP 200]

[96m============================================================================[0m
[96mSECTION 2: AUTHENTICATION ENDPOINTS (9 endpoints)[0m
[96m============================================================================[0m

[5] Testing POST /api/auth/register - User Registration
[92mâœ“ PASS[0m - User registration successful [HTTP 201]
  New User ID: 55113b36-a0ec-4d37-8e45-a44da9793dc3

[6] Testing POST /api/auth/login - User Login
[92mâœ“ PASS[0m - User login successful [HTTP 200]
  Access Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiO...

[7] Testing GET /api/auth/me - Get Current User Profile
[92mâœ“ PASS[0m - User profile retrieved [HTTP 200]

[8] Testing POST /api/auth/refresh - Refresh Access Token
[92mâœ“ PASS[0m - Token refresh successful [HTTP 200]

[96m============================================================================[0m
[96mSECTION 3: MESSAGING ENDPOINTS (9 endpoints)[0m
[96m============================================================================[0m

[9] Testing POST /api/messages - Send New Message
[91mâœ— FAIL[0m - Failed to send message [HTTP 401]
{"success":false,"error":{"type":"SESSION_EXPIRED","message":"Session has expired or is invalid"}}
[10] Testing GET /api/messages?conversationWith={userId} - Get Conversation
[91mâœ— FAIL[0m - Failed to get conversation [HTTP 401]

[94m============================================================================[0m
[94m                        TEST SUMMARY[0m
[94m============================================================================[0m

Total Tests:    10
[92mPassed:         8[0m
[91mFailed:         2[0m
[93mSkipped:        0[0m
Success Rate:   80%

[91mSome tests failed. Please review the output above.[0m
