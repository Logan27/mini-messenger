
@import "tailwindcss";
@plugin "tailwindcss-animate";
@custom-variant dark (&:is(.dark *));

@theme inline {
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-bubble-out: var(--bubble-out);
  --color-bubble-out-text: var(--bubble-out-text);
  --color-bubble-in: var(--bubble-in);
  --color-bubble-in-text: var(--bubble-in-text);
  --color-online: var(--online);
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-error: var(--error);
}

/* Telegram-inspired theme - Light Mode */
:root {
  /* Typography */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;

  /* Primary (Telegram Blue) */
  --primary: 207 100% 48%;           /* #0088cc */
  --primary-hover: 207 100% 42%;     /* #0077b3 */
  --primary-active: 207 100% 38%;    /* #006ba3 */
  --primary-foreground: 0 0% 100%;   /* #ffffff */

  /* Background */
  --background: 0 0% 100%;           /* #ffffff */
  --background-secondary: 0 0% 98%;  /* #fafafa */
  --chat-bg: 214 32% 91%;            /* #dfe5e9 */
  --foreground: 0 0% 15%;            /* #262626 */

  /* Text */
  --muted-foreground: 0 0% 45%;      /* #737373 */

  /* Message Bubbles */
  --bubble-out: 207 100% 48%;        /* #0088cc (outgoing) */
  --bubble-out-text: 0 0% 100%;      /* #ffffff */
  --bubble-in: 0 0% 100%;            /* #ffffff (incoming) */
  --bubble-in-text: 0 0% 15%;        /* #262626 */

  /* Status Colors */
  --success: 142 71% 45%;            /* #28a745 */
  --warning: 45 100% 51%;            /* #ffc107 */
  --error: 0 84% 60%;                /* #f44336 */
  --destructive: 0 84% 60%;          /* #f44336 */
  --info: 199 89% 48%;               /* #0dcaf0 */

  /* Borders */
  --border: 0 0% 90%;                /* #e5e5e5 */
  --divider: 0 0% 93%;               /* #eeeeee */
  --input: 0 0% 90%;                 /* #e5e5e5 */
  --ring: 207 100% 48%;              /* #0088cc */

  /* Online Indicator */
  --online: 142 71% 45%;             /* #28a745 */

  /* Unread Badge */
  --badge: 0 0% 60%;                 /* #999999 (muted) */
  --badge-important: 207 100% 48%;   /* #0088cc (important) */

  /* Card & UI */
  --card: 0 0% 100%;
  --card-foreground: 0 0% 15%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 15%;
  --secondary: 0 0% 98%;
  --secondary-foreground: 0 0% 15%;
  --muted: 0 0% 97%;
  --accent: 0 0% 97%;
  --accent-foreground: 0 0% 15%;

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
  --spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
}

/* Telegram-inspired theme - Dark Mode */
.dark {
  /* Primary */
  --primary: 207 100% 58%;           /* #5bb3e8 */
  --primary-hover: 207 100% 65%;     /* #78c4ed */
  --primary-active: 207 100% 70%;    /* #8fd0f1 */
  --primary-foreground: 0 0% 100%;   /* #ffffff */

  /* Background */
  --background: 216 28% 7%;          /* #0e1621 */
  --background-secondary: 215 27% 10%; /* #151e27 */
  --chat-bg: 215 26% 12%;            /* #182533 */
  --foreground: 0 0% 95%;            /* #f2f2f2 */

  /* Text */
  --muted-foreground: 0 0% 70%;      /* #b3b3b3 */

  /* Message Bubbles */
  --bubble-out: 207 100% 38%;        /* #2b5278 */
  --bubble-out-text: 0 0% 100%;      /* #ffffff */
  --bubble-in: 215 27% 17%;          /* #212e3a */
  --bubble-in-text: 0 0% 95%;        /* #f2f2f2 */

  /* Status Colors */
  --success: 142 71% 45%;            /* #28a745 */
  --warning: 45 100% 51%;            /* #ffc107 */
  --error: 0 84% 60%;                /* #f44336 */
  --destructive: 0 84% 60%;          /* #f44336 */
  --info: 199 89% 48%;               /* #0dcaf0 */

  /* Borders */
  --border: 0 0% 20%;                /* #333333 */
  --divider: 0 0% 15%;               /* #262626 */
  --input: 0 0% 20%;                 /* #333333 */
  --ring: 207 100% 58%;              /* #5bb3e8 */

  /* Online Indicator */
  --online: 142 71% 45%;             /* #28a745 */

  /* Unread Badge */
  --badge: 0 0% 50%;                 /* #808080 (muted) */
  --badge-important: 207 100% 58%;   /* #5bb3e8 (important) */

  /* Card & UI */
  --card: 215 27% 10%;
  --card-foreground: 0 0% 95%;
  --popover: 215 27% 10%;
  --popover-foreground: 0 0% 95%;
  --secondary: 215 27% 17%;
  --secondary-foreground: 0 0% 95%;
  --muted: 215 27% 17%;
  --accent: 215 27% 17%;
  --accent-foreground: 0 0% 95%;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.6);
}

@layer base {
  * {
    @apply border-border;
  }

  /* Custom focus ring (matches Telegram) */
  *:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
    border-radius: 4px;
  }

  *:focus {
    outline: none;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
  }

  /* Screen reader only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}

/* Animations */
@layer utilities {
  /* Message appear animation */
  @keyframes message-appear {
    from {
      opacity: 0;
      transform: translateY(10px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .message-enter {
    animation: message-appear 250ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Status change animation */
  @keyframes status-change {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
  }

  .status-icon {
    animation: status-change 300ms ease-out;
  }

  /* Typing indicator animation */
  @keyframes typing-dot {
    0%, 60%, 100% { transform: translateY(0); }
    30% { transform: translateY(-8px); }
  }

  .typing-dot {
    animation: typing-dot 1.4s ease-in-out infinite;
  }

  .typing-dot:nth-child(1) { animation-delay: 0ms; }
  .typing-dot:nth-child(2) { animation-delay: 150ms; }
  .typing-dot:nth-child(3) { animation-delay: 300ms; }

  /* Skeleton pulse animation */
  @keyframes skeleton-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  .skeleton {
    animation: skeleton-pulse 2s ease-in-out infinite;
  }

  /* Modal animations */
  @keyframes modal-overlay {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes modal-content {
    from {
      opacity: 0;
      transform: scale(0.95) translateY(-20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  .modal-overlay {
    animation: modal-overlay var(--transition-fast) forwards;
  }

  .modal-content {
    animation: modal-content var(--transition-base) forwards;
  }
}