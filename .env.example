# ===========================================
# Messenger Application - Environment Variables
# ===========================================
# Copy this file to .env and update values

# ===========================================
# General Configuration
# ===========================================
NODE_ENV=development
BUILD_TARGET=production  # development or production

# ===========================================
# Port Configuration
# ===========================================
BACKEND_PORT=4000
FRONTEND_PORT=3000

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
DB_NAME=messenger
DB_USER=messenger
DB_PASSWORD=messenger_password
DB_HOST=postgres
DB_PORT=5432
DATABASE_URL=postgresql://messenger:messenger_password@postgres:5432/messenger

# ===========================================
# Redis Configuration
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=messenger_redis_password
REDIS_URL=redis://:messenger_redis_password@redis:6379

# ===========================================
# JWT Configuration
# ===========================================
# IMPORTANT: Change these secrets in production (minimum 32 characters)
JWT_SECRET=your-secret-key-change-in-production-32-chars-min-please-use-secure-random
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production-32-chars-min-please-secure
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ===========================================
# Session Configuration
# ===========================================
SESSION_SECRET=your-session-secret-change-in-production-min-32-characters-please

# ===========================================
# CSRF Configuration
# ===========================================
CSRF_SECRET=your-csrf-secret-change-this-in-production-minimum-32-chars

# ===========================================
# CORS Configuration
# ===========================================
CORS_ORIGIN=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# ===========================================
# Mobile App Configuration
# ===========================================
MOBILE_APP_SECRET=dev_mobile_secret_change_in_production_min_32_chars

# ===========================================
# File Upload Configuration
# ===========================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/zip

# ===========================================
# ClamAV Configuration
# ===========================================
CLAMAV_HOST=clamav
CLAMAV_PORT=3310

# ===========================================
# Email Configuration (Optional for dev)
# ===========================================
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@messenger.local
AUTO_VERIFY_EMAIL=true  # Set to false in production to require email verification

# ===========================================
# Firebase Configuration (for push notifications)
# ===========================================
FIREBASE_PROJECT_ID=
FIREBASE_CLIENT_EMAIL=
FIREBASE_PRIVATE_KEY=

# ===========================================
# Frontend Configuration
# ===========================================
VITE_API_URL=http://localhost:4000
VITE_SOCKET_URL=http://localhost:4000

# ===========================================
# Development Tools (pgAdmin, Redis Commander)
# ===========================================
PGADMIN_EMAIL=admin@messenger.local
PGADMIN_PASSWORD=admin_password

# ===========================================
# Production Configuration (Optional)
# ===========================================
# SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem
# DOMAIN=yourdomain.com

# ===========================================
# Feature Flags
# ===========================================
FEATURE_VIDEO_CALLS=true
FEATURE_FILE_SHARING=true
FEATURE_E2E_ENCRYPTION=true

# ===========================================
# Monitoring (Optional)
# ===========================================
# ENABLE_PROMETHEUS=true
# ENABLE_GRAFANA=true
